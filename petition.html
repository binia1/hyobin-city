<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹œì¥ì—ê²Œ ë°”ë€ë‹¤ - íš¨ë¹ˆê´‘ì—­ì‹œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style> 
        body { font-family: 'Noto Sans KR', sans-serif; } 
        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal {
            transition: opacity 0.2s ease-in-out;
            opacity: 0;
            pointer-events: none;
        }
        .modal.active {
            opacity: 1;
            pointer-events: auto;
        }
        .modal-content {
            transform: scale(0.95);
            transition: transform 0.2s ease-in-out;
        }
        .modal.active .modal-content {
            transform: scale(1);
        }
        /* ê²½ê³  ëª¨ë‹¬ ì• ë‹ˆë©”ì´ì…˜ (ì§„ë™ íš¨ê³¼) */
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }
        .shake-effect {
            animation: shake 0.5s;
            animation-iteration-count: 1;
        }
    </style>
</head>
<body class="bg-slate-50 min-h-screen flex flex-col relative">

    <!-- í—¤ë” -->
    <header class="bg-[#1e293b] text-white sticky top-0 z-40">
        <div class="max-w-6xl mx-auto px-4 h-16 flex justify-between items-center">
            <div class="flex items-center cursor-pointer gap-3" onclick="location.href='index.html'">
                <img src="logo.png" alt="íš¨ë¹ˆê´‘ì—­ì‹œ ë¡œê³ " class="h-10 w-auto object-contain" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                <div class="w-32 h-9 bg-white rounded hidden items-center justify-center text-slate-500 text-xs font-bold shadow-md">[ë¡œê³  ì´ë¯¸ì§€]</div>
                <span class="text-2xl font-bold tracking-wider">íš¨ë¹ˆê´‘ì—­ì‹œ</span>
            </div>
            <div class="flex items-center space-x-5 text-gray-300">
                <button onclick="location.href='index.html'" class="hover:text-white flex items-center gap-1">
                    <i data-lucide="home" class="w-5 h-5"></i>
                    <span class="text-sm font-bold">ë©”ì¸ìœ¼ë¡œ</span>
                </button>
            </div>
        </div>
    </header>

    <!-- ì„œë¸Œ ë¹„ì£¼ì–¼ -->
    <div class="w-full bg-slate-700 py-12 text-center text-white relative overflow-hidden">
        <div class="absolute inset-0 bg-blue-900 opacity-70"></div>
        <img src="mayor_bg.jpg" class="absolute inset-0 w-full h-full object-cover -z-10" onerror="this.style.display='none'">
        <div class="relative z-10">
            <h1 class="text-4xl font-black mb-3">ì‹œì¥ì—ê²Œ ë°”ë€ë‹¤</h1>
            <p class="text-slate-200 font-medium text-lg">ì‹œë¯¼ ì—¬ëŸ¬ë¶„ì˜ ì†Œì¤‘í•œ ì˜ê²¬ì„ ê²½ì²­í•˜ê² ìŠµë‹ˆë‹¤.</p>
        </div>
    </div>

    <!-- ì»¨í…ì¸  ì˜ì—­ -->
    <main class="max-w-6xl mx-auto px-4 py-10 w-full mb-20">

        <!-- ì‹œì¥ ì¸ì‚¬ë§ -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-8 mb-10 flex flex-col md:flex-row items-center gap-8">
            <div class="w-32 h-32 rounded-full overflow-hidden border-4 border-slate-100 shadow-lg shrink-0">
                <img src="mayor.jpg" alt="ë°•íš¨ë¹ˆ ì‹œì¥" class="w-full h-full object-cover" onerror="this.src='https://via.placeholder.com/150?text=Mayor'">
            </div>
            <div>
                <h3 class="text-2xl font-bold text-slate-800 mb-2">"ì‹œë¯¼ì´ ì£¼ì¸ì¸ íš¨ë¹ˆ, í•¨ê»˜ ë§Œë“¤ì–´ê°‘ì‹œë‹¤."</h3>
                <p class="text-slate-600 leading-relaxed text-sm md:text-base">
                    ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ, íš¨ë¹ˆì‹œì¥ ë°•íš¨ë¹ˆì…ë‹ˆë‹¤.<br>
                    ì´ê³³ì€ ì‹œì •ì— ëŒ€í•œ ê±´ì˜ì‚¬í•­, ë¶ˆí¸ì‚¬í•­, ì •ì±… ì œì•ˆ ë“± ì—¬ëŸ¬ë¶„ì˜ ëª©ì†Œë¦¬ë¥¼ ììœ ë¡­ê²Œ ë“¤ë ¤ì£¼ëŠ” ê³µê°„ì…ë‹ˆë‹¤.<br>
                    ì‘ì€ ì˜ê²¬ í•˜ë‚˜ë„ ë†“ì¹˜ì§€ ì•Šê³  ê¼¼ê¼¼íˆ ì±™ê²¨, ì‹œë¯¼ì´ í–‰ë³µí•œ íš¨ë¹ˆê´‘ì—­ì‹œë¥¼ ë§Œë“¤ê² ìŠµë‹ˆë‹¤.
                </p>
            </div>
        </section>

        <!-- ê¸€ì“°ê¸° ë²„íŠ¼ ë° ê²€ìƒ‰ -->
        <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
            <div class="flex gap-2">
                <button onclick="openWriteModal()" class="bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 transition flex items-center shadow-sm">
                    <i data-lucide="pen-tool" class="w-4 h-4 mr-2"></i> ê¸€ì“°ê¸°
                </button>
                <button onclick="openMyPetitionModal()" class="bg-white text-slate-600 border border-slate-300 px-4 py-2 rounded-lg font-medium hover:bg-slate-50 transition">
                    ë‚˜ì˜ ë¯¼ì› í™•ì¸
                </button>
            </div>
            <div class="flex border border-slate-300 rounded-lg overflow-hidden w-full md:w-auto focus-within:ring-2 focus-within:ring-blue-200 transition">
                <select class="bg-slate-50 border-r border-slate-300 px-3 py-2 text-sm outline-none text-slate-600">
                    <option>ì „ì²´</option>
                    <option>ì œëª©</option>
                    <option>ë‚´ìš©</option>
                </select>
                <input type="text" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" class="px-4 py-2 w-full md:w-64 outline-none text-sm">
                <button class="bg-slate-100 hover:bg-slate-200 px-4 py-2 border-l border-slate-300 transition">
                    <i data-lucide="search" class="w-4 h-4 text-slate-600"></i>
                </button>
            </div>
        </div>

        <!-- ë¯¼ì› ë¦¬ìŠ¤íŠ¸ -->
        <div class="bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden mb-8">
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left text-slate-500 min-w-[600px]">
                    <thead class="text-xs text-slate-700 uppercase bg-slate-50 border-b border-slate-200">
                        <tr>
                            <th scope="col" class="px-4 py-3 w-16 text-center">ë²ˆí˜¸</th>
                            <th scope="col" class="px-4 py-3 w-24 text-center">ìƒíƒœ</th>
                            <th scope="col" class="px-4 py-3">ì œëª©</th>
                            <th scope="col" class="px-4 py-3 w-24 text-center">ì‘ì„±ì</th>
                            <th scope="col" class="px-4 py-3 w-28 text-center">ì‘ì„±ì¼</th>
                        </tr>
                    </thead>
                    <tbody id="petition-list">
                        <!-- JSë¡œ ë°ì´í„° ë¡œë“œ -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
        <div id="pagination-container" class="flex justify-center">
            <!-- JSë¡œ ìƒì„± -->
        </div>

        <!-- ì´ìš© ì•ˆë‚´ ë°•ìŠ¤ -->
        <div class="mt-10 bg-slate-100 p-6 rounded-lg text-sm text-slate-600 border border-slate-200">
            <h4 class="font-bold text-slate-800 mb-2 flex items-center"><i data-lucide="info" class="w-4 h-4 mr-2"></i> ì´ìš© ì•ˆë‚´</h4>
            <ul class="list-disc list-inside space-y-1">
                <li>ë¹„ë°©, ìš•ì„¤, ê´‘ê³ ì„± ê¸€ ë“±ì€ ê´€ë¦¬ìì— ì˜í•´ ì˜ˆê³  ì—†ì´ ì‚­ì œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                <li>ë¯¼ì› ì²˜ë¦¬ëŠ” ì ‘ìˆ˜ì¼ë¡œë¶€í„° 7ì¼ ì´ë‚´(ê³µíœ´ì¼ ì œì™¸) ë‹µë³€ì„ ì›ì¹™ìœ¼ë¡œ í•©ë‹ˆë‹¤.</li>
                <li>ê°œì¸ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•´ ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸, ì—°ë½ì²˜ ë“± ë¯¼ê°í•œ ì •ë³´ëŠ” ë³¸ë¬¸ì— í¬í•¨í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.</li>
            </ul>
        </div>

    </main>

    <!-- 1. ê¸€ì“°ê¸° ëª¨ë‹¬ -->
    <div id="write-modal" class="modal fixed inset-0 z-[60] flex items-center justify-center px-4">
        <div class="absolute inset-0 bg-black/50 backdrop-blur-sm" onclick="closeWriteModal()"></div>
        <div class="modal-content bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden relative z-10 flex flex-col max-h-[90vh]">
            <div class="bg-slate-800 p-5 text-white flex justify-between items-center">
                <h3 class="font-bold text-lg">ë¯¼ì› ì‹ ì²­í•˜ê¸°</h3>
                <button onclick="closeWriteModal()" class="hover:bg-slate-700 p-1 rounded-full"><i data-lucide="x" class="w-5 h-5"></i></button>
            </div>
            <div class="p-6 overflow-y-auto">
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-bold text-slate-700 mb-1">ì œëª©</label>
                        <input type="text" id="write-title" class="w-full border border-slate-300 rounded px-3 py-2 outline-none focus:border-blue-500" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-slate-700 mb-1">ì‘ì„±ì</label>
                        <input type="text" id="write-author" class="w-full border border-slate-300 rounded px-3 py-2 outline-none focus:border-blue-500" placeholder="ì‹¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-slate-700 mb-1">ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" id="write-pw" class="w-full border border-slate-300 rounded px-3 py-2 outline-none focus:border-blue-500" placeholder="4ìë¦¬ ìˆ«ì (ìˆ˜ì •/ì‚­ì œ ì‹œ í•„ìš”)">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-slate-700 mb-1">ë‚´ìš©</label>
                        <textarea id="write-content" class="w-full border border-slate-300 rounded px-3 py-2 h-40 outline-none focus:border-blue-500 resize-none" placeholder="ë¯¼ì› ë‚´ìš©ì„ ìƒì„¸íˆ ì‘ì„±í•´ ì£¼ì„¸ìš”."></textarea>
                    </div>
                    <div class="flex items-center gap-2">
                        <input type="checkbox" id="private-check" class="w-4 h-4 text-blue-600 rounded">
                        <label for="private-check" class="text-sm text-slate-600">ë¹„ê³µê°œ ê¸€ë¡œ ì‘ì„± (ì‘ì„±ìì™€ ë‹´ë‹¹ìë§Œ ì—´ëŒ ê°€ëŠ¥)</label>
                    </div>
                </div>
            </div>
            <div class="p-4 border-t border-slate-100 bg-slate-50 flex justify-end gap-2">
                <button onclick="closeWriteModal()" class="px-4 py-2 border border-slate-300 rounded text-slate-600 hover:bg-slate-100 font-medium">ì·¨ì†Œ</button>
                <button onclick="submitPetition()" class="px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-bold">ë“±ë¡í•˜ê¸°</button>
            </div>
        </div>
    </div>

    <!-- 2. ìƒì„¸ë³´ê¸° ëª¨ë‹¬ -->
    <div id="view-modal" class="modal fixed inset-0 z-[60] flex items-center justify-center px-4">
        <div class="absolute inset-0 bg-black/50 backdrop-blur-sm" onclick="closeViewModal()"></div>
        <div class="modal-content bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden relative z-10 flex flex-col max-h-[90vh]">
            <div class="bg-slate-800 p-5 text-white flex justify-between items-center">
                <h3 class="font-bold text-lg">ë¯¼ì› ìƒì„¸ ë‚´ìš©</h3>
                <button onclick="closeViewModal()" class="hover:bg-slate-700 p-1 rounded-full"><i data-lucide="x" class="w-5 h-5"></i></button>
            </div>
            <div class="p-6 overflow-y-auto">
                <div class="border-b border-slate-200 pb-4 mb-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span id="modal-status" class="bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold">ë‹µë³€ì™„ë£Œ</span>
                        <span id="modal-date" class="text-slate-400 text-xs">2025.00.00</span>
                    </div>
                    <h4 id="modal-title" class="text-xl font-bold text-slate-800">ë¯¼ì› ì œëª©</h4>
                    <p id="modal-writer" class="text-sm text-slate-500 mt-1">ì‘ì„±ì: í™*ë™</p>
                </div>
                
                <div class="bg-slate-50 p-4 rounded-lg mb-6 text-slate-700 leading-relaxed min-h-[100px]" id="modal-content">
                    ë¯¼ì› ë‚´ìš©...
                </div>

                <div id="modal-answer-box" class="bg-blue-50 border border-blue-100 p-5 rounded-lg">
                    <div class="flex items-center gap-2 mb-3 border-b border-blue-200 pb-2">
                        <span class="bg-blue-600 text-white text-xs px-2 py-1 rounded font-bold">ë‹µë³€</span>
                        <span class="font-bold text-blue-800" id="modal-dept">ë‹´ë‹¹ ë¶€ì„œ</span>
                    </div>
                    <div class="text-slate-700 text-sm leading-relaxed" id="modal-answer">
                        ë‹µë³€ ë‚´ìš©...
                    </div>
                </div>

                <!-- ê²½ê³  ë°•ìŠ¤ (í•˜ë‹¨ ë°°ì¹˜) -->
                <div id="modal-warning-box" class="bg-red-50 border border-red-200 p-5 rounded-lg mt-6 hidden border-l-4 border-l-red-600">
                    <div class="flex items-center gap-2 mb-2 text-red-700 font-bold">
                        <i data-lucide="alert-octagon" class="w-6 h-6"></i>
                        <span class="text-lg">ì²˜ë¦¬ ë¶ˆê°€ ì•ˆë‚´</span>
                    </div>
                    <p class="text-red-700 text-sm leading-relaxed font-medium">
                        ë³¸ ê²Œì‹œê¸€ì—ëŠ” <strong>[ë‹¤ë¬¸í™”ê°€ì •, ì˜¤íƒ€ì¿  ë“±]</strong> íŠ¹ì • ëŒ€ìƒì— ëŒ€í•œ ë¹„ë°© ë° ë¶€ì ì ˆí•œ í‘œí˜„ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.<br>
                        ì´ì— ë”°ë¼ í•´ë‹¹ ë¯¼ì›ì€ <strong>ì •ìƒì ì¸ ë‹µë³€ ì²˜ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•¨</strong>ì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.<br>
                        ì§€ì†ì ì¸ ì•…ì„± ë¯¼ì› ì œê¸° ì‹œ, ê´€ë ¨ ë²•ë ¹ì— ì˜ê±°í•˜ì—¬ <strong>ì‘ì„±ìì— ëŒ€í•œ ë²•ì  ì¡°ì¹˜(ê³ ë°œ ë“±)</strong>ê°€ ì§„í–‰ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                </div>
            </div>
            <div class="p-4 border-t border-slate-100 bg-slate-50 flex justify-end">
                <button onclick="closeViewModal()" class="px-4 py-2 bg-slate-800 text-white rounded hover:bg-slate-700 font-bold text-sm">í™•ì¸</button>
            </div>
        </div>
    </div>

    <!-- 3. ë‚˜ì˜ ë¯¼ì› í™•ì¸ ëª¨ë‹¬ -->
    <div id="my-petition-modal" class="modal fixed inset-0 z-[60] flex items-center justify-center px-4">
        <div class="absolute inset-0 bg-black/50 backdrop-blur-sm" onclick="closeMyPetitionModal()"></div>
        <div class="modal-content bg-white w-full max-w-sm rounded-xl shadow-2xl overflow-hidden relative z-10">
            <div class="bg-slate-800 p-4 text-white flex justify-between items-center">
                <h3 class="font-bold">ë‚˜ì˜ ë¯¼ì› ì¡°íšŒ</h3>
                <button onclick="closeMyPetitionModal()" class="hover:bg-slate-700 p-1 rounded-full"><i data-lucide="x" class="w-4 h-4"></i></button>
            </div>
            <div class="p-6">
                <p class="text-sm text-slate-600 mb-4">ë¯¼ì› ë“±ë¡ ì‹œ ì…ë ¥í•œ ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.</p>
                <div class="space-y-3">
                    <input type="text" id="my-name" placeholder="ì´ë¦„ (ì˜ˆ: í™ê¸¸ë™)" class="w-full border border-slate-300 rounded px-3 py-2 outline-none focus:border-blue-500">
                    <input type="password" id="my-pw" placeholder="ë¹„ë°€ë²ˆí˜¸ (ì˜ˆ: 1234)" class="w-full border border-slate-300 rounded px-3 py-2 outline-none focus:border-blue-500">
                </div>
                <button onclick="checkMyPetition()" class="w-full mt-6 bg-blue-600 text-white py-2 rounded font-bold hover:bg-blue-700 transition">ì¡°íšŒí•˜ê¸°</button>
            </div>
        </div>
    </div>

    <!-- 4. ê°•ë ¥ ê²½ê³  ëª¨ë‹¬ (ìœ¤ì¬í›ˆ/ì˜¤íƒ€ì¿  ë¹„í•˜ ì‹œ) -->
    <div id="otaku-alert-modal" class="modal fixed inset-0 z-[70] flex items-center justify-center px-4">
        <div class="absolute inset-0 bg-red-900/90 backdrop-blur-md" onclick="closeOtakuAlertModal()"></div>
        <div class="modal-content bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden relative z-10 shake-effect border-4 border-red-600">
            <div class="bg-red-600 p-5 text-white flex justify-between items-center">
                <h3 class="font-black text-xl flex items-center gap-2">
                    <i data-lucide="alert-octagon" class="w-6 h-6"></i> ê²½ê³  (WARNING)
                </h3>
                <button onclick="closeOtakuAlertModal()" class="hover:bg-red-700 p-1 rounded-full"><i data-lucide="x" class="w-6 h-6"></i></button>
            </div>
            <div class="p-8 text-center bg-slate-50">
                <div class="w-full h-48 mx-auto mb-6 bg-white rounded-lg overflow-hidden border-2 border-red-200 shadow-md flex items-center justify-center relative group">
                     <!-- ì• ë‹ˆë©”ì´ì…˜ ì´ë¯¸ì§€ (ê²½ê³  ì§¤) -->
                     <img src="warning_anime.jpg" alt="ì˜¤íƒ€ì¿  ë¬´ì‹œ ê¸ˆì§€ ì§¤" class="w-full h-full object-contain" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                     <div class="hidden flex-col items-center justify-center text-slate-400 w-full h-full bg-slate-100 p-4">
                        <i data-lucide="frown" class="w-12 h-12 mb-2 text-slate-300"></i>
                        <span class="text-sm font-bold">"ì˜¤íƒ€ì¿ ë¥¼ ë¬´ì‹œí•˜ì§€ ë§ˆë¼!"<br>(ì´ë¯¸ì§€ ì¤€ë¹„ì¤‘: warning_anime.jpg)</span>
                     </div>
                </div>
                <h4 class="text-3xl font-black text-red-600 mb-4 tracking-tight drop-shadow-sm">"ì˜¤íƒ€ì¿ ë¥¼ ë¬´ì‹œí•˜ì§€ ë§ˆë¼!"</h4>
                <p class="text-slate-700 font-medium mb-6 leading-relaxed bg-white p-4 rounded-lg border border-slate-200 text-sm">
                    íš¨ë¹ˆê´‘ì—­ì‹œëŠ” <strong>ì„œë¸Œì»¬ì²˜ ì¡´ì¤‘ ë„ì‹œ</strong>ì…ë‹ˆë‹¤.<br>
                    íŠ¹ì • ì·¨í–¥ì´ë‚˜ ì¸ë¬¼(ë°•íš¨ë¹ˆ ì‹œì¥ ë“±)ì— ëŒ€í•œ í˜ì˜¤ ë°œì–¸ì€<br>
                    ìš°ë¦¬ ì‹œì˜ ì •ì²´ì„±ì„ ë¶€ì •í•˜ëŠ” í–‰ìœ„ì…ë‹ˆë‹¤.<br>
                    <span class="text-red-500 font-bold block mt-2">ë°˜ì„±í•˜ì‹­ì‹œì˜¤.</span>
                </p>
                <div class="bg-red-100 text-red-800 p-3 rounded text-xs font-bold mb-6 border border-red-200">
                    â€» í•´ë‹¹ ë¯¼ì›ì€ 'ì°¨ë‹¨ë¨' ìƒíƒœë¡œ ê°•ì œ ë“±ë¡ë˜ë©°,<br>IP ì¶”ì  ë“±ì„ í†µí•´ ë¶ˆì´ìµì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </div>
                <button onclick="closeOtakuAlertModal()" class="w-full bg-red-600 text-white py-3.5 rounded-lg font-black text-lg hover:bg-red-700 shadow-lg transition transform hover:scale-[1.02]">
                    ì•Œê² ìŠµë‹ˆë‹¤ (ë°˜ì„±í•˜ê¸°)
                </button>
            </div>
        </div>
    </div>

    <!-- í‘¸í„° -->
    <footer class="bg-white border-t border-slate-200 mt-auto pt-10 pb-12 text-[13px] tracking-tight relative z-10">
        <div class="max-w-6xl mx-auto px-4 text-center text-slate-400">COPYRIGHT Â© 2023 HYOBIN CITY. ALL RIGHTS RESERVED.</div>
    </footer>

    <script>
        lucide.createIcons();

        // 1. ë¯¼ì› ë°ì´í„° (ê¸°ì¡´ ë°ì´í„° + ì¶”ê°€ ë°ì´í„°) - 15ê°œ ì´ìƒìœ¼ë¡œ í™•ì¥
        let petitions = [
            { id: 1543, status: "ì°¨ë‹¨ë¨", title: "[ê¸´ê¸‰ í•­ì˜] ì”¹ë• ì •ì±…ì— ì„¸ê¸ˆ ë‚­ë¹„ ë‹¹ì¥ ê·¸ë§Œë‘¬ë¼ ì¢†*!", writer: "ìœ¤ëŒ€í™˜", date: "2025.11.28", dept: "ê´€ë¦¬ì ì°¨ë‹¨", content: "ì‹œì¥ ê°œìƒˆë¼ì•¼, ì˜¤íƒ€ì¿ ë“¤ ë¹¨ì•„ì£¼ë ¤ê³  ì‹œë¯¼ë“¤í•œí…Œ ëŠê¸ˆë§ˆ ëˆ ì“°ëŠ” ê±°ëƒ? ìœ¤ì¬í›ˆ ì˜ì› ë§ì´ ë³‘ì‹ ê°™ì´ ë“¤ë ¤? ë‹¹ì¥ ì”¨ë°œ ì¢†ê°™ì€ ì• ë‹ˆ ì¶•ì œ ì§‘ì–´ì¹˜ìš°ê³  ì°½ë…€ì§“ê±°ë¦¬ ê°™ì€ ê±° ê·¸ë§Œí•´ë¼! ì§€ë„ ë§ê³  ì •ì±… ë°”ê¿”ë¼!", answer: null, isBlocked: true },
            { id: 1542, status: "ë‹µë³€ì™„ë£Œ", title: "ë„ì‹œì² ë„ 3í˜¸ì„  ì‚¬ëŠ¥ì—­ êµ¬ê°„ ë°°ì°¨ ê°„ê²© ì¡°ì • ê±´ì˜", writer: "ê¹€*ìˆ˜", date: "2025.11.28", dept: "ë„ì‹œì² ë„ê³¼", content: "ì¶œí‡´ê·¼ ì‹œê°„ëŒ€ 3í˜¸ì„  ì‚¬ëŠ¥ì—­ êµ¬ê°„ í˜¼ì¡ë„ê°€ ë„ˆë¬´ ë†’ìŠµë‹ˆë‹¤. ë°°ì°¨ ê°„ê²©ì„ 5ë¶„ì—ì„œ 3ë¶„ìœ¼ë¡œ ë‹¨ì¶•í•´ì£¼ì‹¤ ê²ƒì„ ê±´ì˜í•©ë‹ˆë‹¤.", answer: "ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ, ë„ì‹œì² ë„ê³¼ì…ë‹ˆë‹¤. ê·€í•˜ê»˜ì„œ ê±´ì˜í•˜ì‹  3í˜¸ì„  ë°°ì°¨ ê°„ê²© ì¡°ì •ì— ëŒ€í•´ ê²€í† í•œ ê²°ê³¼, ì¶œí‡´ê·¼ ì‹œê°„ëŒ€ ì˜ˆë¹„ ì—´ì°¨ 2í¸ì„±ì„ ì¶”ê°€ íˆ¬ì…í•˜ì—¬ í˜¼ì¡ë„ë¥¼ ì™„í™”í•˜ê¸°ë¡œ ê²°ì •í•˜ì˜€ìŠµë‹ˆë‹¤. 12ì›” 1ì¼ë¶€í„° ì‹œí–‰ë  ì˜ˆì •ì…ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤." },
            { id: 1541, status: "ì ‘ìˆ˜ì¤‘", title: "íš¨ë¹ˆëŒ€ ì• íš¡ë‹¨ë³´ë„ ê°€ë¡œë“± ì¶”ê°€ ì„¤ì¹˜ ìš”ì²­", writer: "ì´*ì˜", date: "2025.11.27", dept: "ë„ë¡œê´€ë¦¬ê³¼", content: "íš¨ë¹ˆëŒ€í•™êµ ì •ë¬¸ ì• íš¡ë‹¨ë³´ë„ê°€ ë°¤ì— ë„ˆë¬´ ì–´ë‘¡ìŠµë‹ˆë‹¤. í•™ìƒë“¤ì´ ë§ì´ ë‹¤ë‹ˆëŠ” ê³³ì¸ ë§Œí¼ ì•ˆì „ì„ ìœ„í•´ LED ê°€ë¡œë“±ì„ ì¶”ê°€ë¡œ ì„¤ì¹˜í•´ ì£¼ì„¸ìš”.", answer: "í˜„ì¬ ë‹´ë‹¹ ë¶€ì„œì—ì„œ í˜„ì¥ ì¡°ì‚¬ë¥¼ ì§„í–‰ ì¤‘ì…ë‹ˆë‹¤. ì¡°ì†íˆ ê²€í† í•˜ì—¬ ê²°ê³¼ë¥¼ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤." },
            { id: 1540, status: "ë‹µë³€ì™„ë£Œ", title: "HAF í–‰ì‚¬ ê¸°ê°„ ì¤‘ ì‹œì²­ ì£¼ì°¨ì¥ ê°œë°© ë¬¸ì˜", writer: "ë°•*í˜¸", date: "2025.11.26", dept: "í–‰ì •ìì¹˜êµ­", content: "ì´ë²ˆ HAF í–‰ì‚¬ ë•Œ ì™¸ë¶€ ê´€ê´‘ê°ì´ ë§ì´ ì˜¬ ê²ƒ ê°™ì€ë°, ì‹œì²­ ì£¼ì°¨ì¥ì„ ì£¼ë§ì— ë¬´ë£Œ ê°œë°©í•˜ë‚˜ìš”?", answer: "ë„¤, HAF í–‰ì‚¬ ê¸°ê°„(ì£¼ë§ í¬í•¨) ë™ì•ˆ ì‹œì²­ ë¶€ì„¤ ì£¼ì°¨ì¥ì„ ì „ë©´ ë¬´ë£Œ ê°œë°©í•©ë‹ˆë‹¤. ë‹¤ë§Œ í˜¼ì¡ì´ ì˜ˆìƒë˜ì˜¤ë‹ˆ ê°€ê¸‰ì  ëŒ€ì¤‘êµí†µì„ ì´ìš©í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤." },
            { id: 1539, status: "ë‹µë³€ì™„ë£Œ", title: "ì§€ì—­í™”í(íš¨ë¹ˆí˜ì´) ê°€ë§¹ì  ë“±ë¡ ì ˆì°¨ ì•ˆë‚´ ë¶€íƒë“œë¦½ë‹ˆë‹¤", writer: "ìµœ*ë¯¼", date: "2025.11.25", dept: "ê²½ì œì¼ìë¦¬ê³¼", content: "ê³ ì†¡ë™ì—ì„œ ì¹´í˜ë¥¼ ìš´ì˜ ì¤‘ì…ë‹ˆë‹¤. íš¨ë¹ˆí˜ì´ ê°€ë§¹ì ìœ¼ë¡œ ë“±ë¡í•˜ê³  ì‹¶ì€ë° ì ˆì°¨ê°€ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?", answer: "íš¨ë¹ˆí˜ì´ ê°€ë§¹ì  ë“±ë¡ì€ ì‹œì²­ í™ˆí˜ì´ì§€ ë˜ëŠ” 'íš¨ë¹ˆí˜ì´' ì•±ì„ í†µí•´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì‚¬ì—…ìë“±ë¡ì¦ ì‚¬ë³¸ê³¼ í†µì¥ ì‚¬ë³¸ì„ ì¤€ë¹„í•˜ì‹œì–´ ì‹ ì²­í•´ ì£¼ì‹œë©´ ì‹¬ì‚¬ í›„ 3ì¼ ì´ë‚´ ìŠ¹ì¸ë©ë‹ˆë‹¤." },
            { id: 1538, status: "ë‹µë³€ì™„ë£Œ", title: "ì•ˆì²œêµ¬ ìˆ˜ë³€ê³µì› ìš´ë™ê¸°êµ¬ ìˆ˜ë¦¬ ìš”ì²­", writer: "ì •*ìš°", date: "2025.11.24", dept: "ê³µì›ìš´ì˜ê³¼", content: "ì•ˆì²œ ìˆ˜ë³€ê³µì›ì— ìˆëŠ” í—ˆë¦¬ ëŒë¦¬ê¸° ìš´ë™ê¸°êµ¬ê°€ ê³ ì¥ ë‚˜ì„œ ì†Œë¦¬ê°€ ì‹¬í•˜ê²Œ ë‚©ë‹ˆë‹¤. ìˆ˜ë¦¬ ë¶€íƒë“œë¦½ë‹ˆë‹¤.", answer: "ë¶ˆí¸ì„ ë“œë ¤ ì£„ì†¡í•©ë‹ˆë‹¤. í•´ë‹¹ ìš´ë™ê¸°êµ¬ëŠ” 11ì›” 26ì¼ ìë¡œ ë³´ìˆ˜ ì—…ì²´ì— ì˜ë¢°í•˜ì—¬ ìˆ˜ë¦¬ë¥¼ ì™„ë£Œí•˜ì˜€ìŠµë‹ˆë‹¤. ì•ìœ¼ë¡œë„ ì‹œì„¤ë¬¼ ê´€ë¦¬ì— ë§Œì „ì„ ê¸°í•˜ê² ìŠµë‹ˆë‹¤." },
            { id: 1537, status: "ì ‘ìˆ˜ì¤‘", title: "ë¶ˆë²• ì£¼ì •ì°¨ ë‹¨ì† ê°•í™” ìš”ì²­ (ì¤‘êµ¬ ì¤‘ì•™ë™)", writer: "ê°•*í¬", date: "2025.11.23", dept: "êµí†µì •ì±…ê³¼", content: "ì¤‘ì•™ë™ ë¨¹ìê³¨ëª© ì…êµ¬ì— ë¶ˆë²• ì£¼ì •ì°¨ ì°¨ëŸ‰ ë•Œë¬¸ì— í†µí–‰ì´ ë„ˆë¬´ ì–´ë µìŠµë‹ˆë‹¤. ì €ë… ì‹œê°„ëŒ€ ë‹¨ì† ì¢€ ê°•í™”í•´ ì£¼ì„¸ìš”.", answer: "ë¯¼ì› ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. í•´ë‹¹ ì§€ì—­ ìˆœì°°ì„ ê°•í™”í•˜ê² ìŠµë‹ˆë‹¤." },
            { id: 1536, status: "ë‹µë³€ì™„ë£Œ", title: "ë„ì„œê´€ í¬ë§ë„ì„œ ì‹ ì²­ ê´€ë ¨ ë¬¸ì˜", writer: "ìœ¤*ì§„", date: "2025.11.22", dept: "ë„ì„œê´€ì •ì±…ê³¼", content: "í¬ë§ë„ì„œ ì‹ ì²­ í›„ ì…ê³ ê¹Œì§€ ì–¼ë§ˆë‚˜ ê±¸ë¦¬ë‚˜ìš”? ì‹ ì²­í•œ ì§€ 2ì£¼ê°€ ì§€ë‚¬ëŠ”ë° ì—°ë½ì´ ì—†ì–´ì„œìš”.", answer: "í¬ë§ë„ì„œëŠ” í†µìƒì ìœ¼ë¡œ ì‹ ì²­ í›„ ì‹¬ì‚¬, ì£¼ë¬¸, ì •ë¦¬ ê³¼ì •ì„ ê±°ì³ ì•½ 3~4ì£¼ ì†Œìš”ë©ë‹ˆë‹¤. ì‹ ì²­í•˜ì‹  ë„ì„œëŠ” í˜„ì¬ ì •ë¦¬ ì¤‘ì´ë©°, 3ì¼ ë‚´ë¡œ ëŒ€ì¶œ ê°€ëŠ¥ ì•ˆë‚´ ë¬¸ìë¥¼ ë°œì†¡í•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤." },
            { id: 1535, status: "ë‹µë³€ì™„ë£Œ", title: "ì—¬ê¶Œ ë°œê¸‰ ì•¼ê°„ ë¯¼ì›ì‹¤ ìš´ì˜ ì‹œê°„ í™•ì¸", writer: "í•œ*ì„±", date: "2025.11.21", dept: "ë¯¼ì›ì—¬ê¶Œê³¼", content: "ì§ì¥ì¸ì´ë¼ í‰ì¼ ë‚®ì— ê°€ê¸° í˜ë“ ë°, ì•¼ê°„ ë¯¼ì›ì‹¤ì€ ì–¸ì œ ìš´ì˜í•˜ë‚˜ìš”?", answer: "íš¨ë¹ˆì‹œì²­ ì—¬ê¶Œ ë¯¼ì›ì‹¤ì€ ë§¤ì£¼ í™”ìš”ì¼ 18:00ë¶€í„° 20:00ê¹Œì§€ ì•¼ê°„ ì—°ì¥ ìš´ì˜ì„ í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë°©ë¬¸ ì „ ëŒ€ê¸° ì¸ì› í™•ì¸ì„ ìœ„í•´ ì „í™” ì£¼ì‹œë©´ ë”ìš± í¸ë¦¬í•©ë‹ˆë‹¤." },
            // ì¶”ê°€ ë¯¼ì› ë°ì´í„°
            { id: 1534, status: "ì ‘ìˆ˜ì¤‘", title: "ê³ ì†¡ë™ ë§ˆì„ë²„ìŠ¤ ë…¸ì„  ì‹ ì„¤ ê±´ì˜", writer: "ì†¡*ì•„", date: "2025.11.20", dept: "êµí†µí–‰ì •ê³¼", content: "ê³ ì†¡ë™ ì‹ ê·œ ì•„íŒŒíŠ¸ ë‹¨ì§€ ì…ì£¼ê°€ ì‹œì‘ë˜ì—ˆëŠ”ë° ë²„ìŠ¤ ë…¸ì„ ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. ë§ˆì„ë²„ìŠ¤ ë…¸ì„  ì‹ ì„¤ì„ ê±´ì˜í•©ë‹ˆë‹¤.", answer: "í˜„ì¬ ìš´ìˆ˜ì—…ì²´ì™€ ë…¸ì„  ì‹ ì„¤ì— ëŒ€í•´ í˜‘ì˜ ì¤‘ì…ë‹ˆë‹¤. ì£¼ë¯¼ í¸ì˜ë¥¼ ìœ„í•´ ìµœì„ ì„ ë‹¤í•˜ê² ìŠµë‹ˆë‹¤." },
            { id: 1533, status: "ë‹µë³€ì™„ë£Œ", title: "ì“°ë ˆê¸° ë¬´ë‹¨ íˆ¬ê¸° CCTV ì„¤ì¹˜ ìš”ì²­", writer: "ë°•*ìˆ˜", date: "2025.11.19", dept: "ìì›ìˆœí™˜ê³¼", content: "ìš°ë¦¬ ì§‘ ì• ì „ë´‡ëŒ€ì— ì“°ë ˆê¸°ë¥¼ ëª°ë˜ ë²„ë¦¬ê³  ê°€ëŠ” ì‚¬ëŒì´ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. CCTV ì„¤ì¹˜í•´ì„œ ë‹¨ì†í•´ì£¼ì„¸ìš”.", answer: "ê·€í•˜ì˜ ê±°ì£¼ì§€ ì¸ê·¼ í˜„ì¥ í™•ì¸ í›„, ë¬´ë‹¨ íˆ¬ê¸° ì·¨ì•½ ì§€ì—­ìœ¼ë¡œ íŒë‹¨ë˜ì–´ ì´ë™ì‹ CCTVë¥¼ ì„¤ì¹˜í•˜ê¸°ë¡œ ê²°ì •í•˜ì˜€ìŠµë‹ˆë‹¤. 12ì›” ì´ˆ ì„¤ì¹˜ ì˜ˆì •ì…ë‹ˆë‹¤." },
            { id: 1532, status: "ë‹µë³€ì™„ë£Œ", title: "ê²¨ìš¸ì²  ë…ê° ì˜ˆë°©ì ‘ì¢… ë¬´ë£Œ ëŒ€ìƒ ë¬¸ì˜", writer: "ê¹€*ì", date: "2025.11.18", dept: "ê°ì—¼ë³‘ê´€ë¦¬ê³¼", content: "ì˜¬í•´ ë…ê° ë¬´ë£Œ ì ‘ì¢… ëŒ€ìƒìê°€ ì–´ë–»ê²Œ ë˜ë‚˜ìš”? 60ì„¸ ì´ìƒë„ ë¬´ë£Œì¸ê°€ìš”?", answer: "2025ë…„ë„ ë¬´ë£Œ ì ‘ì¢… ëŒ€ìƒì€ ìƒí›„ 6ê°œì›”~13ì„¸ ì–´ë¦°ì´, ì„ì‹ ë¶€, ë§Œ 65ì„¸ ì´ìƒ ì–´ë¥´ì‹ ì…ë‹ˆë‹¤. ë§Œ 60~64ì„¸ëŠ” ìœ ë£Œ ì ‘ì¢… ëŒ€ìƒì´ë‚˜, ê¸°ì´ˆìƒí™œìˆ˜ê¸‰ì ë“±ì€ ë³´ê±´ì†Œì—ì„œ ë¬´ë£Œ ì ‘ì¢… ê°€ëŠ¥í•©ë‹ˆë‹¤." },
            { id: 1531, status: "ë‹µë³€ì™„ë£Œ", title: "ì‹œë¦½ë¯¸ìˆ ê´€ ì „ì‹œ í•´ì„¤ í”„ë¡œê·¸ë¨ ì˜ˆì•½ ë°©ë²•", writer: "ì¡°*í˜„", date: "2025.11.17", dept: "ë¬¸í™”ì˜ˆìˆ ê³¼", content: "ì£¼ë§ì— ì•„ì´ë“¤ê³¼ ë¯¸ìˆ ê´€ì— ê°€ë ¤ê³  í•˜ëŠ”ë° ë„ìŠ¨íŠ¸ ì„¤ëª…ì„ ë“¤ìœ¼ë ¤ë©´ ì˜ˆì•½ì„ í•´ì•¼ í•˜ë‚˜ìš”?", answer: "ë„ìŠ¨íŠ¸ í”„ë¡œê·¸ë¨ì€ í‰ì¼/ì£¼ë§ 11ì‹œ, 14ì‹œ, 16ì‹œì— ìš´ì˜ë˜ë©° ë³„ë„ ì˜ˆì•½ ì—†ì´ í˜„ì¥ì—ì„œ ì°¸ì—¬ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë‹¨, 20ì¸ ì´ìƒ ë‹¨ì²´ëŠ” ì‚¬ì „ ì˜ˆì•½ì´ í•„ìš”í•©ë‹ˆë‹¤." },
            { id: 1530, status: "ì ‘ìˆ˜ì¤‘", title: "ê³µì‚¬ì¥ ì†ŒìŒ ë° ë¶„ì§„ í”¼í•´ ì‹ ê³ ", writer: "ë¥˜*í˜¸", date: "2025.11.16", dept: "í™˜ê²½ì§€ë„ê³¼", content: "ì§‘ ì• ì˜¤í”¼ìŠ¤í…” ê³µì‚¬ì¥ì—ì„œ ì•„ì¹¨ 7ì‹œë¶€í„° ê³µì‚¬ë¥¼ ì‹œì‘í•´ì„œ ì‹œë„ëŸ¬ì›Œ ì ì„ ì˜ ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì§€ë„ ë„ˆë¬´ ì‹¬í•´ìš”.", answer: "í•´ë‹¹ ê³µì‚¬ì¥ì— ëŒ€í•´ í˜„ì¥ ì ê²€ì„ ì‹¤ì‹œí•˜ê³  ì†ŒìŒ ê·œì œ ê¸°ì¤€ ì¤€ìˆ˜ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤." }
        ];

        // í˜ì´ì§€ë„¤ì´ì…˜ ê´€ë ¨ ë³€ìˆ˜
        const itemsPerPage = 7;
        let currentPage = 1;

        // ë¦¬ìŠ¤íŠ¸ ë Œë”ë§ í•¨ìˆ˜ (í˜ì´ì§€ë„¤ì´ì…˜ ì ìš©)
        function renderList() {
            const listBody = document.getElementById('petition-list');
            listBody.innerHTML = '';

            // í˜ì´ì§€ì— ë§ëŠ” ë°ì´í„° ìŠ¬ë¼ì´ì‹±
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const currentItems = petitions.slice(startIndex, endIndex);

            currentItems.forEach(item => {
                const tr = document.createElement('tr');
                tr.className = "bg-white border-b hover:bg-slate-50 transition cursor-pointer";
                tr.onclick = () => openViewModal(item);
                
                let statusClass;
                if (item.status === "ë‹µë³€ì™„ë£Œ" || item.status === "ê´€ë¦¬ì") {
                    statusClass = "bg-blue-100 text-blue-700";
                } else if (item.isBlocked) {
                    statusClass = "bg-red-100 text-red-700";
                } else {
                    statusClass = "bg-slate-100 text-slate-600";
                }
                
                let lockIcon = `<i data-lucide="lock" class="w-3 h-3 mr-2 text-slate-400"></i>`;

                tr.innerHTML = `
                    <td class="px-4 py-4 text-center">${item.id}</td>
                    <td class="px-4 py-4 text-center"><span class="${statusClass} px-2 py-1 rounded-full text-xs font-bold">${item.status}</span></td>
                    <td class="px-4 py-4 font-medium text-slate-800 flex items-center">
                        ${lockIcon} ${item.title}
                    </td>
                    <td class="px-4 py-4 text-center text-sm text-slate-600">${item.writer}</td>
                    <td class="px-4 py-4 text-center text-sm text-slate-400">${item.date}</td>
                `;
                listBody.appendChild(tr);
            });
            lucide.createIcons();
            renderPagination();
        }

        // í˜ì´ì§€ë„¤ì´ì…˜ ë Œë”ë§
        function renderPagination() {
            const container = document.getElementById('pagination-container');
            container.innerHTML = '';
            
            const totalPages = Math.ceil(petitions.length / itemsPerPage);
            
            const nav = document.createElement('nav');
            nav.className = "flex items-center gap-2";

            // ì´ì „ ë²„íŠ¼
            const prevBtn = document.createElement('button');
            prevBtn.className = "w-8 h-8 flex items-center justify-center rounded-full bg-white border border-slate-200 text-slate-500 hover:bg-slate-100";
            prevBtn.innerHTML = '<i data-lucide="chevron-left" class="w-4 h-4"></i>';
            prevBtn.onclick = () => { if (currentPage > 1) { currentPage--; renderList(); } };
            nav.appendChild(prevBtn);

            // ìˆ«ì ë²„íŠ¼
            for (let i = 1; i <= totalPages; i++) {
                const btn = document.createElement('button');
                btn.className = `w-8 h-8 flex items-center justify-center rounded-full border ${i === currentPage ? 'bg-blue-600 text-white font-bold border-blue-600' : 'bg-white border-slate-200 text-slate-600 hover:bg-slate-100'}`;
                btn.textContent = i;
                btn.onclick = () => { currentPage = i; renderList(); };
                nav.appendChild(btn);
            }

            // ë‹¤ìŒ ë²„íŠ¼
            const nextBtn = document.createElement('button');
            nextBtn.className = "w-8 h-8 flex items-center justify-center rounded-full bg-white border border-slate-200 text-slate-500 hover:bg-slate-100";
            nextBtn.innerHTML = '<i data-lucide="chevron-right" class="w-4 h-4"></i>';
            nextBtn.onclick = () => { if (currentPage < totalPages) { currentPage++; renderList(); } };
            nav.appendChild(nextBtn);

            container.appendChild(nav);
            lucide.createIcons();
        }

        // ì´ˆê¸° ë Œë”ë§
        renderList();

        // --- ê¸€ì“°ê¸° ê¸°ëŠ¥ êµ¬í˜„ ---
        function openWriteModal() {
            document.getElementById('write-title').value = '';
            document.getElementById('write-author').value = '';
            document.getElementById('write-pw').value = '';
            document.getElementById('write-content').value = '';
            document.getElementById('private-check').checked = false;

            const modal = document.getElementById('write-modal');
            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.add('active'), 10);
        }

        function closeWriteModal() {
            const modal = document.getElementById('write-modal');
            modal.classList.remove('active');
            setTimeout(() => modal.classList.add('hidden'), 200);
        }

        // ì‹¤ì œ ê¸€ ë“±ë¡ ë¡œì§
        function submitPetition() {
            const title = document.getElementById('write-title').value;
            const author = document.getElementById('write-author').value;
            const pw = document.getElementById('write-pw').value;
            const content = document.getElementById('write-content').value;

            // ê¸ˆì¹™ì–´ ëª©ë¡ (ë¯¼ê°í•œ ë‚´ìš© ë° ìš•ì„¤ í•„í„°ë§ ê°•í™”)
            const forbiddenWords = ['ìœ¤ì¬í›ˆ', 'ìœ¤ëŒ€í™˜', 'ì˜¤íƒ€ì¿ ', 'ì”¹ë•', 'ì”¹ë•í›„', 'ì• ë‹ˆí”„ì‚¬', 'ì”¨ë°œ', 'ê°œìƒˆë¼', 'ë³‘ì‹ ', 'ì§€ë„', 'ëŠê¸ˆë§ˆ', 'ì°½ë…€', 'ì¢†', 'ì‹œë°œ', 'êº¼ì ¸'];

            if (!title || !author || !pw || !content) {
                alert("ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                return;
            }

            const today = new Date();
            const dateStr = `${today.getFullYear()}.${String(today.getMonth() + 1).padStart(2, '0')}.${String(today.getDate()).padStart(2, '0')}`;

            // ê¸ˆì¹™ì–´ ê²€ì‚¬
            let isForbidden = false;
            for (const word of forbiddenWords) {
                if (title.includes(word) || content.includes(word) || author.includes(word)) {
                    isForbidden = true;
                    break;
                }
            }

            if (isForbidden) {
                 // ê°•ë ¥ ê²½ê³  ëª¨ë‹¬ í‘œì‹œ (ìœ¤ì¬í›ˆ, ì˜¤íƒ€ì¿  ë“± ë¹„í•˜ ë°œì–¸ ì‹œ)
                closeWriteModal();
                const alertModal = document.getElementById('otaku-alert-modal');
                alertModal.classList.remove('hidden');
                setTimeout(() => alertModal.classList.add('active'), 10);
                
                // ê·¸ëŸ¼ì—ë„ 'ì°¨ë‹¨ë¨' ìƒíƒœë¡œ ë“±ë¡ì€ ì‹œí‚´ (ìš”ì²­ ì‚¬í•­ ë°˜ì˜)
                const newPetition = {
                    id: Math.max(...petitions.map(p => p.id)) + 1,
                    status: "ì°¨ë‹¨ë¨",
                    title: title,
                    writer: author.substring(0, 1) + "*" + author.substring(2),
                    date: dateStr,
                    dept: "ê´€ë¦¬ì ì°¨ë‹¨",
                    content: content,
                    answer: null,
                    isBlocked: true
                };
                petitions.unshift(newPetition);
                currentPage = 1;
                renderList();
            } else {
                // ì •ìƒ ë“±ë¡
                const newPetition = {
                    id: Math.max(...petitions.map(p => p.id)) + 1,
                    status: "ì ‘ìˆ˜ì¤‘",
                    title: title,
                    writer: author.substring(0, 1) + "*" + author.substring(2),
                    date: dateStr,
                    dept: "ë‹´ë‹¹ë¶€ì„œ ì§€ì •ì¤‘",
                    content: content,
                    answer: null,
                    isBlocked: false
                };
                petitions.unshift(newPetition);
                alert('ë¯¼ì›ì´ ì •ìƒì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
                closeWriteModal();
                currentPage = 1;
                renderList();
            }
        }

        // ê°•ë ¥ ê²½ê³ ì°½ ë‹«ê¸°
        function closeOtakuAlertModal() {
            const alertModal = document.getElementById('otaku-alert-modal');
            alertModal.classList.remove('active');
            setTimeout(() => alertModal.classList.add('hidden'), 200);
        }

        // --- ë‚˜ì˜ ë¯¼ì› ì¡°íšŒ ê¸°ëŠ¥ ---
        function openMyPetitionModal() {
            const modal = document.getElementById('my-petition-modal');
            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.add('active'), 10);
        }
        function closeMyPetitionModal() {
            const modal = document.getElementById('my-petition-modal');
            modal.classList.remove('active');
            setTimeout(() => modal.classList.add('hidden'), 200);
        }
        
        function checkMyPetition() {
            const name = document.getElementById('my-name').value;
            const pw = document.getElementById('my-pw').value;
            
            if (name === 'í™ê¸¸ë™' && pw === '1234') {
                closeMyPetitionModal();
                openViewModal({
                    status: "ë‹µë³€ì™„ë£Œ",
                    date: "2025.11.30",
                    title: "ë‚˜ì˜ ë¯¼ì› ì˜ˆì‹œ: ê°€ë¡œë“± ìˆ˜ë¦¬ ìš”ì²­",
                    writer: "í™*ë™",
                    content: "ì§‘ ì• ê°€ë¡œë“±ì´ ê¹œë¹¡ê±°ë¦½ë‹ˆë‹¤. ìˆ˜ë¦¬í•´ì£¼ì„¸ìš”.",
                    dept: "ë„ë¡œê³¼",
                    answer: "ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ê¸ˆì¼ ì¤‘ìœ¼ë¡œ ìˆ˜ë¦¬ ì™„ë£Œí•˜ê² ìŠµë‹ˆë‹¤."
                });
            } else if (name === 'ë°•íš¨ë¹ˆ' && pw === '0709') {
                closeMyPetitionModal();
                openViewModal({
                    status: "ê´€ë¦¬ì",
                    date: "1996.07.09",
                    title: "ğŸ”’ [1ê¸‰ ê¸°ë°€] ë°•íš¨ë¹ˆ ì‹œì¥ì˜ ì‹œí¬ë¦¿ í”„ë¡œí•„",
                    writer: "System",
                    dept: "ì‹œì¥ë¹„ì„œì‹¤",
                    content: `
                        <div class="text-center mb-4">
                            <img src="mayor.jpg" alt="ì‹œì¥ë‹˜" class="w-32 h-32 rounded-full mx-auto border-4 border-blue-500 shadow-lg mb-2" onerror="this.src='https://via.placeholder.com/150?text=Mayor'">
                            <h3 class="text-2xl font-black text-slate-800">ë°• íš¨ ë¹ˆ (Park Hyobin)</h3>
                            <p class="text-blue-600 font-bold">ì œ8ëŒ€ íš¨ë¹ˆê´‘ì—­ì‹œì¥</p>
                        </div>
                        <div class="space-y-3 text-sm text-left px-4">
                            <p><strong>ğŸ‚ ìƒë…„ì›”ì¼:</strong> 1996ë…„ 7ì›” 9ì¼</p>
                            <p><strong>ğŸ† ë³„ëª…:</strong> ì„±ê³µí•œ ë•í›„(ì„±ë•), ìš°ì¹˜ìš°ë¼ì˜ ì˜ì£¼, íš¨ë¹ˆ ì¿¤</p>
                            <p><strong>ğŸ’¼ ì¬ì‚° ì²˜ë¶„:</strong> ì›”ê¸‰ì˜ 80%ëŠ” êµ¿ì¦ˆ êµ¬ë§¤, ë‚˜ë¨¸ì§€ëŠ” ê¸°ë¶€ (ê´€ì‚¬ ê±°ì£¼)</p>
                            <p><strong>ğŸ¤ ì• ì°½ê³¡:</strong> Snow halation, FIRE BIRD</p>
                            <p><strong>ğŸ“œ ì§‘ë¬´ì‹¤ TMI:</strong> í•œìª½ ë²½ë©´ì´ í”¼ê·œì–´ë¡œ ê°€ë“ ì°¨ ìˆìŒ. ê²°ì¬ ë„ì¥ ì°ì„ ë•Œ "ìš”ìš°ì†Œë¡œ!"ë¼ê³  ì™¸ì¹¨.</p>
                            <div class="bg-yellow-50 p-3 rounded border border-yellow-200 mt-2">
                                <strong>ğŸ“¢ ì‹œì¥ë‹˜ì˜ í•œë§ˆë””:</strong><br>
                                "ì˜¤íƒ€ì¿ ë¼ê³  ë†€ë ¤ë„ ì¢‹ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ìš°ë¦¬ ì‹œë¯¼ë“¤ì„ í˜ì˜¤í•˜ëŠ” ê±´ ìš©ì„œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. 
                                ëª¨ë‘ê°€ ì¢‹ì•„í•˜ëŠ” ê²ƒì„ ë‹¹ë‹¹í•˜ê²Œ ì¢‹ì•„í•  ìˆ˜ ìˆëŠ” ë„ì‹œ, ê·¸ê²Œ ì œê°€ ê¿ˆê¾¸ëŠ” íš¨ë¹ˆì…ë‹ˆë‹¤. ê°¤ëŸ­ì‹œ!"
                            </div>
                        </div>
                    `,
                    answer: "ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì ‘ê·¼ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ë„ ì „ì† ì „ì§„(Yousoro)!"
                });
            } else {
                alert('ì¼ì¹˜í•˜ëŠ” ë¯¼ì› ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.\n(ì…ë ¥í•˜ì‹  ì •ë³´ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ ì£¼ì„¸ìš”.)');
            }
        }

        // --- ìƒì„¸ë³´ê¸° ëª¨ë‹¬ ---
        function openViewModal(item) {
            document.getElementById('modal-status').innerText = item.status;
            
            // ìƒíƒœ ë±ƒì§€ ìƒ‰ìƒ ì²˜ë¦¬
            if (item.status === "ë‹µë³€ì™„ë£Œ" || item.status === "ê´€ë¦¬ì") {
                document.getElementById('modal-status').className = "bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold";
            } else if (item.status === "ì°¨ë‹¨ë¨") {
                document.getElementById('modal-status').className = "bg-red-100 text-red-700 px-2 py-0.5 rounded text-xs font-bold";
            } else {
                document.getElementById('modal-status').className = "bg-slate-100 text-slate-600 px-2 py-0.5 rounded text-xs font-bold";
            }

            document.getElementById('modal-date').innerText = item.date;
            document.getElementById('modal-title').innerText = item.title;
            document.getElementById('modal-writer').innerText = `ì‘ì„±ì: ${item.writer}`;
            
            if (item.status === "ê´€ë¦¬ì") {
                document.getElementById('modal-content').innerHTML = item.content;
            } else {
                document.getElementById('modal-content').innerText = item.content;
            }

            const answerBox = document.getElementById('modal-answer-box');
            const warningBox = document.getElementById('modal-warning-box');

            // ê²½ê³  ë°•ìŠ¤ ë° ë‹µë³€ ë°•ìŠ¤ ì œì–´
            if (item.isBlocked) {
                // ì°¨ë‹¨ëœ ê²Œì‹œë¬¼ì¼ ê²½ìš° í•˜ë‹¨ ê²½ê³ ì°½ í‘œì‹œ
                warningBox.classList.remove('hidden');
                answerBox.classList.add('hidden'); // ë‹µë³€ ìˆ¨ê¹€
            } else {
                warningBox.classList.add('hidden');
                if (item.status === "ë‹µë³€ì™„ë£Œ" || item.status === "ê´€ë¦¬ì") {
                    answerBox.classList.remove('hidden');
                    document.getElementById('modal-dept').innerText = item.dept;
                    document.getElementById('modal-answer').innerText = item.answer;
                } else {
                    // ë‹µë³€ ëŒ€ê¸° ì¤‘ì¼ ë•Œ
                    answerBox.classList.remove('hidden');
                    document.getElementById('modal-dept').innerText = "ì²˜ë¦¬ì¤‘";
                    document.getElementById('modal-answer').innerText = "ë‹´ë‹¹ ë¶€ì„œì—ì„œ ë‚´ìš©ì„ í™•ì¸í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë¹ ë¥¸ ì‹œì¼ ë‚´ì— ë‹µë³€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.";
                }
            }

            const modal = document.getElementById('view-modal');
            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.add('active'), 10);
        }

        function closeViewModal() {
            const modal = document.getElementById('view-modal');
            modal.classList.remove('active');
            setTimeout(() => modal.classList.add('hidden'), 200);
        }

        // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
        document.addEventListener('keydown', function(event) {
            if (event.key === "Escape") {
                closeWriteModal();
                closeViewModal();
                closeMyPetitionModal();
                closeOtakuAlertModal();
            }
        });
    </script>
</body>
</html>
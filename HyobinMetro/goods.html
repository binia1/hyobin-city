<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>효빈교통공사 공식 굿즈샵 (HB GOODS)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        
        .goods-gradient { background: linear-gradient(135deg, #0ea5e9 0%, #2563eb 100%); }
        
        /* 노선별 색상 정의 */
        :root {
            --line-1: #0077DD;
            --line-2: #00CCAA;
            --line-3: #FFCC11;
            --line-4: #FF5522;
            --line-5: #EE0022;
            --line-6: #881188;
            --line-7: #FF8899;
            --line-8: #9856FF;
            --line-bh: #6677CC;
            /* 신규 추가 노선 색상 */
            --line-binju1: #CFBA0F;
            --line-binju-metro: #0000A0;
            --line-seohae: #718096; /* 서해 경전철(예정) - 그레이 */
            /* 덕빈남도 신규 노선 */
            --line-deokju1: #E7D600; /* 나카스 카스미 이미지 컬러 (파스텔 옐로우) */
            --line-deokbin: #FF516D; /* 오니츠카 나츠미 이미지 컬러 (오니너츠 핑크) */
        }

        /* 기존 테마 클래스 */
        .theme-1 { border-color: var(--line-1); color: var(--line-1); }
        .bg-theme-1 { background-color: var(--line-1); color: white; }
        .theme-2 { border-color: var(--line-2); color: var(--line-2); }
        .bg-theme-2 { background-color: var(--line-2); color: white; }
        .theme-3 { border-color: var(--line-3); color: #d4a000; }
        .bg-theme-3 { background-color: var(--line-3); color: black; }
        .theme-4 { border-color: var(--line-4); color: var(--line-4); }
        .bg-theme-4 { background-color: var(--line-4); color: white; }
        .theme-5 { border-color: var(--line-5); color: var(--line-5); }
        .bg-theme-5 { background-color: var(--line-5); color: white; }
        .theme-6 { border-color: var(--line-6); color: var(--line-6); }
        .bg-theme-6 { background-color: var(--line-6); color: white; }
        .theme-7 { border-color: var(--line-7); color: #ff5c75; }
        .bg-theme-7 { background-color: var(--line-7); color: white; }
        .theme-8 { border-color: var(--line-8); color: var(--line-8); }
        .bg-theme-8 { background-color: var(--line-8); color: white; }
        .theme-bh { border-color: var(--line-bh); color: var(--line-bh); }
        .bg-theme-bh { background-color: var(--line-bh); color: white; }

        /* ★ 신규 추가 테마 클래스 ★ */
        .theme-binju1 { border-color: var(--line-binju1); color: var(--line-binju1); }
        .bg-theme-binju1 { background-color: var(--line-binju1); color: white; }
        
        .theme-binju-metro { border-color: var(--line-binju-metro); color: var(--line-binju-metro); }
        .bg-theme-binju-metro { background-color: var(--line-binju-metro); color: white; }

        .theme-seohae { border-color: var(--line-seohae); color: var(--line-seohae); }
        .bg-theme-seohae { background-color: var(--line-seohae); color: white; }

        .theme-deokju1 { border-color: var(--line-deokju1); color: #BFA000; } /* 텍스트 가독성을 위해 조금 어둡게 */
        .bg-theme-deokju1 { background-color: var(--line-deokju1); color: black; }

        .theme-deokbin { border-color: var(--line-deokbin); color: var(--line-deokbin); }
        .bg-theme-deokbin { background-color: var(--line-deokbin); color: white; }


        .shop-card { transition: all 0.3s ease; display: block; }
        .shop-card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,0.15); }
        
        /* 모달 애니메이션 */
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .modal-content-animate {
            animation: modalFadeIn 0.3s ease-out forwards;
        }

        /* 스크롤바 커스텀 */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col">

    <header class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 h-16 flex justify-between items-center">
            <a href="#" class="flex items-center gap-2 group">
                <div class="h-8 w-8 bg-sky-600 rounded-full flex items-center justify-center text-white font-black text-xs">HB</div>
                <div class="text-sm font-bold text-gray-800 leading-tight ml-2">
                    효빈교통공사<br><span class="text-sky-600">GOODS SHOP</span>
                </div>
            </a>
            <nav class="hidden md:flex space-x-8 text-sm font-bold text-gray-600">
                <a href="#" class="hover:text-sky-600 transition">신상품</a>
                <button onclick="document.getElementById('search-section').scrollIntoView({behavior: 'smooth'})" class="hover:text-sky-600 transition">매장 찾기</button>
                <button onclick="document.getElementById('shop-list').scrollIntoView({behavior: 'smooth'})" class="hover:text-sky-600 transition">전체 매장</button>
            </nav>
            <a href="#" class="text-gray-500 hover:text-gray-900 md:hidden">
                <i class="fa-solid fa-bars text-xl"></i>
            </a>
        </div>
    </header>

    <section class="goods-gradient text-white py-20 relative overflow-hidden">
        <div class="absolute inset-0 opacity-10 bg-[url('https://placehold.co/1920x600/png?text=Pattern')] bg-repeat"></div>
        <div class="max-w-7xl mx-auto px-4 relative z-10 text-center">
            <h1 class="text-4xl md:text-6xl font-black mb-4">일상에 설렘을 더하다</h1>
            <p class="text-lg md:text-xl font-medium text-sky-100 mb-8">효빈교통공사의 감성을 담은 특별한 굿즈를 만나보세요.</p>
            <button onclick="document.getElementById('search-section').scrollIntoView({behavior: 'smooth'})" class="bg-white text-sky-600 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-sky-50 transition transform hover:scale-105">
                <i class="fa-solid fa-magnifying-glass-location mr-2"></i>가까운 매장 찾기
            </button>
        </div>
    </section>

    <section id="search-section" class="py-12 bg-white border-b border-gray-200">
        <div class="max-w-5xl mx-auto px-4">
            <div class="text-center mb-8">
                <h2 class="text-2xl font-bold text-gray-900"><i class="fa-solid fa-map-location-dot mr-2 text-sky-600"></i>가까운 굿즈샵 찾기</h2>
                <p class="text-gray-500 text-sm mt-2">행정구역(법정동/리)을 선택하여 주변 매장을 검색하세요.</p>
            </div>
            
            <div class="bg-gray-100 p-6 rounded-2xl shadow-inner border border-gray-200">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
                    <select id="sidoSelect" class="p-3 rounded-lg border border-gray-300 w-full focus:outline-none focus:ring-2 focus:ring-sky-500 transition" onchange="updateSigungu()">
                        <option value="">시/도 선택</option>
                    </select>
                    <select id="sigunguSelect" class="p-3 rounded-lg border border-gray-300 w-full focus:outline-none focus:ring-2 focus:ring-sky-500 transition" onchange="updateAdminDong()" disabled>
                        <option value="">시/군/구 선택</option>
                    </select>
                    <select id="adminDongSelect" class="p-3 rounded-lg border border-gray-300 w-full focus:outline-none focus:ring-2 focus:ring-sky-500 transition" onchange="updateLegalDong()" disabled>
                        <option value="">읍/면/동 (행정)</option>
                    </select>
                    <select id="legalDongSelect" class="p-3 rounded-lg border border-gray-300 w-full focus:outline-none focus:ring-2 focus:ring-sky-500 transition" disabled>
                        <option value="">법정동/리 선택</option>
                    </select>
                </div>
                <button onclick="searchShop()" class="w-full bg-sky-600 text-white font-bold py-3.5 rounded-lg hover:bg-sky-700 transition shadow-md">
                    <i class="fa-solid fa-search mr-2"></i>매장 검색하기
                </button>
            </div>
            <div id="search-result-msg" class="mt-6 text-center text-gray-700 font-bold hidden p-4 bg-sky-50 rounded-lg border border-sky-100"></div>
        </div>
    </section>

    <section id="shop-list" class="py-16 max-w-7xl mx-auto px-4">
        <h2 class="text-3xl font-bold text-gray-900 mb-10 text-center"><span class="border-b-4 border-sky-500 pb-1">전체 매장 안내</span></h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="shop-grid">
            
            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-1 border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="효빈광역시 중구 창선동3가">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-1 text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">1호선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>10:00 - 21:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">창선역점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-1"></i>효빈시 중구 창선동3가 (지하 2층)</p>
                <div class="bg-sky-50 p-3 rounded-lg text-xs text-sky-700 font-bold border border-sky-100 shop-feature">
                    <i class="fa-solid fa-star text-yellow-400 mr-1"></i>1호선 최대 규모 매장
                </div>
            </div>

            <!-- ... existing shop cards ... -->
            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-1 border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="효빈광역시 창전구 창전동">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-1 text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">1호선 탄성지선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>09:00 - 20:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">창전구청역점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-1"></i>효빈시 창전구 창전동 (지하 1층)</p>
                <div class="bg-sky-50 p-3 rounded-lg text-xs text-sky-700 font-bold border border-sky-100 shop-feature">
                    <i class="fa-solid fa-pen-nib mr-1"></i>문구류 특화 매장
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-2 border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="효빈광역시 북구 고송동">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-2 text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">2호선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>10:00 - 22:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">고송교차로역점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-2"></i>효빈시 북구 고송동 (지하 1층)</p>
                <div class="bg-teal-50 p-3 rounded-lg text-xs text-teal-700 font-bold border border-teal-100 shop-feature">
                    <i class="fa-solid fa-music mr-1"></i>뱅드림 콜라보 굿즈 성지
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-3 border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="효빈광역시 청엽구 청엽동">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-3 text-xs font-bold px-3 py-1 rounded-full shadow-sm text-black line-badge">3호선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>09:00 - 20:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">청엽구청역점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-3"></i>효빈시 청엽구 청엽동 (지하 2층)</p>
                <div class="bg-yellow-50 p-3 rounded-lg text-xs text-yellow-700 font-bold border border-yellow-100 shop-feature">
                    <i class="fa-solid fa-leaf mr-1"></i>친환경 에코백 전문
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-4 border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="효빈광역시 안천구 이자동">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-4 text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">4호선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>10:00 - 21:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">이자공원역점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-4"></i>효빈시 안천구 이자동 (지하 1층)</p>
                <div class="bg-orange-50 p-3 rounded-lg text-xs text-orange-700 font-bold border border-orange-100 shop-feature">
                    <i class="fa-solid fa-heart mr-1"></i>러브라이브 선샤인 콜라보
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-5 border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="효빈광역시 북구 소조동">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-5 text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">5호선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>09:00 - 20:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">소조역점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-5"></i>효빈시 북구 소조동 (지하 1층)</p>
                <div class="bg-red-50 p-3 rounded-lg text-xs text-red-700 font-bold border border-red-100 shop-feature">
                    <i class="fa-solid fa-gift mr-1"></i>선물용 패키지 상품 주력
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-6 border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="효빈광역시 북구 중수동">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-6 text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">6호선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>10:00 - 22:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">중수역점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-6"></i>효빈시 북구 중수동 (지하 2층)</p>
                <div class="bg-purple-50 p-3 rounded-lg text-xs text-purple-700 font-bold border border-purple-100 shop-feature">
                    <i class="fa-solid fa-star mr-1"></i>니지동 콜라보 성지
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-7 border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="효빈광역시 중구 중앙로1가">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-7 text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">7호선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>11:00 - 20:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">중앙로1가역점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-7"></i>효빈시 중구 중앙로1가 482 (1층)</p>
                <div class="bg-pink-50 p-3 rounded-lg text-xs text-pink-700 font-bold border border-pink-100 shop-feature">
                    <i class="fa-solid fa-building mr-1"></i>유일한 로드샵 매장
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-8 border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="효빈광역시 남구 운양동">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-8 text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">8호선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>09:00 - 18:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">운양중앙역점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-8"></i>효빈시 남구 운양동 (지상 2층)</p>
                <div class="bg-violet-50 p-3 rounded-lg text-xs text-violet-700 font-bold border border-violet-100 shop-feature">
                    <i class="fa-solid fa-sun mr-1"></i>채광이 좋은 뷰 맛집
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border-2 theme-bh border-t-8 p-6 shadow-xl relative ring-1 ring-slate-100 cursor-pointer" onclick="openModal(this)" data-loc="효빈광역시 동구 사가당동">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-bh text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">빈효선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>08:00 - 22:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">효빈역 플래그십</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-bh"></i>효빈시 동구 사가당동 (지상 2층)</p>
                <div class="bg-indigo-50 p-3 rounded-lg text-xs text-indigo-700 font-bold border border-indigo-100 shop-feature">
                    <i class="fa-solid fa-crown mr-1"></i>빈효선 굿즈 & 한정판
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-6 border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="효빈광역시 북구 고송동">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-6 text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">본사</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>09:00 - 18:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">효빈교통공사 본점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-6"></i>효빈시 북구 고송동 39-7 (2층)</p>
                <div class="bg-purple-50 p-3 rounded-lg text-xs text-purple-700 font-bold border border-purple-100 shop-feature">
                    <i class="fa-solid fa-building mr-1"></i>공사 본사 직영 매장
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-bh border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="덕빈북도 약산시 보녕동">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-bh text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">빈효선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>10:00 - 20:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">약산보녕점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-bh"></i>덕빈북도 약산시 보녕동 293</p>
                <div class="bg-indigo-50 p-3 rounded-lg text-xs text-indigo-700 font-bold border border-indigo-100 shop-feature">
                    <i class="fa-solid fa-train mr-1"></i>약산역 1번 출구 도보 3분
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-bh border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="덕빈북도 천주시 궁하구 아이동">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-bh text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">빈효선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>10:00 - 22:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">아이역점 <i class="fa-solid fa-heart text-orange-400 ml-1 animate-bounce"></i></h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-bh"></i>천주시 궁하구 아이동 29-1</p>
                <div class="bg-orange-50 p-3 rounded-lg text-xs text-orange-700 font-bold border border-orange-100 shop-feature">
                    <i class="fa-solid fa-music mr-1"></i>점장이 아이(Ai) 오시! 콜라보
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-4 border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="효빈광역시 탄성군 도변읍 요우리">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-4 text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">4호선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>09:00 - 21:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">도변요우점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-4"></i>효빈시 탄성군 도변읍 요우리</p>
                <div class="bg-orange-50 p-3 rounded-lg text-xs text-orange-700 font-bold border border-orange-100 shop-feature">
                    <i class="fa-solid fa-ship mr-1"></i>요우역 요소로 광장 앞
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-3 border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="효빈광역시 서구 과진동">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-3 text-xs font-bold px-3 py-1 rounded-full shadow-sm text-black line-badge">3호선</span>
                    <span class="text-red-500 text-xs font-bold bg-red-100 px-2 py-1 rounded animate-pulse shop-hours">OPEN 예정</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">과진역점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-3"></i>효빈시 서구 과진동 (역사 내)</p>
                <div class="bg-yellow-50 p-3 rounded-lg text-xs text-yellow-700 font-bold border border-yellow-100 shop-feature">
                    <i class="fa-solid fa-hammer mr-1"></i>현재 내부 인테리어 공사중
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-3 border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="덕빈북도 기도군 주길면 원청리">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-3 text-xs font-bold px-3 py-1 rounded-full shadow-sm text-black line-badge">3호선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>06:00 - 22:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">효빈국제공항점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-3"></i>덕빈북도 기도군 주길면 원청리 (공항 내)</p>
                <div class="bg-yellow-50 p-3 rounded-lg text-xs text-yellow-700 font-bold border border-yellow-100 shop-feature">
                    <i class="fa-solid fa-plane mr-1"></i>여행용 굿즈 & 공항 한정판
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-binju1 border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="덕빈북도 빈주시 장기구 장기동">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-binju1 text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">빈주 1호선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>10:00 - 21:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">빈주장기점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-binju1"></i>덕빈북도 빈주시 장기구 장기동 27</p>
                <div class="bg-yellow-50 p-3 rounded-lg text-xs text-yellow-800 font-bold border border-yellow-200 shop-feature">
                    <i class="fa-solid fa-music mr-1"></i>점장이 나가사키 소요 오시
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-binju-metro border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="덕빈북도 빈주시 가원구 증림리">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-binju-metro text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">빈주광역</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>09:00 - 20:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">빈주천조점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-binju-metro"></i>덕빈북도 빈주시 천조읍 증림리</p>
                <div class="bg-blue-50 p-3 rounded-lg text-xs text-blue-800 font-bold border border-blue-200 shop-feature">
                    <i class="fa-solid fa-guitar mr-1"></i>점장이 치하야 아논 오시
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-seohae border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="덕빈북도 서해시 우궁동">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-seohae text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">서해시</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>10:00 - 20:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">서해점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-seohae"></i>덕빈북도 서해시 우궁동 22</p>
                <div class="bg-gray-50 p-3 rounded-lg text-xs text-gray-700 font-bold border border-gray-200 shop-feature">
                    <i class="fa-solid fa-train-tram mr-1"></i>서해경전철 개통 예정 지역
                </div>
            </div>

            <!-- 신규 덕빈남도 매장 -->
            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-deokju1 border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="덕빈남도 덕주시 조전구 박현동 238">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-deokju1 text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">덕주 1호선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>10:00 - 21:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">덕주점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-deokju1"></i>덕빈남도 덕주시 조전구 박현동 238 (지상 2층)</p>
                <div class="bg-yellow-50 p-3 rounded-lg text-xs text-yellow-700 font-bold border border-yellow-200 shop-feature">
                    <i class="fa-solid fa-crown mr-1"></i>점장이 나카스 카스미 오시 (L-O-V-E 카스밍!)
                </div>
            </div>

            <div class="shop-card bg-white rounded-2xl border border-gray-200 p-6 theme-deokbin border-t-8 relative cursor-pointer" onclick="openModal(this)" data-loc="덕빈남도 낙주시 엽산동 87">
                <div class="flex justify-between items-start mb-4">
                    <span class="bg-theme-deokbin text-xs font-bold px-3 py-1 rounded-full shadow-sm line-badge">덕빈선</span>
                    <span class="text-gray-400 text-xs font-medium bg-gray-100 px-2 py-1 rounded shop-hours"><i class="fa-regular fa-clock mr-1"></i>08:00 - 22:00</span>
                </div>
                <h3 class="text-2xl font-black text-gray-800 mb-2 shop-title">낙주점</h3>
                <p class="text-gray-600 text-sm mb-4 flex items-start shop-addr"><i class="fa-solid fa-location-dot mr-2 mt-1 theme-deokbin"></i>덕빈남도 낙주시 엽산동 87 (낙주역 내)</p>
                <div class="bg-pink-50 p-3 rounded-lg text-xs text-pink-700 font-bold border border-pink-200 shop-feature">
                    <i class="fa-solid fa-video mr-1"></i>점장이 오니츠카 나츠미 오시 (오니너츠 채널 구독!)
                </div>
            </div>

        </div>
    </section>

    <!-- Modal Structure -->
    <div id="shopModal" class="fixed inset-0 z-[100] hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <!-- Backdrop -->
        <div class="fixed inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity" onclick="closeModal()"></div>

        <!-- Panel -->
        <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
            <div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0">
                <div class="relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-lg border-t-8 modal-content-animate" id="modalContent">
                    <div class="bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4 max-h-[85vh] overflow-y-auto custom-scrollbar">
                        <div class="sm:flex sm:items-start">
                            <div class="mt-1 text-center sm:ml-2 sm:mt-0 sm:text-left w-full">
                                <div class="flex justify-between items-center mb-4">
                                    <span id="modalLineBadge" class="text-xs font-bold px-3 py-1 rounded-full text-white bg-gray-500 shadow-sm">노선</span>
                                    <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 transition rounded-full p-2 hover:bg-gray-100">
                                        <i class="fa-solid fa-xmark text-xl"></i>
                                    </button>
                                </div>
                                
                                <h3 class="text-3xl font-black leading-tight text-gray-900 mb-1" id="modalTitle">Shop Name</h3>
                                <p class="text-gray-500 text-sm mb-5 font-medium flex items-center gap-1">
                                    <i class="fa-solid fa-location-dot text-sky-500"></i>
                                    <span id="modalAddress">Address</span>
                                </p>
                                
                                <div class="space-y-6">
                                    <!-- 특징 배지 영역 -->
                                    <div id="modalFeature" class="rounded-lg transform transition-all duration-300 hover:scale-[1.02]"></div>

                                    <!-- 상세 설명 영역 -->
                                    <div>
                                        <h4 class="font-bold text-gray-900 mb-2 flex items-center text-lg">
                                            <i class="fa-solid fa-store mr-2 text-sky-600"></i>매장 소개
                                        </h4>
                                        <p id="modalDescription" class="text-sm text-gray-600 leading-relaxed bg-gray-50 p-4 rounded-xl border border-gray-100">
                                            <!-- 동적 설명 로드 -->
                                        </p>
                                    </div>

                                    <!-- 운영 정보 영역 -->
                                    <div class="grid grid-cols-2 gap-3">
                                        <div class="bg-white border border-gray-200 p-3 rounded-xl flex items-center gap-3">
                                            <div class="w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600">
                                                <i class="fa-regular fa-clock text-lg"></i>
                                            </div>
                                            <div>
                                                <p class="text-xs text-gray-400 font-bold">운영 시간</p>
                                                <p id="modalHours" class="text-sm font-bold text-gray-800">00:00 - 00:00</p>
                                            </div>
                                        </div>
                                        <div class="bg-white border border-gray-200 p-3 rounded-xl flex items-center gap-3">
                                            <div class="w-10 h-10 rounded-full bg-green-50 flex items-center justify-center text-green-600">
                                                <i class="fa-solid fa-phone text-lg"></i>
                                            </div>
                                            <div>
                                                <p class="text-xs text-gray-400 font-bold">전화번호</p>
                                                <p class="text-sm font-bold text-gray-800" id="modalPhone">0507-1234-5678</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 서비스 정보 (동적 렌더링) -->
                                    <div class="border-t border-gray-100 pt-5">
                                        <h4 class="font-bold text-gray-900 mb-3 text-sm">제공 서비스</h4>
                                        <div id="modalServices" class="grid grid-cols-3 gap-2 text-center">
                                            <!-- 자바스크립트로 서비스 아이콘이 여기에 들어갑니다 -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 border-t border-gray-100">
                        <button type="button" class="inline-flex w-full justify-center rounded-full bg-sky-600 px-8 py-3 text-sm font-bold text-white shadow-lg shadow-sky-200 hover:bg-sky-500 sm:ml-3 sm:w-auto transition transform hover:scale-105 active:scale-95" onclick="closeModal()">닫기</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-slate-900 text-slate-400 text-xs py-8 mt-auto">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <div class="mb-4">
                <span class="text-2xl font-black text-sky-600 tracking-tighter mr-2">HB</span>
                <span class="font-bold text-white">효빈교통공사</span>
            </div>
            <p class="mb-2">본 페이지는 효빈교통공사의 가상 굿즈샵 안내 페이지입니다.</p>
            <p>Copyright 2016. 효빈교통공사 All right reserved.</p>
        </div>
    </footer>

    <script>
        // Shop Details Data
        const shopDetails = {
            "창선역점": "효빈교통공사 1호선의 중심, 창선역에 위치한 플래그십 스토어급 매장입니다. 모든 라인업의 굿즈를 가장 빠르게 만나볼 수 있으며, 넓은 휴식 공간과 포토존이 마련되어 있습니다.",
            "창전구청역점": "학생과 직장인을 위한 다양한 문구류가 가득한 매장입니다. 효빈교통공사 마스코트 캐릭터 볼펜, 노트, 다이어리 등 실용적인 아이템을 집중적으로 선보입니다.",
            "고송교차로역점": "리듬 게임 'BanG Dream!' 팬들의 성지! 각 밴드별 한정판 콜라보 굿즈와 실물 크기 캐릭터 패널이 전시되어 있어 팬들에게 특별한 경험을 선사합니다.",
            "청엽구청역점": "지속 가능한 미래를 생각하는 친환경 테마 매장입니다. 폐지하철 노선도를 재활용한 에코백, 텀블러 등 환경을 생각하는 착한 소비를 지향합니다.",
            "이자공원역점": "'러브라이브! 선샤인!!' 콜라보레이션 매장으로, 아쿠아(Aqours) 멤버들의 생일 기념 이벤트와 한정판 굿즈가 준비되어 있습니다. 매장 내 BGM도 특별합니다.",
            "소조역점": "소중한 사람에게 마음을 전하세요. 고급스러운 포장 서비스와 선물용 기프트 세트가 특화된 매장으로, 기념품 구매에 최적화되어 있습니다.",
            "중수역점": "'러브라이브! 니지가사키 학원 스쿨 아이돌 동호회' 테마 매장입니다. 멤버별 상징색으로 꾸며진 인테리어와 다양한 굿즈가 팬들을 기다립니다.",
            "중앙로1가역점": "지하철 역사가 아닌 지상에 위치한 유일한 로드샵 매장입니다. 탁 트인 1층 공간에서 쾌적한 쇼핑을 즐기실 수 있으며, 지나가는 시민 누구나 쉽게 방문 가능합니다.",
            "운양중앙역점": "지상 2층에 위치하여 따스한 햇살이 들어오는 매장입니다. 창밖으로 지나가는 열차를 바라보며 커피 한 잔과 함께 굿즈를 구경할 수 있는 힐링 스팟입니다.",
            "효빈역 플래그십": "효빈시의 이름을 딴 상징적인 매장입니다. 오직 이곳에서만 구할 수 있는 '빈효선 개통 기념' 프리미엄 한정판 굿즈와 역사 갤러리가 운영됩니다.",
            "효빈교통공사 본점": "효빈교통공사 본사 2층에 위치한 직영 매장으로, 신상품이 가장 먼저 입고되는 곳입니다. 공사 직원들이 직접 추천하는 '이달의 픽' 코너를 놓치지 마세요.",
            "약산보녕점": "덕빈북도 약산시의 교통 요충지에 위치한 매장입니다. 지역 주민들을 위한 생활 밀착형 굿즈와 여행객을 위한 기념품이 조화롭게 구성되어 있습니다.",
            "아이역점": "역 이름 '아이'에서 착안한 '러브라이브! 니지가사키 학원 스쿨 아이돌 동호회'의 '미야시타 아이' 콜라보 매장입니다. 활기찬 갸루 감성과 함께 다쟈레(말장난)가 가득한 유쾌한 공간입니다.",
            "도변요우점": "요소로(You-Soro)! '와타나베 요우'를 테마로 한 시원한 블루 톤의 인테리어가 돋보입니다. 전속 점장님(가상)의 활기찬 안내 방송이 들리는 듯한 매장입니다.",
            "과진역점": "현재 쾌적한 쇼핑 환경을 위해 내부 인테리어 공사가 진행 중입니다. 곧 새로운 모습으로 고객 여러분을 맞이하겠습니다. (오픈 예정일: 2024년 12월)",
            "효빈국제공항점": "여행의 설렘을 더해줄 트래블 굿즈 전문 매장입니다. 여권 케이스, 캐리어 스티커, 목베개 등 비행 전 필수 아이템을 만나보세요.",
            "빈주장기점": "BanG Dream! It's MyGO!!!!!의 '나가사키 소요'를 테마로 한 차분하고 우아한 분위기의 매장입니다. 몽블랑 등 디저트 카페와 연계된 굿즈를 만나보세요.",
            "빈주천조점": "BanG Dream! It's MyGO!!!!!의 '치하야 아논' 테마 매장입니다. 톡톡 튀는 핑크빛 인테리어와 함께 인싸력 넘치는 다양한 패션 아이템 굿즈가 가득합니다.",
            "서해점": "곧 개통될 서해경전철을 기념하여 미리 오픈한 홍보관 겸 굿즈샵입니다. 미래의 노선도를 담은 굿즈와 경전철 모형을 미리 만나보실 수 있습니다.",
            "덕주점": "덕주1호선 박현역 지상 2층에 위치하여 지상경전철이 지나가는 풍경을 감상할 수 있습니다. '나카스 카스미'를 테마로 한 귀엽고 깜찍한 인테리어와 장난기 넘치는 소품들이 가득합니다.",
            "낙주점": "덕빈선 낙주역에 위치한 매장으로, 기차 여행의 설렘을 더해줍니다. '오니츠카 나츠미'의 '오니너츠' 채널을 테마로 한 트렌디하고 화려한 굿즈 라인업을 자랑합니다."
        };

        // Shop Services Configuration
        const shopServicesData = {
            "창선역점": ["cafe", "tax_refund", "gacha", "print"],
            "효빈역 플래그십": ["cafe", "print", "locker", "photo"],
            "효빈교통공사 본점": ["cafe", "lounge", "packing"],
            "아이역점": ["cafe", "gacha", "photo", "arcade"],
            "덕주점": ["cafe", "gacha", "photo"],
            "낙주점": ["cafe", "video", "print"],
            "효빈국제공항점": ["tax_refund", "locker", "roaming", "packing"],
            "고송교차로역점": ["gacha", "arcade", "photo"],
            "이자공원역점": ["cafe", "gacha", "photo"],
            "중수역점": ["photo", "print", "gacha"],
            "도변요우점": ["photo", "locker", "packing"],
            "빈주장기점": ["cafe", "packing"],
            "빈주천조점": ["photo", "print", "packing"]
        };

        const defaultServices = ["wifi", "local_pay", "packing"];

        const serviceIcons = {
            "wifi": { icon: "fa-wifi", text: "무료 와이파이" },
            "local_pay": { icon: "fa-won-sign", text: "지역화폐" },
            "packing": { icon: "fa-bag-shopping", text: "포장 가능" },
            "cafe": { icon: "fa-mug-hot", text: "콜라보 카페" },
            "tax_refund": { icon: "fa-passport", text: "Tax Refund" },
            "locker": { icon: "fa-boxes-packing", text: "물품 보관" },
            "gacha": { icon: "fa-shapes", text: "캡슐 가챠" },
            "print": { icon: "fa-print", text: "커스텀 굿즈" },
            "photo": { icon: "fa-camera", text: "포토 부스" },
            "arcade": { icon: "fa-gamepad", text: "미니 게임존" },
            "video": { icon: "fa-video", text: "영상 촬영 부스" },
            "roaming": { icon: "fa-signal", text: "유심/로밍" },
            "lounge": { icon: "fa-couch", text: "휴게 라운지" }
        };

        // Shop Phone Numbers
        const shopPhones = {
            "창선역점": "079-332-1984",
            "창전구청역점": "079-554-2031",
            "고송교차로역점": "079-887-3920",
            "청엽구청역점": "079-441-5502",
            "이자공원역점": "079-223-9918",
            "소조역점": "079-665-7743",
            "중수역점": "079-112-8859",
            "중앙로1가역점": "079-990-1234",
            "운양중앙역점": "079-776-4432",
            "효빈역 플래그십": "079-001-1004",
            "효빈교통공사 본점": "079-000-0001",
            "약산보녕점": "078-555-1212",
            "아이역점": "078-484-2525", 
            "도변요우점": "079-828-2456",
            "과진역점": "079-333-6666",
            "효빈국제공항점": "078-123-4567",
            "빈주장기점": "078-987-6543",
            "빈주천조점": "078-567-8901",
            "서해점": "078-111-2222",
            "덕주점": "077-828-7272", // 덕빈남도 국번 077 적용
            "낙주점": "077-723-5252"  // 덕빈남도 국번 077 적용
        };

        // Modal Logic
        const modal = document.getElementById('shopModal');
        const modalContent = document.getElementById('modalContent');
        
        function openModal(element) {
            const titleHTML = element.querySelector('.shop-title').innerHTML; 
            const titleText = element.querySelector('.shop-title').innerText.replace(/\s+/g, ' ').trim(); 
            
            let description = "효빈교통공사 공식 굿즈샵입니다.";
            let phone = "0507-1234-5678"; 
            let services = defaultServices;

            // Find matching data keys
            for (const key in shopDetails) {
                if (titleText.includes(key)) {
                    description = shopDetails[key];
                    if (shopPhones[key]) phone = shopPhones[key];
                    if (shopServicesData[key]) services = shopServicesData[key];
                    break;
                }
            }

            const lineBadge = element.querySelector('.line-badge');
            const hours = element.querySelector('.shop-hours').innerHTML;
            const address = element.getAttribute('data-loc') || element.querySelector('.shop-addr').innerText;
            const feature = element.querySelector('.shop-feature').cloneNode(true); 

            let themeClass = 'theme-1'; 
            element.classList.forEach(cls => {
                if(cls.startsWith('theme-')) themeClass = cls;
            });

            // Populate Modal
            document.getElementById('modalTitle').innerHTML = titleHTML;
            document.getElementById('modalHours').innerHTML = hours; 
            document.getElementById('modalAddress').innerText = address;
            document.getElementById('modalDescription').innerText = description;
            document.getElementById('modalPhone').innerText = phone;
            
            // Render Services
            const servicesContainer = document.getElementById('modalServices');
            servicesContainer.innerHTML = '';
            services.forEach(svcKey => {
                if(serviceIcons[svcKey]) {
                    const svc = serviceIcons[svcKey];
                    const svcEl = document.createElement('div');
                    svcEl.className = "bg-gray-50 p-2 rounded-lg flex flex-col items-center justify-center gap-1 hover:bg-sky-50 transition";
                    svcEl.innerHTML = `
                        <i class="fa-solid ${svc.icon} text-gray-400 text-lg mb-1"></i>
                        <p class="text-[10px] text-gray-500 font-bold">${svc.text}</p>
                    `;
                    servicesContainer.appendChild(svcEl);
                }
            });

            // Handle Feature Box
            const modalFeatureContainer = document.getElementById('modalFeature');
            modalFeatureContainer.innerHTML = ''; 
            feature.classList.remove('mt-auto'); 
            feature.classList.add('w-full');
            modalFeatureContainer.appendChild(feature);

            // Handle Line Badge
            const modalBadge = document.getElementById('modalLineBadge');
            modalBadge.className = lineBadge.className; 
            modalBadge.classList.remove('line-badge'); 
            modalBadge.innerText = lineBadge.innerText;

            modalContent.className = modalContent.className.replace(/theme-[\w-]+/g, '').trim();
            modalContent.classList.add(themeClass);

            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; 
        }

        function closeModal() {
            modal.classList.add('hidden');
            document.body.style.overflow = ''; 
        }

        document.addEventListener('keydown', function(event) {
            if (event.key === "Escape" && !modal.classList.contains('hidden')) {
                closeModal();
            }
        });

        // Search Logic (Existing)
        const adminDivisions = {
            "효빈광역시": {
                // ... (효빈광역시 데이터 생략 - 기존과 동일) ...
                "남구": { "고당동": ["고간동", "평당동"], "곽산1동": ["곽산동"], "곽산2동": ["곽산동"], "어간1동": ["어간동"], "어간2동": ["어간동"], "어간3동": ["어간동", "운양동"], "월천동": ["박산동", "신흥동", "월천동", "포장동"], "평당1동": ["평당동"], "평당2동": ["평당동"], "평당3동": ["평당동"], "평당4동": ["평당동"], "평당5동": ["평당동"], "평당6동": ["평당동"], "평당7동": ["평당동"], "항1동": ["항동1가"], "항2동": ["항동1가", "항동2가"], "항3동": ["항동1가", "항동2가", "항동3가"], "항4동": ["항동1가", "항동3가"] },
                "동구": { "덕현1동": ["덕현동"], "덕현2동": ["덕현동"], "덕현3동": ["덕현동"], "덕현4동": ["덕현동"], "덕현5동": ["덕현동"], "덕현6동": ["덕현동"], "덕현7동": ["덕현동"], "덕현9동": ["덕현동"], "사가당1동": ["사가당동"], "사가당2동": ["사가당동"], "사가당3동": ["사가당동"], "사가당4동": ["사가당동"], "전천동": ["전천동"] },
                "북구": { "고송1동": ["고송동"], "고송2동": ["고송동"], "고송3동": ["고송동"], "고송4동": ["고송동"], "고송5동": ["고송동"], "고송6동": ["고송동"], "고송7동": ["고송동"], "고송8동": ["고송동"], "남전동": ["남전동"], "사능동": ["사능동1가", "사능동2가", "사능동3가", "생곡동", "치남동"], "산고동": ["사연동", "서도동", "추산동"], "소조동": ["소조동"], "오내1동": ["오내동"], "오내2동": ["오내동"], "중수1동": ["중수동"], "중수2동": ["중수동"], "중수3동": ["중수동"], "중수4동": ["중수동"], "진희동": ["입희동", "진희동"], "채산동": ["곡진동", "등기동", "수포동", "습지동", "신영동", "실본동", "아자동", "아진동", "채산동", "평전동"], "천왕사동": ["천왕사동", "해서동"], "청능동": ["입선동", "입희동", "청능동"], "포산동": ["포산동"] },
                "서구": { "과진1동": ["과진동"], "과진2동": ["과진동"], "과진3동": ["과진동"], "과진4동": ["과진동"], "과진5동": ["과진동"], "과진6동": ["과진동"], "과진7동": ["과진동"], "당선1동": ["당선동"], "당선2동": ["당선동"], "당선3동": ["당선동"], "당선4동": ["당선동", "칠천동"], "북성동": ["내성동1가", "내성동2가", "내성동3가", "북문동1가", "북문동2가"], "사복1동": ["사복동"], "사복2동": ["사복동"], "청덕1동": ["청덕동"], "청덕2동": ["청덕동"], "청덕3동": ["청덕동"] },
                "안천구": { "뇌전동": ["뇌전동", "상가동", "세익동", "치장동", "팔월동", "하가동"], "당가1동": ["당가동"], "당가2동": ["당가동"], "백합동": ["백합동", "상점동"], "북택동": ["북택동", "하구동"], "성저동": ["성저동"], "악부동": ["광상동", "군청동", "무로동", "악부동", "일화동", "제택동", "천문동", "천본동", "초음동", "타천동", "팔망성동"], "안천1동": ["안천동"], "안천2동": ["안천동"], "안천3동": ["안천동"], "안천4동": ["안천동"], "안천5동": ["안천동"], "안천6동": ["안천동"], "안천7동": ["안천동"], "이십기동": ["리의동", "심회동", "이십기동", "추자동"], "이자1동": ["신동", "이자동"], "이자2동": ["이자동"], "이자3동": ["이자동", "탄자동"], "이자4동": ["이자동"], "창건동": ["창건동"], "칠채동": ["남동", "능릉동", "서수동", "영색무동", "월삼동", "융문동", "정치동", "칠채동"] },
                "중구": { "고도동": ["고도동", "서남동", "시남동", "시북동", "십덕동", "우이동"], "궁영동": ["궁정동", "도람동", "만실동", "영동1가", "영동2가"], "내조1동": ["내조동"], "내조2동": ["내조동"], "내항동": ["내항동", "명일동"], "신덕동": ["신덕동"], "약맥동": ["목동", "삼각동", "약맥동", "오주동", "일향동"], "유내동": ["경동", "리사동", "유내동", "정동"], "조유동": ["조유동1가", "조유동2가", "조유동3가", "조유동4가", "조유동5가", "천석동1가", "천석동2가", "천석동3가"], "중앙동": ["소장동1가", "소장동2가", "심동1가", "심동2가", "원동1가", "원동2가", "원동3가", "원동4가", "중앙로1가", "중앙로2가", "중앙로3가", "중앙로4가", "중앙로5가", "중앙로6가", "지유동1가", "지유동2가", "창선동1가", "창선동2가", "창선동3가", "훈동"], "중정동": ["오석동", "완동1가", "완동2가", "완동3가", "중동1가", "중동2가", "중동3가", "중보로"] },
                "창전구": { "광정동": ["광정동", "마시동", "보통동", "생덕동"], "동곡동": ["동곡동", "투자동"], "쌍엽1동": ["쌍엽동"], "쌍엽2동": ["쌍엽동"], "유류동": ["유류동"], "진백동": ["시로동", "진백동"], "창전1동": ["창전동"], "창전2동": ["창전동"], "창전3동": ["창전동"], "창전4동": ["창전동"], "창전5동": ["창전동"], "칠심1동": ["칠심동"], "칠심2동": ["칠심동"], "칠심3동": ["칠심동"], "팔조동": ["팔조동"] },
                "청엽구": { "동리동": ["동리동"], "등동": ["등동"], "마잡1동": ["마잡동", "서증동", "헌이송동"], "마잡2동": ["마잡동"], "비마리동": ["비마동", "사노동"], "우전1동": ["우전동"], "우전2동": ["우전동"], "우전3동": ["우전동"], "우택동": ["우택동"], "입빈동": ["입동1가", "입동2가", "입동3가", "효빈동1가", "효빈동2가"], "청엽1동": ["청엽동"], "청엽2동": ["청엽동"], "청엽3동": ["청엽동"], "청엽4동": ["청엽동"], "청엽5동": ["청엽동"], "청엽6동": ["청엽동"] },
                "탄성군": { "고해읍": ["고해리", "율일리", "은진원리", "이식리", "이와리", "장심리", "전추리", "정명리", "천가리"], "도변읍": ["계층리", "도변리", "요우리", "잠재리", "조일리", "표명리"], "도변읍(앵내출장소)": ["앵내리"], "도향면": ["미로리", "반주리", "벽천리", "분음리", "시초리", "영왕리", "일일리", "일하리", "초반리", "춘일경리", "하공리"], "서목읍": ["록구리", "마희리", "서목리", "소춘리", "승남리", "음일리", "일회리", "입리", "잠금리", "조산리", "파래리"], "소원면": ["라면리", "부우리", "소원리", "윤부리"], "야진읍": ["미우리", "신리", "아득리", "야진리", "원심리"], "정근면": ["구생리", "사촌리", "안경리", "익목리", "처구리", "촌주리", "층부리", "회층리"], "탄성읍": ["고무리", "공리", "명무리", "무성리", "미성리", "성규리", "탄성리"], "흑택면": ["루비리", "명현리", "보습리", "은염리", "흑택리"] }
            },
            "덕빈북도": {
                // ... (덕빈북도 데이터 생략 - 기존과 동일) ...
                "강주시": { "갈원면": ["갈중리", "사성리", "상루리", "설속리", "송령리", "우아리", "원앙리"], "곡전면": ["결목리", "굴회리", "남조리", "신전리", "애내리", "의내리", "일향리", "좌등리"], "공문면": ["강번리", "고규리", "봉전리", "소림리", "유사리", "이파리", "향자리"], "과탐동": ["물리동", "생물동", "지학동", "화학동"], "광릉동": ["광릉동"], "금상면": ["금상리", "대교리", "상건리", "상인리", "선안리", "원울리"], "문성1동": ["문성동"], "문성2동": ["문성동", "어목동"], "백택동": ["백택동", "일원동"], "북예면": ["대웅리", "상미리", "송영리", "이달리", "재등리", "주하리", "화주리", "희실리"], "삼랑동": ["삼랑동"], "석동면": ["구명리", "명리", "몽리", "전미리", "전중리", "초내리", "풍화리", "화궁리"], "석북면": ["구보리", "남전리", "목금리", "반전리", "엽산리", "월음리", "유정리"], "석서면": ["계천리", "궁강리", "보석리", "복견리", "석남리", "석서리", "시릉리"], "석성동": ["산덕동", "석성동"], "신흥동": ["본동", "신정동", "앵동", "영동2가", "중흥동", "하판동", "흥촌동"], "심전1동": ["심전동"], "심전2동": ["심전동"], "야판동": ["야시동", "판동"], "입포동": ["당선동", "만속동", "입선동", "포시동"], "자유동": ["극한동", "수렴동", "자유동", "제곱동", "평화동"], "종상동": ["군원동", "종상동", "토형동"], "좌구동": ["운안동", "좌원동"], "중앙동": ["굴단동", "궁지동", "남동", "북동", "서동", "영동1가", "잠진동", "장원동", "장진동", "중앙로1가", "중앙로2가", "중앙로3가", "중앙로4가"], "청성읍": ["사기리", "사산이리", "사소리", "성남리", "성북리", "송력리", "청성리", "효손리"], "춘일동": ["다이동", "춘일동", "환산동"], "탕산동": ["죽지동", "탕산동", "향반동"], "풍영면": ["상론리", "성선리", "실산리", "오라리", "패로리", "풍주리"], "풍원면": ["서련리", "수두리", "옹령리", "읍내리", "풍원리"] },
                "계성시": { "계성1동": ["계성동"], "계성2동": ["계성동"], "마시1동": ["마시동", "시로동", "시정동"], "마시2동": ["마시동"], "진백1동": ["부남동", "진백동"], "진백2동": ["아마동", "진등동", "진백동"], "천1동": ["천동"], "천2동": ["천동"], "천3동": ["천동", "하가동", "호두동"] },
                "군천시": { "고옥동": ["고착동", "옥택동", "팔호동", "하합동", "학구동"], "군천동": ["견전동", "관야동", "군천동", "대청동", "진곡동"], "남강면": ["구아리", "남목리", "맹의리", "명근리", "성아리", "임고리", "지출리", "진도리", "해천리"], "남민1동": ["가립동", "남민동"], "남민2동": ["남민동"], "남민3동": ["남민동"], "남오면": ["가직리", "비채리", "시야리"], "신득읍": ["내진리", "맹향리", "법원리", "상량리", "소천리", "신득리", "전가리", "진미리", "촌상리"], "애음1동": ["애음동"], "애음2동": ["애음동"], "애음3동": ["애음동"], "오조면": ["계천리", "금룡리"], "을차면": ["당영리", "사계리", "안양리", "안양사리", "약채리", "희아리"], "조빈면": ["도정리", "목야리", "무철리", "사리", "석무리", "소령리", "야채리", "정소리", "천화리", "촌야리", "화양리"], "중동": ["고구동", "길경동", "대개동", "명고동", "석목동", "신전동", "자각동", "제포동", "중동", "천택동"], "하강동": ["강전동", "성창동", "하향동"], "한동면": ["대서리", "아구리", "채희리"], "현해1동": ["수옥동", "해천동", "현남동"], "현해2동": ["근판동", "우내동", "장월동", "총경동", "풍구동", "하경동", "합지동", "호산동", "환삼동", "횡도동"], "호택동": ["석택동", "호천동"] },
                "덕현군": { "덕현읍": ["금령리", "덕현리", "동순리", "백국리", "부척리", "산내리", "상중도리", "암창리", "영신리", "영악리", "일광리", "일호리", "조전리", "중리", "하두미리"], "망정면": ["곡패리", "남중리", "대문리", "등간리", "망정리", "옥천리", "조구리", "족택리", "천야리", "흑전리"], "부진읍": ["고선리", "동리", "박성리", "부진리", "소심리", "소전원리"], "북견면": ["남순리", "대뢰리", "동중리", "복전리", "북견리", "북산리", "사미리", "오륜리", "우도리", "조리", "풍전리", "풍평리"], "화원면": ["궁리", "목야리", "미택리", "사조리", "상반리", "상향리", "석권리", "소학리", "호동리", "화원리"], "흑성면": ["목도리", "백조리", "부창리", "서리", "서법리", "포생리", "하우리", "흑성리"] },
                "모제군": { "괴천면": ["괴천리", "남빈리", "대도리", "부택리", "은명리"], "모제읍": ["가운리", "금전리", "모제리", "산전리", "중리"], "약궁면": ["문옥리", "본석리", "상사리", "수강리", "약궁리", "은좌리", "중야리"], "양광면": ["고죽리", "광연리", "양광리", "천기리", "황목리"], "장어면": ["복이리", "북촌리", "상전리", "장어리", "총사리", "축파리", "학권리"], "청해면": ["금복리", "남광리", "미기리", "석창리", "야상리", "청해리"] },
                "반양군": { "반양읍": ["관근리", "말광리", "반양리", "상원리", "읍리", "추야리", "판수리"], "복구면": ["남리", "도장리", "미곡리", "미영리", "복구리", "복전남리", "상생리", "장굴리", "전궁리", "증삼리", "태리"], "북부면": ["경야리", "궁본리", "동선태리", "동평리", "북부리", "상신리", "성서리", "송강리", "시전리"], "삽곡읍": ["관하리", "삽곡리", "원향리", "천원리", "팔운리", "평성리", "호총리"], "수상면": ["곡중리", "구안리", "굴내리", "노금리", "동력리", "동영리", "동월곡리", "문옥리", "북리", "세야리", "송본리", "수상리", "야사리", "자계리", "항리", "흑전리"], "인와면": ["사미리", "성궁리", "시장리", "원리", "인와리", "중앙리", "천신리", "평등리"], "적판면": ["복실리", "서리", "석삼리", "송엽리", "송호리", "적판리", "중도리", "중앙리", "천내리", "편산리", "화전리"], "토정면": ["고장리", "금직리", "매전리", "복전리", "토정리"], "하원면": ["미원리", "미천리", "일출리", "하원리"] },
                "빈주시 가원구": { "동태면": ["동태리", "백조리", "복실리", "영화리", "중도리", "협산리"], "상만1동": ["상만동", "천음동"], "상만2동": ["상만동", "수곡동", "역천동"], "상만3동": ["상만동", "여초동"], "서원동": ["서원동1가", "서원동2가", "서원동3가", "쌍엽동", "외성동1가", "외성동2가", "중은동", "향교동"], "수옥동": ["수옥동"], "아천동": ["아논동", "천내동"], "육미면": ["고사리", "구생리", "소총리", "신전리", "육미리"], "주전1동": ["주전동", "판진동"], "주전2동": ["주전동"], "중앙동": ["관동1가", "관동2가", "관동3가", "관동4가", "내성동1가", "내성동2가", "내성동3가", "보전동", "본동", "압전동", "중앙동1가", "중앙동2가", "중앙동3가", "중앙동4가", "중앙동5가"], "천남1동": ["천남동"], "천남2동": ["시래동", "천남동"], "천남3동": ["시래동", "지미동", "천남동"], "천조읍": ["구하리", "궁성리", "동리", "등천리", "보고리", "본다리", "삼마리", "상소리", "송산리", "신굴리", "애산리", "제강리", "증림리", "천조리", "칠좌리"], "풍은동": ["나다동", "만니동", "민산동", "사늑동", "사료동", "사산동", "서노동", "자창동", "풍은동"], "현권면": ["궁천리", "석타리", "율원리", "현권리", "횡산리"] },
                "빈주시 빈성구": { "고전면": ["고전리", "무성리", "신성리", "약궁리", "장원리", "중성리", "창광리", "촌동리", "포시리"], "남면": ["관음리", "동산리", "명화리", "목월리", "산왕리", "삼산리", "안월리", "약송리", "어소리", "전상리", "호양리", "호판리"], "동면": ["건덕리", "경전리", "모시리", "목전리", "사락리", "율삼리"], "동습동": ["동습동", "칠정동"], "동신동": ["늑골동", "동신동"], "여사동": ["사민동", "여연동"], "이은동": ["이은동", "제가동1가", "제가동2가"], "지산동": ["사증동", "서구동", "웅읍동", "지산동"], "차당동": ["문내동", "문외동", "차랑동"] },
                "빈주시 장기구": { "노동면": ["구산리", "노동리", "소화리", "천기리"], "대정동": ["대정동", "동원동"], "미천동": ["거주동", "미천동", "방거동", "시집동"], "서면": ["백목리", "삼도리", "선격리", "송기리", "신악리", "약엽리", "우원리", "운빈리"], "송원읍": ["산수리", "산왕리", "송원리", "수취리", "신화리", "오죽리", "천종리", "철륜리"], "시능동": ["서나동", "승루동", "시능동"], "오택읍": ["성내리", "송도리", "시야리", "오택리", "원부리", "진내리"], "월삼1동": ["월삼동"], "월삼2동": ["월삼동"], "월삼3동": ["월삼동"], "장기1동": ["장기동"], "장기2동": ["장기동"], "장기3동": ["장기동"], "장기4동": ["장기동"], "장기5동": ["산중동", "장기동", "화면동"], "황명동": ["명태동", "보일동", "비라동", "황태동"] },
                "상안군": { "낙산면": ["낙산리", "도원리"], "사류면": ["목곡리", "사류리", "어견리", "어행리", "탕미리"], "상안읍": ["고류리", "대삼리", "삼옥리", "상안리", "세곡리", "순화리", "약사리", "절립리", "하마리"], "승정면": ["관곡리", "문경리", "승정리", "압전리", "지원리", "촌국리", "팔번리", "행송리", "희천리"], "이부면": ["대수리", "문전리", "옥형리", "이부리", "황천리"], "일채면": ["고목리", "규리", "목하리", "월판리", "일채리", "지원리", "춘일리"], "태서면": ["동양리", "성화리", "송목리", "저조리", "태서리"], "패총면": ["국영리", "북석리", "상번리", "성동리", "온천리", "패총리"] },
                "서진시": { "남진재동": ["남진동", "재동"], "사추동": ["매현동", "사종동", "서근동", "이십기동", "추자동"], "서목동": ["아은동", "진목동"], "서진1동": ["서진동"], "서진2·3동": ["서진동"], "서진4동": ["거노동", "나민동", "서진동"], "아은1동": ["아은동"], "아은2동": ["아은동"], "아은3동": ["아은동"], "진목1동": ["진목동"], "진목2동": ["동릉동", "서릉동", "진목동"] },
                "서해시": { "무원동": ["무원동"], "문진읍": ["궁연리", "매평리", "문진리", "백목리", "산하리", "상전리", "서조리", "소산리", "약궁리", "장내리", "천로리", "하수리"], "방부1동": ["방부동"], "방부2동": ["방부동"], "번전읍": ["대야리", "번전리", "복사리", "본장리", "용강리", "율전리", "총간리", "택촌리", "파목리", "파전리", "학권리", "호남리"], "북야면": ["가증리", "남고전리", "북야리", "삼수리", "상우리", "상하동리", "성서리", "세자리", "신명리", "재목리", "출천리", "판전리"], "상포동": ["긍사동", "남정동", "상정동", "상포동", "자정동", "전중동", "지서동"], "서앙동": ["구원동", "국아동", "내야동", "반풍동", "서앙동", "중앙동", "첨천동", "추생동", "향원동"], "서해동": ["서해동2가", "장서동"], "신항동": ["신항동"], "압일읍": ["남부리", "도엽리", "세부리", "심지리", "안담리", "압산리리", "압일리", "여량리", "은좌리", "중주리", "천대리", "하곡리"], "우곡면": ["가무리", "구교리", "길전리", "내선리", "대수리", "백판리", "우곡리", "육량리", "장야리", "축마리"], "우궁1동": ["우궁동"], "우궁2동": ["우궁동"], "원변읍": ["남원리", "답입리", "만택리", "산수리", "상향리", "소야리", "수판리", "신연리", "원변리", "청수리", "평림리"], "좌산1동": ["좌산동"], "좌산2동": ["좌산동"], "지중면": ["대금리", "산본리", "삼륜리", "성동리", "소관리", "신전리", "지중리", "천신리", "초수리", "향전리"], "천로1동": ["천로동"], "천로2동": ["천로동"], "천로3동": ["천로동"], "천로4동": ["천로동"], "통마동": ["가미동", "마원동", "언내동", "통산동"], "포구동": ["원길동", "장미동", "좌여동", "축수동", "포구동"], "해안동": ["대동", "분동", "전동", "해안동1가", "해안동2가"] },
                "선곡군": { "귀총면": ["갑부리", "귀총리", "삼창리", "송빈리", "외화리", "전택리", "팔헌리", "하천원리", "화택리", "환내리"], "남소면": ["구중리", "남소리", "소야리", "소판리", "압강리", "화리리", "희다리"], "동구면": ["강첨리", "고모리", "동구리", "송홍리", "수하리", "시교리"], "선곡읍": ["견취리", "국고리", "금장리", "상립리", "선곡리", "성륜리", "우의리", "읍내리", "입방리", "청류리", "하간리"], "우목면": ["광택리", "북강리", "삼립리", "우목리", "칠일리", "파수리", "환자리"], "원전면": ["곽동리", "목중리", "오평리", "원전리", "월강리", "장량리", "천지리", "향란리"], "인채면": ["대흑리", "북환자리", "상면리", "신전리", "인채리", "태평리"], "하미면": ["동리", "동영리", "북구리", "상산리", "용종리", "천만리", "탕전리", "포원리", "하미리"], "해로면": ["광야리", "명전리", "서운리", "염부리", "입방리", "절호리", "하택리", "해로리"] },
                "약산시": { "광정면": ["관야리", "광정리", "부도리", "상곡리", "생전리", "선원리", "송판리", "좌등리", "천총리"], "근강면": ["건상리", "근강리", "대평리", "삼립리", "지전리", "청묘리", "향숙리"], "산형동": ["대염동", "매목동", "산형동", "체신동", "후작동"], "삼미동": ["북천동", "삼미동", "염원동", "자미동", "택산동"], "성가면": ["근본리", "당림리", "덕행리", "석장리", "성가리", "신명리", "예마리", "편야리"], "약산1동": ["보녕동", "약산동"], "약산2동": ["고곡동", "약산동"], "역석동": ["석동동", "역성동"], "우부동": ["상수구동", "우부동", "하수구동"], "원강읍": ["대촌리", "만세리", "성북리", "시평리", "원강리", "초전리", "풍구리"], "장곡읍": ["고림리", "공천리", "마현리", "만석리", "무기리", "부죽리", "월견리", "입주리", "장곡리", "장선리"], "홍하면": ["니지리", "대리리", "상도리", "석포리", "선월리", "지향리", "평야리", "홍하리", "황천리"], "화소읍": ["상내리", "서판리", "요곡리", "춘일리", "하내장리", "화소리"] },
                "저천군": { "동면": ["관원리", "동면리", "상전리", "신통리", "천목리", "탕지리", "택전리"], "산백읍": ["궐생리", "대장리", "동상전리", "명지리", "백미리", "산백리", "선부리", "소시리", "실원리", "취견리"], "색성면": ["명환리", "사지리", "삼동리", "삼산리", "색성리", "일영리", "지마리", "취소리"], "송남면": ["대수리", "대적리", "산협리", "송남리", "을수리", "응원리", "하립리", "하원리"], "송북면": ["강월리", "반목리", "산현리", "상야리", "송북리", "신기리", "전평리", "행전리"], "외산면": ["갈원리", "신지리", "암도리", "외산리", "율립리", "중체리", "하체리", "횡월리"], "우구읍": ["대취리", "산구리", "서수리", "서천리", "양로리", "우구리", "직강리", "토경리", "편지리"], "이좌면": ["곡합리", "반전리", "본향리", "삼북리", "소창리", "송삼리", "암뢰리", "이좌리"], "저천읍": ["교조리", "대권리", "대평리", "삼고리", "색목리", "수적리", "암촌리", "오강리", "장뢰리", "저천리", "점립리"] },
                "전산시": { "고진면": ["고진리", "상평리", "야세리", "전도리", "청파리"], "백목면": ["궁전리", "미판리", "백목리"], "상면": ["부영리", "상면리", "송뢰리", "어문리", "장도리"], "송강면": ["명치리", "명화리", "송강리", "어행리", "원리"], "수판면": ["관상리", "사전리", "수판리", "태전리", "평하리"], "신산면": ["무병리", "신산리", "청수리", "하충리"], "전산1동": ["육천동", "전산동", "포현동"], "전산2동": ["고곡동", "소천동"], "전산3동": ["순월동", "암택동", "오반동", "태하동", "후전동"], "전산4동": ["곡지동", "교자동", "근자동", "목하동"], "하면": ["삼향리", "암좌리", "약사리", "중부리", "중통리", "하면리"], "해진읍": ["상호리", "송영리", "천합리", "해진리"] },
                "치원군": { "근해면": ["근해리", "상반리", "상우리", "상전리", "상촌리", "상하동리", "성서리", "오처리", "중어소리"], "백생면": ["내선리", "백목리", "백생리", "백판리", "장야리", "천신리", "평림리"], "봉월면": ["남세리", "만택리", "봉월리", "신연리", "청수리", "파전리"], "산전면": ["복사리", "산전리", "안담리", "택촌리", "파목리", "학하리"], "채화면": ["남장리", "답입리", "매평리", "반전리", "서조리", "송미리", "장내리", "채화리"], "치원읍": ["남부리", "상송리", "세부리", "적우리", "치원리", "하산리", "향전리", "횡전리"], "후등면": ["대금리", "도엽리", "성동리", "소관리", "재목리", "팔만리", "후등리"] },
                "기도군": { "고관면": ["고관리", "고삼리", "소금리", "시작리", "운작리", "자계리", "충교리", "화원리"], "기도읍": ["관서리", "금원리", "기도리", "대롱리", "변천리", "신명리", "중야리", "추장리", "화목리"], "삼면": ["고전리", "삼리", "소로리", "충전리", "판리"], "염곡면": ["경택리", "부신리", "소우리", "시도리", "신산리", "염곡리", "주양리", "중만리", "중천리", "풍야리"], "용야면": ["고미리", "길진리", "미영리", "본석리", "오삼리", "용야리", "진사리", "횡전리"], "주길면": ["대원리", "동금보리", "본통리", "소웅리", "원청리", "주길리", "죽구리"], "진경면": ["기선리", "류원리", "매지리", "섭택리", "소랑리", "점전리", "진경리", "천석리"], "하포면": ["미기리", "삼구리", "일영리", "장판리", "조해리", "하포리"] },
                "낭원군": { "낭원읍": ["광전리", "궁내리", "낭원리", "모례리", "서야리", "송천리", "어행리", "오처리", "원택리", "장창리", "충절리", "화전리"], "내덕면": ["내덕리", "석체리", "시발리", "중야리", "청롱리", "칠뢰리"], "명향면": ["덕전리", "도주리", "명향리", "소거리", "송원리", "압우리", "야전리", "염택리", "엽록리", "중송리", "지전리"], "미전면": ["내리", "대도리", "미전리", "상견리", "야저리", "우산리", "일의리", "황해리"], "백성면": ["궁천리", "대평리", "백성리", "약궁리", "제주거리", "증택리", "편류리"], "빙천면": ["대교리", "대지월리", "등택리", "복도리", "빙천리", "산부리", "소천리", "호도리", "회염리"], "상곡면": ["갑자리", "금택리", "사자전리", "상곡리", "성내리", "옥천리", "전원리", "희석리"], "우입면": ["대리", "상목리", "서구리", "신개리", "앵목리", "우록리", "우입리", "조호리", "중제리"], "전포읍": ["가증리", "무원리", "발지리", "빈리", "신빈리", "일구리", "전포리", "절벽리", "청류리", "흑천리"], "초건면": ["강부리", "도하리", "복구리", "신소리", "영강리", "죽원리", "초건리", "평전리"], "토진읍": ["동운리", "소좌리", "이세리", "지월리", "진곡천리", "토진리", "호전리"], "판주읍": ["고판리", "대류리", "시월리", "신리", "약송원리", "원태리", "이구리", "추분리", "판주리", "항리"], "풍성면": ["금시리", "대복리", "미택리", "본리", "서장리", "암영리", "종시리", "중처리", "지상리", "충성리", "화월리"] },
                "천주시 궁하구": { "견절동": ["견산동", "경전동", "계고동", "옥동", "절천동"], "과림읍": ["과림리", "대수리", "서결리", "신통리", "오가리", "조향리", "중천리"], "궁하1동": ["궁하동"], "궁하2동": ["궁하동", "선남동"], "부중면": ["동결리", "백산리", "부중리", "야상리", "유오리", "응장리"], "산취읍": ["사야리", "산취리", "서보리", "안팔리", "월원리", "화천리"], "서팔1동": ["서팔동"], "서팔2동": ["서팔동"], "시곡면": ["대암리", "시곡리", "신호리", "오복리", "유소리", "주본리", "판동리"], "아이1동": ["아이동"], "아이2동": ["아이동"], "조향면": ["금수리", "사향리", "삼부리", "조향리", "천간리", "춘일리", "하동리"], "청선읍": ["말수리", "북방리", "산중리", "상반리", "신토리", "청선리", "하기리"], "협화동": ["협화동"] },
                "천주시 천성구": { "관아동": ["관아동1가", "관아동2가", "관아동3가", "산민동", "장방동", "중앙로1가", "중앙로2가", "중앙로3가"], "대뢰1동": ["대뢰동"], "대뢰2동": ["대뢰동"], "대뢰3동": ["대뢰동"], "마야동": ["마야동"], "백로면": ["대화리", "도천리", "등려리", "백로리", "부지리", "우처리", "천대리", "천합리"], "복주동": ["복천동", "주언동"], "비후동": ["비원동", "후촌동"], "빈전1동": ["빈전동"], "빈전2동": ["빈전동"], "세지동": ["사문동", "세지동", "윤사동", "정법동", "한지동"], "엽월면": ["고장리", "마연리", "산기리", "송부리", "엽월리", "팔번리"], "유원동": ["본동", "원동1가", "원동2가", "유동", "천동동"], "육갑1동": ["육갑동"], "육갑2동": ["육갑동"], "인자읍": ["건수리", "답곡리", "상토리", "여일리", "인자리", "중전리"], "천성동": ["관일동", "녹하동", "상좌동", "장방동", "지굴동", "천성동", "평온동", "하좌동"], "팔호동": ["팔호동"], "호산면": ["당뢰리", "석전리", "악미리", "우조리", "장소리", "호산리"] }
            },
            "덕빈남도": {
                "고포군": {
                    "고포읍": ["고포리", "광암리", "남산리", "대곡리", "동리", "백제정리", "상평리", "신암리", "칠곡리", "하평리"],
                    "대산면": ["광화리", "대산리", "용수리", "율대리", "칠암리"],
                    "동원면": ["남리", "동원리", "북리", "서리", "신덕리", "이천리", "화암리"],
                    "북부면": ["광암골리", "구월리", "매원정리", "북부리", "수도리", "신암정리", "월매리", "율정리", "지산리", "천북리", "천암골리", "향교리"],
                    "신성면": ["무량리", "신성리", "신월리", "중산리"],
                    "포선면": ["광곡리", "교리", "대곡촌리", "덕암리", "봉서리", "봉성리", "신평리", "오수리", "용계리", "월송리", "임곡리", "죽산리", "평촌리", "포선리"]
                },
                "곡천군": {
                    "곡천읍": ["곡천리", "광암리", "덕암리", "봉서리", "신평리", "오수리", "용계리", "월송리", "평촌리", "화암리"],
                    "남천면": ["남천리", "대곡리", "봉암리", "신도리", "화전리"],
                    "북동면": ["광암골리", "구월리", "매원정리", "백제정리", "북동리", "산지리", "상평리", "신암정리", "월매리", "월매을리", "천암골리", "칠곡리", "하평리", "해룡리"],
                    "사곡면": ["교리", "사곡리", "상금리", "이천리", "죽림리", "평리", "하금리", "화산리"],
                    "용수면": ["남산리", "대성리", "봉계리", "삼계리", "삼호리", "상촌리", "석교리", "시내리", "용수리", "월곡리", "장암리", "창평리"],
                    "중곡면": ["동리", "서리", "신암리", "중곡리"],
                    "하북면": ["경암리", "고수리", "교촌리", "대룡리", "덕정리", "도암리", "복성리", "송림리", "신원리", "신정리", "옥산리", "자연리", "적서리", "죽리", "하북리"],
                    "하서면": ["수덕리", "용수정리", "율대리", "청정리", "칠암리", "하서리"]
                },
                "관수군": {
                    "관수읍": ["관수리", "남산리", "대평리", "매원리", "송정리", "수도리", "율정리", "지산리", "천북리", "향교리"],
                    "극산면": ["극산리", "봉암리", "상촌리", "시내리"],
                    "금담면": ["고수리", "금담리", "대룡리", "매화리", "산포리", "신흥리"],
                    "금진면": ["경암리", "계당리", "금진리", "도암리", "동리", "복성리", "산내리", "월로리", "자연리", "적서리", "해룡리"],
                    "북원읍": ["광암리", "교리", "덕암리", "봉서리", "북원리", "신평리", "오수리", "용계리", "월송리", "이천리", "임곡리", "죽산리", "평촌리", "화암리"],
                    "실주면": ["광화리", "신촌리", "실주리", "용수리", "율대리", "청정리", "칠암리"],
                    "여원면": ["대성리", "백제리", "삼계리", "삼호리", "여원리", "월곡리", "장암리", "창평리"],
                    "원단면": ["구월리", "신덕정리", "원단리", "월매리", "천암골리"],
                    "조원면": ["광곡리", "교리", "남리", "대곡촌리", "동리", "봉성리", "북리", "서리", "신덕리", "이천리", "조원리", "화암리"],
                    "황강면": ["강변리", "광정리", "대곡리", "백정리", "상평리", "서리", "신월리", "월평리", "중산리", "진목리", "칠곡리", "탑체리", "하평리", "화전리", "황강리"]
                },
                "낙주시": {
                    "경영면": ["경영리", "남촌리", "동촌리", "북촌리", "서촌리", "중리"],
                    "고규동": ["고규동"],
                    "기좌면": ["계곡리", "기좌리", "도화리", "산성리", "율리"],
                    "길산읍": ["길산리", "대곡리", "덕천리", "송정리", "신평리", "용암리", "월평리", "죽림리", "화전리"],
                    "낙주동": ["낙주동", "서구동", "유암동", "중동"],
                    "대상면": ["구리", "대상리", "대평리", "묵리", "신리", "옥산리", "화정리"],
                    "산언면": ["덕리", "도곡리", "봉산리", "산언리", "신성리", "용계리", "장암리", "화암리"],
                    "삼채1동": ["삼채동"],
                    "삼채2동": ["삼채동"],
                    "삼채3동": ["삼채동", "전야동", "희실동"],
                    "엽산동": ["엽산동"],
                    "우색면": ["내리", "외리", "우색리", "천리"],
                    "이달1동": ["이달동"],
                    "이달2동": ["이달동"],
                    "이파동": ["이파동"],
                    "지기면": ["광천리", "대상리", "소상리", "지기리", "평리", "화악리"],
                    "진류면": ["금성리", "대산리", "덕산리", "상운리", "석동리", "옥계리", "진류리", "평촌리", "하운리", "화봉리"],
                    "진적읍": ["금곡리", "봉암리", "상성리", "석동리", "신기리", "오수리", "옥계리", "진적리", "탑리", "평촌리", "하성리", "화산리"],
                    "천풍동": ["결나동", "대웅동", "천풍동", "화주동"],
                    "토마동": ["토마동"],
                    "판창1동": ["판창동"],
                    "판창2동": ["판창동"],
                    "회삼1동": ["회삼동"],
                    "회삼2동": ["회삼동"],
                    "흥림면": ["고산리", "대석리", "매전리", "복산리", "봉곡리", "신안리", "야리리", "원자리", "평리", "화정리", "흥림리"]
                },
                "덕주시 덕산구": {
                    "갑고동": ["갑동", "고동"],
                    "구부면": ["구부리", "내리", "송정리", "외서리", "율리", "죽리", "화성리"],
                    "덕구면": ["덕구리", "도동리", "매산리", "상리", "용계리", "임송리", "천평리", "칠암리", "하리"],
                    "무영동": ["무영동"],
                    "무원동": ["무원동", "서도동", "율안동"],
                    "상미동": ["상미동"],
                    "영목1동": ["영목동"],
                    "영목2동": ["영목동"],
                    "영목3동": ["영목동"],
                    "영석동": ["영목동"],
                    "원명읍": ["금곡리", "대곡리", "덕암리", "봉암리", "신도리", "신평리", "오수리", "원명리", "평천리", "화전리"],
                    "전진면": ["남리", "동리", "북리", "서리", "전진리"],
                    "정중면": ["대성리", "백제리", "삼거리", "신촌리", "월곡리", "장곡리", "정중리", "하늘리"],
                    "주기동": ["산대동", "재권동", "주기동1가", "주기동2가", "주기동3가"],
                    "중앙동": ["곡동", "동도동", "수연동", "월로1가", "월로2가", "중앙동1가", "중앙동2가", "중앙동3가", "중앙동4가"],
                    "학전면": ["광곡리", "교리", "남산리", "대곡리", "동산리", "봉성리", "서산리", "신흥리", "장곡리", "천암리", "평리", "학전리"],
                    "화주1동": ["화주동"],
                    "화주2동": ["화주동"],
                    "화주3동": ["화주동"],
                    "화진1동": ["화진동"],
                    "화진2동": ["모격동", "사문간동", "소간동", "아문동", "암기동", "오소동", "자택동", "장부동", "조천산동", "화진동"]
                },
                "덕주시 조전구": {
                    "금당동": ["금당동"],
                    "매촌동": ["매촌동", "주산동"],
                    "명리면": ["광곡리", "광암리", "남산리", "대곡리", "명리리", "백정리", "봉성리", "산내리", "상평리", "칠곡리", "하평리", "화전리"],
                    "모은동": ["모은동"],
                    "박현동": ["박현동"],
                    "삼삼동": ["삼삼동", "삼은동", "신격동", "우산동", "주성동"],
                    "시산면": ["시산리", "일야리", "하화리", "화범리"],
                    "애남동": ["남조동", "애내동"],
                    "조전1동": ["조전동"],
                    "조전2동": ["조전동"],
                    "조전3동": ["조전동"],
                    "조전4동": ["우격동", "조전동"],
                    "주규동": ["규암로1가", "규암로2가", "대국동", "신만동", "신서동"],
                    "지출면": ["대택리", "도자리", "등도리", "수류리", "지출리", "채화리"],
                    "팔원읍": ["국리", "덕암리", "미녀리", "봉천리", "신암리", "신평리", "오수리", "팔원리", "현뢰리", "화계리"],
                    "하기읍": ["고판리", "동조리", "성공리", "시택리", "양자리", "월로리", "하기리"]
                },
                "두원군": {
                    "남면": ["덕진리", "송죽리", "수내과리", "어촌리", "포구리", "항동리"],
                    "대선면": ["가곡리", "공단리", "공업리", "대선리", "물류리", "상선리", "창고리"],
                    "두원읍": ["구읍리", "문화리", "설채리", "시장리", "신흥리", "역전리", "읍내리", "중심리", "해안리"],
                    "서운면": ["계곡리", "동화리", "명암리", "산막리", "산북리", "서운리", "성현리", "운서리", "장촌리", "중평리", "청암리", "평촌리", "휴양리"],
                    "선문면": ["구석리", "대곡리", "매화리", "미산리", "봉황리", "산정리", "선문리", "소곡리", "용평리", "운봉리", "월성리", "이목리", "장림리", "천곡리", "학당리"],
                    "승린면": ["강변리", "구포리", "남창리", "농공리", "대동리", "북창리", "송정리", "수창리", "승린리", "신포리", "평야리"],
                    "신면": ["신남리", "신동리", "신북리", "신서리"],
                    "총선면": ["남선리", "동선리", "북선리", "서선리", "총선리"]
                },
                "마진시": {
                    "고사면": ["고사리", "대평리", "본동리", "신안리", "와룡리"],
                    "마진1동": ["마진동", "신곡동"],
                    "마진2동": ["고곡동", "마진동"],
                    "명야면": ["금강리", "들판리", "만성리", "명야리", "석계리", "청산리", "호수리"],
                    "상본면": ["상본리", "신장리", "중앙리", "하본리"],
                    "상정면": ["남부리", "동부리", "북부리", "상정리", "서부리", "신시리", "월암리", "정화리", "평화리", "화정리"],
                    "수판면": ["금하리", "남화리", "대안리", "동화리", "북화리", "서화리", "송정리", "수판리", "신기리"],
                    "월석동": ["산욱동", "석화동", "십색동", "월만동", "율영동"],
                    "유록면": ["고덕리", "남천리", "대동리", "덕암리", "미륵리", "백산리", "서천리", "송림리", "숲안리", "신성리", "용호리", "유록리", "죽림리", "창동리", "화진리"],
                    "장병면": ["가야리", "봉암리", "성산리", "율곡리", "장병리", "중평리"],
                    "천대읍": ["구봉리", "대교리", "동산리", "명성리", "서동리", "송죽리", "신당리", "은계리", "천대리", "청호리", "풍곡리", "화산리"],
                    "팔현면": ["북산리", "신월리", "안심리", "오현리", "용천리", "진목리", "팔현리", "평야리"]
                },
                "매산군": {
                    "군선면": ["계당정리", "군선리", "신덕곡리", "율제리", "청곡리"],
                    "대현읍": ["교촌리", "금곡리", "대현리", "덕정리", "봉암리", "송림리", "신원리", "옥산리", "죽림리", "중앙리", "평촌리", "화산리"],
                    "덕신면": ["고수리", "대룡리", "덕신리", "매화리", "산포리", "신정리"],
                    "신운읍": ["강변리", "대곡리", "서리", "신운리", "신월리", "월로리", "중산리", "진목리", "탑체리", "화전리"],
                    "우곡면": ["구월리", "신덕정리", "용수리", "우곡리", "월매리", "율대리", "천암골리", "청정리", "칠암리"],
                    "육산면": ["봉계리", "상촌리", "시내리", "육산리"],
                    "율주읍": ["남산리", "내리", "대성리", "동산리", "백제리", "북리", "삼계리", "삼호리", "석교리", "신흥리", "외리", "월곡리", "율주리", "장암리", "창평리"],
                    "이율면": ["계당리", "광암골리", "매원정리", "산내을리", "수도리", "신암정리", "월매을리", "율정리", "이율리", "지산리", "천북리", "해룡리", "향교리"],
                    "조건면": ["강화리", "광곡리", "교리", "대곡촌리", "봉성리", "이천리", "조건리"],
                    "채산면": ["경암리", "남원리", "도암리", "동원리", "복성리", "서원리", "신덕리", "자연리", "적서리", "채산리", "화암리"]
                },
                "매성시": {
                    "개서동": ["개동", "서동"],
                    "규래동": ["규래동", "징산동"],
                    "근암1동": ["근암동"],
                    "근암2동": ["근암동"],
                    "매성1동": ["매성동"],
                    "매성2동": ["매성동"],
                    "상강동": ["강만동", "규리동", "상운동", "수은동", "순동"],
                    "식곡동": ["식곡동"],
                    "우음동": ["우음동"],
                    "조천동": ["조천동"]
                },
                "방산시": {
                    "계촌면": ["계촌리", "덕산리", "상운리", "석동리", "옥계리", "평촌리", "하운리"],
                    "냉천면": ["구암리", "냉천리", "백산리", "신광리", "용소리", "화전리"],
                    "도수동": ["도수동"],
                    "동공면": ["금광리", "대양리", "동공리", "상리", "신기리", "오수리", "월곡리", "중평리", "탑리", "하리"],
                    "매복동": ["매전동", "복산동", "야리동", "원자동"],
                    "무산면": ["금성리", "대산리", "무산리", "성동리", "화봉리"],
                    "미강동": ["미강동"],
                    "서중읍": ["금곡리", "대곡리", "덕천리", "봉암리", "서중리", "송정리", "신평리", "용암리", "월평리", "죽림리", "하소리", "화산리"],
                    "석원면": ["덕리", "도곡리", "봉산리", "석원리", "신성리", "용계리", "장암리", "화암리"],
                    "약신동": ["색내동", "신광동", "약송동", "조리동", "천신동"],
                    "약원면": ["구리", "대평리", "신리", "약원리", "옥산리", "화전리"],
                    "양복면": ["고산리", "대석리", "덕촌리", "봉곡리", "송천리", "신안리", "양복리", "평리", "화정리"],
                    "장수동": ["도내동", "수궁동", "장교동", "축진동"],
                    "정수면": ["광천리", "묵리", "옥산리", "정수리", "화악리"],
                    "주강1동": ["주강동"],
                    "주강2동": ["송지동", "주강동"],
                    "청전1동": ["청전동"],
                    "청전2동": ["청전동"],
                    "탕천동": ["탕천동"]
                },
                "분주군": {
                    "나천면": ["나천리", "동산리", "명월리", "백화리", "산성리", "상곡리", "신덕리", "옥수리", "월평리", "장안리", "하곡리"],
                    "대자면": ["대자리", "매화리", "서강리", "송죽리", "용담리", "화평리"],
                    "분주읍": ["강변리", "구교리", "시장리", "신흥리", "중앙리", "체육리", "평화리", "행복리"],
                    "신안면": ["구포리", "남산리", "대곡리", "만석리", "복천리", "삼거리", "송림리", "신안리", "안평리", "용호리", "월곡리", "장재리", "청계리", "풍산리"],
                    "원구면": ["광천리", "북산리", "사동리", "오지리", "원구리"],
                    "이복면": ["고인돌리", "동화리", "성림리", "율곡리", "이복리", "진산리", "창동리", "학당리", "호계리"],
                    "정남면": ["남강리", "동구리", "정남리", "한산리"],
                    "정동면": ["광덕리", "금곡리", "노곡리", "대안리", "덕산리", "만경리", "월계리", "임수리", "정동리", "진산리", "청평리", "화평리"],
                    "평미면": ["대평리", "동부리", "서부리", "수안리", "영신리", "월봉리", "평미리"],
                    "하권면": ["남산리", "대촌리", "동원리", "북산리", "상천리", "서산리", "석교리", "송림리", "신평리", "오포리", "용포리", "중동리", "칠성리", "하권리", "하천리"]
                },
                "비천시": {
                    "고녕면": ["고산리", "동서리", "상곡리", "영송리", "장포리", "청교리", "해남리"],
                    "괴림동": ["괴림동", "방산동"],
                    "괴성면": ["가호리", "괴평리", "남곡리", "대흥리", "문평리", "복현리", "봉천리", "삼봉리", "성곡리", "송산리", "오송리", "일동리", "하죽리"],
                    "구락면": ["갈매리", "봉화리", "어은리", "율도리", "진남리"],
                    "구승동": ["개림동", "구승동", "울경동", "포경동"],
                    "벽산읍": ["고자리", "덕계리", "만호리", "벽산리", "오도리", "운수리", "토현리"],
                    "부음동": ["부음동"],
                    "비천동": ["녹정동", "비천동", "응산동"],
                    "서군면": ["교동리", "금하리", "남평리", "대지리", "동천리", "북포리", "산정리", "서봉리", "서호리", "신평리", "용호리", "월천리", "중리", "진천리", "황성리"],
                    "성두동": ["성두동"],
                    "소육면": ["구암리", "남정리", "동화리", "복동리", "사천리", "서화리", "소룡리", "송림리", "연화리", "육성리", "이평리"],
                    "수국면": ["덕수리", "동촌리", "수성리", "신리", "온천리", "용계리", "원동리", "중평리", "평화리"],
                    "은암동": ["은암동"],
                    "진격산면": ["대곡리", "명월리", "성화리", "소진리", "안산리", "장연리", "진격리"]
                },
                "석창군": {
                    "고산면": ["고산리", "극산리", "봉경리", "시계리", "임곡리"],
                    "대흥면": ["교리", "대곡리", "대룡리", "대흥리", "상금리", "신도리", "어산리", "이천리", "죽림리", "평리", "하금리", "해창리", "화산리", "화전리"],
                    "명성면": ["강변리", "명성리", "서리", "월로리", "진목리", "탑체리"],
                    "석창읍": ["상자리", "석창리", "송림리", "신원리", "옥산리", "유천리", "중앙리", "팔번리", "풍천리", "해령리"],
                    "언정면": ["남산리", "대성리", "삼계리", "삼호리", "언정리", "월곡리", "장암리", "창평리"],
                    "오안면": ["광암리", "덕암리", "동리", "봉서리", "북리", "서리", "신암리", "신평리", "오수리", "오안리", "용계리", "월송리"],
                    "외진면": ["봉계리", "상촌리", "시내리", "외진리"],
                    "읍악면": ["광암골리", "구월리", "국목리", "매원정리", "목전리", "북동산리", "산지리", "상평리", "신암정리", "월매리", "읍악리", "천암골리", "칠곡리", "하평리", "해룡리"],
                    "조취면": ["매원리", "수덕리", "용수정리", "율대리", "율정리", "조취리", "천북리", "청정리", "칠암리"]
                },
                "운진군": {
                    "금산면": ["금산리", "동구리", "서구리", "신평리", "영목리", "옥계리", "은산리"],
                    "도군면": ["강월리", "대포리", "도군리", "칠성리"],
                    "사내면": ["구포리", "군산리", "남산리", "대곡리", "만석리", "복천리", "사내리", "삼거리", "송림리", "안평리", "용호리", "월곡리", "장재리", "청계리", "풍산리"],
                    "산곶면": ["누만리", "등대리", "산곶리", "송원리", "시리", "어촌리", "오봉리", "칠곡리", "평화리", "해안리"],
                    "산인면": ["광덕리", "노곡리", "대곡리", "만년리", "산인리", "산제리", "송암리", "월계리", "임수리", "진산리", "청평리", "화평리"],
                    "신운면": ["대평리", "산수리", "신운리", "청천리", "학동리"],
                    "운남면": ["남천리", "대동리", "동호리", "매화리", "삼거리", "서강리", "서호리", "송죽리", "수목리", "용담리", "운남리", "월성리", "평산리", "화평리"],
                    "운진읍": ["강변리", "구암리", "동화리", "세마리", "송림리", "신천리", "오거리", "율곡리", "중앙리"]
                },
                "원안군": {
                    "개색면": ["개색리", "광곡리", "교리", "남산리", "대곡리", "동산리", "봉성리", "서산리", "신흥리", "장곡리", "천암리", "평리"],
                    "노국면": ["노국리", "대평리", "신촌리", "월로리"],
                    "막자면": ["대성리", "막자리", "백제리", "삼거리", "월곡리", "장곡리", "하늘리"],
                    "산음면": ["계곡리", "도동리", "매산리", "산음리", "용계리", "임송리", "지출리", "천평리", "칠암리"],
                    "상능읍": ["내리", "상능리", "송정리", "외리", "용계리", "율리", "임송리", "죽림리", "칠암리", "화성리"],
                    "소궁면": ["금곡리", "대곡리", "덕천리", "봉산리", "상리", "소궁리", "송정리", "신기리", "신덕리", "용암리", "월평리", "죽리", "탑리", "하리", "화전리"],
                    "소귀면": ["산내리", "상리", "소귀리", "하리", "화양리"],
                    "소운면": ["남리", "동리", "북리", "서리", "소운리", "중리"],
                    "원안읍": ["금곡리", "대평리", "덕암리", "봉암리", "신평리", "오수리", "원안리", "평천리"]
                },
                "인곡군": {
                    "거남면": ["거남리", "동촌리", "백마리", "석산리", "신창리", "용호리", "웅포리", "장곡리", "해변리"],
                    "고신면": ["고천리", "구암리", "신천리", "신평리"],
                    "낭염면": ["간자리", "귀두리", "낭산리", "삼선리", "염전리", "피방리"],
                    "대건면": ["건평리", "공단리", "대흥리", "산곡리", "이곡리", "장재리", "첨단리"],
                    "속류면": ["가천리", "고소리", "대산리", "말우리", "미산리", "미아리", "서강리", "소유리", "속류리", "영산리", "용담리", "종람리", "청평리", "하애리", "한길리"],
                    "시오면": ["남촌리", "매화리", "봉화리", "북촌리", "산수리", "소정리", "시내리", "오성리", "중평리", "칠곡리", "호수리"],
                    "인곡읍": ["구룡리", "남산리", "대동리", "동산리", "북평리", "서부리", "소야리", "신흥리", "역전리", "중앙리", "평천리", "화계리"]
                },
                "하정시": {
                    "구주면": ["구주리", "남촌리", "대촌리", "미산리", "북촌리", "소양리", "월성리"],
                    "귀선면": ["귀선리", "봉명리", "송죽리", "와룡리"],
                    "규산동": ["고국동", "규산동", "오서동"],
                    "동석동": ["국어동", "동석동", "미술동", "산기동", "수학동", "신응동", "영어동", "온진동", "음악동", "체육동"],
                    "등전면": ["고정리", "등전리", "마천리", "천리", "화산리"],
                    "별당읍": ["갈현리", "대산리", "동부리", "명동리", "별당리", "상리", "서곡리", "신촌리", "중앙리", "평화리", "하리", "학동리"],
                    "산동면": ["동화리", "매화리", "백암리", "산동리", "소리", "신풍리", "인암리", "죽림리", "청계리"],
                    "산서면": ["구암리", "노곡리", "대평리", "산서리", "서북리", "석정리", "송림리", "신흥리", "용문리", "월명리", "이암리", "중리", "평동리", "하리"],
                    "율진동": ["괴음동", "무은동", "산독동", "신반동", "율진동"],
                    "팔번면": ["구번리", "사번리", "삼번리", "십번리", "오번리", "육번리", "이번리", "일번리", "칠번리", "팔번리"],
                    "하정동": ["하정동"],
                    "해성동": ["구산동", "영산동", "원성동", "정동", "중앙동"]
                }
            }
        };

        // 2. 초기화 및 드롭다운 제어
        const sidoSelect = document.getElementById('sidoSelect');
        const sigunguSelect = document.getElementById('sigunguSelect');
        const adminDongSelect = document.getElementById('adminDongSelect');
        const legalDongSelect = document.getElementById('legalDongSelect');

        window.onload = function() {
            // 시/도 옵션 채우기
            for (let sido in adminDivisions) {
                let option = document.createElement('option');
                option.value = sido;
                option.textContent = sido;
                sidoSelect.appendChild(option);
            }
        };

        window.updateSigungu = function() {
            const selectedSido = sidoSelect.value;
            sigunguSelect.innerHTML = '<option value="">시/군/구 선택</option>';
            adminDongSelect.innerHTML = '<option value="">읍/면/동 (행정)</option>';
            legalDongSelect.innerHTML = '<option value="">법정동/리 선택</option>';
            
            sigunguSelect.disabled = true;
            adminDongSelect.disabled = true;
            legalDongSelect.disabled = true;

            if (selectedSido && adminDivisions[selectedSido]) {
                sigunguSelect.disabled = false;
                for (let sigungu in adminDivisions[selectedSido]) {
                    let option = document.createElement('option');
                    option.value = sigungu;
                    option.textContent = sigungu;
                    sigunguSelect.appendChild(option);
                }
            }
        }

        window.updateAdminDong = function() {
            const selectedSido = sidoSelect.value;
            const selectedSigungu = sigunguSelect.value;
            adminDongSelect.innerHTML = '<option value="">읍/면/동 (행정)</option>';
            legalDongSelect.innerHTML = '<option value="">법정동/리 선택</option>';
            
            adminDongSelect.disabled = true;
            legalDongSelect.disabled = true;

            if (selectedSido && selectedSigungu && adminDivisions[selectedSido][selectedSigungu]) {
                adminDongSelect.disabled = false;
                for (let adminDong in adminDivisions[selectedSido][selectedSigungu]) {
                    let option = document.createElement('option');
                    option.value = adminDong;
                    option.textContent = adminDong;
                    adminDongSelect.appendChild(option);
                }
            }
        }

        window.updateLegalDong = function() {
            const selectedSido = sidoSelect.value;
            const selectedSigungu = sigunguSelect.value;
            const selectedAdminDong = adminDongSelect.value;
            legalDongSelect.innerHTML = '<option value="">법정동/리 선택</option>';
            
            legalDongSelect.disabled = true;

            if (selectedSido && selectedSigungu && selectedAdminDong && adminDivisions[selectedSido][selectedSigungu][selectedAdminDong]) {
                legalDongSelect.disabled = false;
                const legalDongs = adminDivisions[selectedSido][selectedSigungu][selectedAdminDong];
                legalDongs.forEach(dong => {
                    let option = document.createElement('option');
                    option.value = dong;
                    option.textContent = dong;
                    legalDongSelect.appendChild(option);
                });
            }
        }

        // 3. 검색 로직 (법정동 매칭 우선)
        window.searchShop = function() {
            const sido = sidoSelect.value;
            const sigungu = sigunguSelect.value;
            const legalDong = legalDongSelect.value;
            const resultMsg = document.getElementById('search-result-msg');
            
            if (!sido) {
                alert("시/도를 선택해주세요.");
                return;
            }

            const searchKey = `${sido} ${sigungu} ${legalDong}`.trim();
            const shops = document.querySelectorAll('.shop-card');
            let foundCount = 0;

            shops.forEach(shop => {
                const loc = shop.getAttribute('data-loc');
                // 검색어가 주소에 포함되는지 확인 (법정동 기준 매칭)
                let isMatch = loc.includes(sido);
                if (sigungu) isMatch = isMatch && loc.includes(sigungu);
                if (legalDong) isMatch = isMatch && loc.includes(legalDong);

                if (isMatch) {
                    shop.style.display = 'block';
                    foundCount++;
                } else {
                    shop.style.display = 'none';
                }
            });

            resultMsg.classList.remove('hidden');
            if (foundCount > 0) {
                resultMsg.textContent = `"${searchKey}" 지역에서 ${foundCount}개의 매장을 찾았습니다.`;
                resultMsg.className = "mt-6 text-center text-sky-600 font-bold p-4 bg-sky-50 rounded-lg border border-sky-100 animate-pulse";
            } else {
                resultMsg.textContent = `"${searchKey}" 지역에는 등록된 굿즈샵이 없습니다.`;
                resultMsg.className = "mt-6 text-center text-red-500 font-bold p-4 bg-red-50 rounded-lg border border-red-100";
            }
        }
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì±—ë´‡ ìƒë‹´ - íš¨ë¹ˆêµí†µê³µì‚¬</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        
        .chat-scroll::-webkit-scrollbar { width: 6px; }
        .chat-scroll::-webkit-scrollbar-track { background: #f1f5f9; }
        .chat-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }

        @keyframes messageSlide {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .message-anim { animation: messageSlide 0.3s ease-out forwards; }
    </style>
</head>
<body class="bg-slate-100 min-h-screen flex flex-col">

    <header class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 h-16 flex justify-between items-center">
            <a href="index.html" class="flex items-center gap-2 group">
                <img src="images/logo.png" onerror="this.style.display='none'" class="h-8 w-auto">
                <div class="text-3xl font-black text-sky-600 hb-logo">HB</div>
                <span class="text-lg font-bold text-gray-800">ì±—ë´‡ ìƒë‹´</span>
            </a>
            <a href="index.html" class="text-gray-500 hover:text-black"><i class="fa-solid fa-xmark text-2xl"></i></a>
        </div>
    </header>

    <main class="flex-grow flex items-center justify-center p-4">
        <div class="bg-white w-full max-w-md h-[700px] rounded-2xl shadow-2xl overflow-hidden flex flex-col border border-gray-200">
            
            <div class="bg-sky-600 p-4 flex items-center justify-between text-white shadow-md z-10">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full bg-white p-1 overflow-hidden">
                        <img src="images/hyobin.png" onerror="this.src='https://placehold.co/100x100/sky/white?text=HB'" class="w-full h-full object-cover rounded-full">
                    </div>
                    <div>
                        <h2 class="font-bold text-lg leading-tight">íš¨ë¹ˆì´ (AI ìƒë‹´ì›)</h2>
                        <p class="text-xs text-sky-100 flex items-center"><span class="w-2 h-2 bg-green-400 rounded-full mr-1"></span>ìš´ì˜ì¤‘</p>
                    </div>
                </div>
                <button onclick="location.reload()" class="text-sky-100 hover:text-white" title="ëŒ€í™” ì´ˆê¸°í™”"><i class="fa-solid fa-rotate-right"></i></button>
            </div>

            <div id="chat-box" class="flex-grow bg-slate-50 p-4 overflow-y-auto chat-scroll flex flex-col gap-4">
                
                <div class="text-center text-xs text-gray-400 my-2">
                    <span>ì˜¤ëŠ˜</span>
                </div>

                <div class="flex items-start gap-2 message-anim">
                    <div class="w-8 h-8 rounded-full bg-sky-100 flex-shrink-0 overflow-hidden border border-sky-200">
                        <img src="images/hyobin.png" onerror="this.src='https://placehold.co/100x100/sky/white?text=HB'" class="w-full h-full object-cover">
                    </div>
                    <div class="flex flex-col gap-1 max-w-[80%]">
                        <span class="text-xs text-gray-500 ml-1">íš¨ë¹ˆì´</span>
                        <div class="bg-white p-3 rounded-2xl rounded-tl-none border border-gray-200 text-sm text-gray-800 shadow-sm">
                            ì•ˆë…•í•˜ì„¸ìš”! íš¨ë¹ˆêµí†µê³µì‚¬ AI ì±—ë´‡ <strong>'íš¨ë¹ˆì´'</strong>ì…ë‹ˆë‹¤. ğŸš†<br>
                            ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?
                        </div>
                    </div>
                </div>

                <div class="flex items-start gap-2 message-anim">
                    <div class="w-8 h-8 flex-shrink-0"></div> <div class="max-w-[80%] flex flex-wrap gap-2">
                        <button onclick="sendQuickQuery('ì²«ì°¨/ë§‰ì°¨ ì‹œê°„ ì•Œë ¤ì¤˜')" class="bg-white border border-sky-200 text-sky-600 text-xs font-bold px-3 py-2 rounded-full hover:bg-sky-50 transition shadow-sm">ğŸ•’ ì²«ì°¨/ë§‰ì°¨ ì‹œê°„</button>
                        <button onclick="sendQuickQuery('ìœ ì‹¤ë¬¼ ì„¼í„° ìœ„ì¹˜ëŠ”?')" class="bg-white border border-sky-200 text-sky-600 text-xs font-bold px-3 py-2 rounded-full hover:bg-sky-50 transition shadow-sm">ğŸ’ ìœ ì‹¤ë¬¼ ì°¾ê¸°</button>
                        <button onclick="sendQuickQuery('ë…¸ì„ ë„ê°€ ë³´ê³  ì‹¶ì–´')" class="bg-white border border-sky-200 text-sky-600 text-xs font-bold px-3 py-2 rounded-full hover:bg-sky-50 transition shadow-sm">ğŸ—ºï¸ ì „ì²´ ë…¸ì„ ë„</button>
                        <button onclick="sendQuickQuery('í†µí•© ìš´ì„í‘œ ë³´ì—¬ì¤˜')" class="bg-white border border-sky-200 text-sky-600 text-xs font-bold px-3 py-2 rounded-full hover:bg-sky-50 transition shadow-sm">ğŸ’³ í†µí•© ìš´ì„ ì•ˆë‚´</button>
                        <button onclick="sendQuickQuery('êµ¿ì¦ˆìƒµ ì–´ë”” ìˆì–´?')" class="bg-white border border-sky-200 text-sky-600 text-xs font-bold px-3 py-2 rounded-full hover:bg-sky-50 transition shadow-sm">ğŸ›ï¸ êµ¿ì¦ˆìƒµ ì•ˆë‚´</button>
                    </div>
                </div>

            </div>

            <div class="bg-white p-3 border-t border-gray-200">
                <div class="flex items-center gap-2 bg-gray-100 rounded-full px-4 py-2 border border-gray-300 focus-within:border-sky-500 focus-within:ring-1 focus-within:ring-sky-500 transition">
                    <input type="text" id="user-input" class="bg-transparent flex-grow outline-none text-sm text-gray-800" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." onkeypress="handleKeyPress(event)">
                    <button onclick="sendMessage()" class="text-sky-600 hover:text-sky-700 transition"><i class="fa-solid fa-paper-plane text-lg"></i></button>
                </div>
                <div class="text-center mt-2">
                    <p class="text-[10px] text-gray-400">ìƒë‹´ ë‚´ìš©ì€ ì„œë¹„ìŠ¤ í’ˆì§ˆ í–¥ìƒì„ ìœ„í•´ ì €ì¥ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>
            </div>

        </div>
    </main>

    <script>
        const chatBox = document.getElementById('chat-box');
        const userInput = document.getElementById('user-input');

        // ìŠ¤í¬ë¡¤ì„ ë§¨ ì•„ë˜ë¡œ
        function scrollToBottom() {
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        // ì—”í„°í‚¤ ì…ë ¥ ì²˜ë¦¬
        function handleKeyPress(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        }

        // í€µ ë©”ë‰´ í´ë¦­ ì‹œ
        function sendQuickQuery(text) {
            userInput.value = text;
            sendMessage();
        }

        // ë©”ì‹œì§€ ì „ì†¡
        function sendMessage() {
            const text = userInput.value.trim();
            if (text === "") return;

            // 1. ì‚¬ìš©ì ë©”ì‹œì§€ ì¶”ê°€
            addMessage('user', text);
            userInput.value = '';

            // 2. ë´‡ ì‘ë‹µ ëŒ€ê¸° (Typing íš¨ê³¼)
            setTimeout(() => {
                showTypingIndicator();
                
                // 3. ì‹¤ì œ ì‘ë‹µ ì²˜ë¦¬ (1ì´ˆ í›„)
                setTimeout(() => {
                    removeTypingIndicator();
                    const botResponse = getBotResponse(text);
                    addMessage('bot', botResponse);
                }, 800);
            }, 300);
        }

        // ë©”ì‹œì§€ UI ì¶”ê°€
        function addMessage(sender, text) {
            const div = document.createElement('div');
            div.className = `flex items-start gap-2 message-anim ${sender === 'user' ? 'flex-row-reverse' : ''}`;
            
            let html = '';
            if (sender === 'bot') {
                html = `
                    <div class="w-8 h-8 rounded-full bg-sky-100 flex-shrink-0 overflow-hidden border border-sky-200">
                        <img src="images/hyobin.png" onerror="this.src='https://placehold.co/100x100/sky/white?text=HB'" class="w-full h-full object-cover">
                    </div>
                    <div class="flex flex-col gap-1 max-w-[80%] items-start">
                        <span class="text-xs text-gray-500 ml-1">íš¨ë¹ˆì´</span>
                        <div class="bg-white p-3 rounded-2xl rounded-tl-none border border-gray-200 text-sm text-gray-800 shadow-sm leading-relaxed">
                            ${text}
                        </div>
                    </div>
                `;
            } else {
                html = `
                    <div class="flex flex-col gap-1 max-w-[80%] items-end">
                        <div class="bg-sky-500 p-3 rounded-2xl rounded-tr-none text-sm text-white shadow-md leading-relaxed">
                            ${text}
                        </div>
                    </div>
                `;
            }
            
            div.innerHTML = html;
            chatBox.appendChild(div);
            scrollToBottom();
        }

        // íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° (ì©œì©œì©œ...)
        function showTypingIndicator() {
            const div = document.createElement('div');
            div.id = 'typing-indicator';
            div.className = 'flex items-start gap-2 message-anim';
            div.innerHTML = `
                <div class="w-8 h-8 rounded-full bg-sky-100 flex-shrink-0 overflow-hidden border border-sky-200">
                    <img src="images/hyobin.png" onerror="this.src='https://placehold.co/100x100/sky/white?text=HB'" class="w-full h-full object-cover">
                </div>
                <div class="bg-white p-3 rounded-2xl rounded-tl-none border border-gray-200 shadow-sm flex items-center gap-1">
                    <span class="w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce"></span>
                    <span class="w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce delay-100"></span>
                    <span class="w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce delay-200"></span>
                </div>
            `;
            chatBox.appendChild(div);
            scrollToBottom();
        }

        function removeTypingIndicator() {
            const indicator = document.getElementById('typing-indicator');
            if (indicator) indicator.remove();
        }

        // â˜… ë´‡ ì‘ë‹µ ë¡œì§ (íš¨ë¹ˆê¶Œ í†µí•©ìš´ì„ ë°˜ì˜) â˜…
        function getBotResponse(input) {
            const text = input.toLowerCase();

            if (text.includes("ì•ˆë…•") || text.includes("ë°˜ê°€")) {
                return "ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ë„ íš¨ë¹ˆêµí†µê³µì‚¬ë¥¼ ì´ìš©í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ğŸ˜Š";
            } 
            else if (text.includes("ì‹œê°„") || text.includes("ì²«ì°¨") || text.includes("ë§‰ì°¨")) {
                return `
                    <strong>ğŸ•’ ì—´ì°¨ ìš´í–‰ ì‹œê°„ ì•ˆë‚´</strong><br><br>
                    ì²«ì°¨ì™€ ë§‰ì°¨ ì‹œê°„ì€ ì—­ë§ˆë‹¤ ë‹¤ë¦…ë‹ˆë‹¤.<br>
                    ì •í™•í•œ ì‹œê°„ì€ <strong>[ì‹¤ì‹œê°„ ì—´ì°¨ìš´í–‰ì •ë³´]</strong> ë©”ë‰´ì—ì„œ ì¶œë°œì—­ì„ ê²€ìƒ‰í•˜ì‹œë©´ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.<br><br>
                    <a href="index.html#search-section" class="text-sky-600 font-bold underline">ğŸ‘‰ ì‹¤ì‹œê°„ ì •ë³´ ê²€ìƒ‰í•˜ëŸ¬ ê°€ê¸°</a>
                `;
            }
            else if (text.includes("ìœ ì‹¤ë¬¼") || text.includes("ë¶„ì‹¤") || text.includes("ìƒì–´")) {
                return `
                    <strong>ğŸ’ ìœ ì‹¤ë¬¼ ì„¼í„° ì•ˆë‚´</strong><br><br>
                    ë¬¼ê±´ì„ ìƒì–´ë²„ë¦¬ì…¨ë‚˜ìš”? ë„ˆë¬´ ê±±ì •í•˜ì§€ ë§ˆì„¸ìš”!<br>
                    ìœ ì‹¤ë¬¼ ì„¼í„° í˜„í™©ì„ í™•ì¸í•´ë³´ì„¸ìš”.<br><br>
                    ğŸ“ <strong>ì„¼í„° ìœ„ì¹˜:</strong> 1í˜¸ì„  ì°½ì„ ì—­, 2í˜¸ì„  ì›”ì²œì—­<br>
                    <a href="lost_found.html" class="text-sky-600 font-bold underline">ğŸ‘‰ ìœ ì‹¤ë¬¼ ì„¼í„° ë°”ë¡œê°€ê¸°</a>
                `;
            }
            else if (text.includes("ë…¸ì„ ") || text.includes("ì§€ë„")) {
                return `
                    <strong>ğŸ—ºï¸ ì „ì²´ ë…¸ì„ ë„ ì•ˆë‚´</strong><br><br>
                    íš¨ë¹ˆêµí†µê³µì‚¬ì˜ 1~8í˜¸ì„  ë° ë¹ˆíš¨ì„  ì „ì²´ ë…¸ì„ ë„ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br><br>
                    <a href="map.html" class="text-sky-600 font-bold underline">ğŸ‘‰ ë…¸ì„ ë„ í¬ê²Œ ë³´ê¸°</a>
                `;
            }
            // â˜… ìš”ê¸ˆ/ìš´ì„/í™˜ìŠ¹ ê´€ë ¨ ì‘ë‹µ ìˆ˜ì •ë¨ â˜…
            else if (text.includes("ìš”ê¸ˆ") || text.includes("ìš´ì„") || text.includes("ë¹„ìš©") || text.includes("í™˜ìŠ¹")) {
                return `
                    <strong>ğŸ’³ íš¨ë¹ˆê¶Œ í†µí•© ìš´ì„ ì•ˆë‚´ (ê¸°ë³¸ìš”ê¸ˆ)</strong><br><br>
                    íš¨ë¹ˆ ë„ì‹œì² ë„(1~8í˜¸ì„ ), ë¹ˆíš¨ì„ , ì‹œë‚´ë²„ìŠ¤ëŠ” <strong>í†µí•©ìš”ê¸ˆì œ</strong>ê°€ ì ìš©ë©ë‹ˆë‹¤.<br><br>
                    - <strong>ì¼ë°˜:</strong> 1,500ì› (êµí†µì¹´ë“œ)<br>
                    - <strong>ì²­ì†Œë…„:</strong> 850ì›<br>
                    - <strong>ì–´ë¦°ì´:</strong> 550ì›<br><br>
                    ğŸ”„ <strong>í™˜ìŠ¹ í• ì¸:</strong> í•˜ì°¨ í›„ 30ë¶„ ì´ë‚´ (ìµœëŒ€ 4íšŒ)<br>
                    ğŸ“ˆ <strong>ê±°ë¦¬ë¹„ë¡€:</strong><br>
                    Â· 10~50km: 5kmë§ˆë‹¤ 100ì› ì¶”ê°€<br>
                    Â· 50km ì´ˆê³¼: 8kmë§ˆë‹¤ 100ì› ì¶”ê°€<br><br>
                    <a href="subway.html" class="text-sky-600 font-bold underline">ğŸ‘‰ ìì„¸í•œ ìš´ì„í‘œ ë³´ê¸°</a>
                `;
            }
            else if (text.includes("êµ¿ì¦ˆ") || text.includes("ë§¤ì¥") || text.includes("ìƒµ")) {
                return `
                    <strong>ğŸ›ï¸ ê³µì‹ êµ¿ì¦ˆìƒµ ì•ˆë‚´</strong><br><br>
                    íš¨ë¹ˆêµí†µê³µì‚¬ì˜ ê·€ì—¬ìš´ ìºë¦­í„° êµ¿ì¦ˆë¥¼ ë§Œë‚˜ë³´ì„¸ìš”!<br>
                    ë³¸ì , ê³µí•­ì , ì°½ì„ ì—­ì  ë“± ë‹¤ì–‘í•œ ê³³ì— ë§¤ì¥ì´ ìˆìŠµë‹ˆë‹¤.<br><br>
                    <a href="goods.html" class="text-sky-600 font-bold underline">ğŸ‘‰ êµ¿ì¦ˆìƒµ ìœ„ì¹˜/ì •ë³´ ë³´ê¸°</a>
                `;
            }
            else if (text.includes("ë¯¼ì›") || text.includes("ë¶ˆí¸") || text.includes("ì‹ ê³ ") || text.includes("ì „í™”")) {
                return `
                    <strong>ğŸ“ ê³ ê°ì„¼í„° ì•ˆë‚´</strong><br><br>
                    ì±—ë´‡ìœ¼ë¡œ í•´ê²°ë˜ì§€ ì•ŠëŠ” ë¬¸ì œëŠ” ê³ ê°ì„¼í„°ë¡œ ì—°ë½ì£¼ì„¸ìš”.<br><br>
                    - <strong>ì „í™”/ë¬¸ì:</strong> 079-431-4723<br>
                    - <strong>ìš´ì˜ì‹œê°„:</strong> 09:00 ~ 18:00 (í‰ì¼)
                `;
            }
            else if (text.includes("ì‚¬ë‘") || text.includes("ì¢‹ì•„")) {
                return "ì €ë„ ê³ ê°ë‹˜ì„ ì‚¬ë‘í•©ë‹ˆë‹¤! ğŸ¥° ì•ˆì „í•œ ì—¬í–‰ ë˜ì„¸ìš”!";
            }
            else {
                return `
                    ì£„ì†¡í•©ë‹ˆë‹¤. ì œê°€ ì´í•´í•˜ê¸° ì–´ë ¤ìš´ ì§ˆë¬¸ì´ë„¤ìš”. ğŸ˜…<br>
                    ì•„ë˜ í‚¤ì›Œë“œë¡œ ë‹¤ì‹œ ë¬¼ì–´ë´ ì£¼ì‹œê² ì–´ìš”?<br><br>
                    - ì²«ì°¨/ë§‰ì°¨ ì‹œê°„<br>
                    - ìœ ì‹¤ë¬¼ ì°¾ê¸°<br>
                    - í†µí•© ìš´ì„ ì•ˆë‚´<br>
                    - êµ¿ì¦ˆìƒµ ìœ„ì¹˜
                `;
            }
        }
    </script>
</body>
</html>
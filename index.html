<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>효빈광역시 공식 홈페이지</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts (Noto Sans KR) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; transition: background-color 0.3s, color 0.3s; }
        /* Dark Mode Styles */
        body.dark {
            background-color: #1f2937; /* slate-800 */
            color: #f3f4f6; /* gray-100 */
        }
        body.dark .bg-slate-50 { background-color: #1f2937; }
        body.dark .bg-white { background-color: #374151; }
        body.dark .text-slate-900 { color: #f3f4f6; }
        body.dark .text-slate-700 { color: #d1d5db; }
        body.dark .text-slate-500 { color: #9ca3af; }
        body.dark .border-slate-100 { border-color: #4b5563; }
        body.dark .border-slate-200 { border-color: #4b5563; }
        body.dark .post-row:hover { background-color: #4b5563; }
        body.dark .ribbon-main { background: linear-gradient(180deg, #1d4ed8 0%, #1e40af 100%); }
        body.dark .date-circle { background-color: #374151; border-color: #60a5fa; color: #93c5fd; box-shadow: 0 4px 6px -1px rgba(255, 255, 255, 0.1); }
        body.dark .date-circle .text-slate-500 { color: #93c5fd; }
        body.dark .date-circle .text-blue-700 { color: #60a5fa; }
        body.dark .bg-blue-100 { background-color: #1e3a8a; }
        body.dark .text-blue-600 { color: #93c5fd; }
        
        /* General Styles */
        .text-shadow { text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3); }
        .text-shadow-strong { text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6); }
        .ribbon-wrapper { position: absolute; bottom: -22px; left: 50%; transform: translateX(-50%); z-index: 20; display: flex; align-items: center; justify-content: center; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.2)); }
        .ribbon-main { background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%); color: white; padding: 12px 60px; font-size: 1.4rem; font-weight: 700; position: relative; z-index: 2; clip-path: polygon(0 0, 100% 0, 96% 50%, 100% 100%, 0 100%, 4% 50%); width: 700px; text-align: center; letter-spacing: -0.5px; }
        .date-circle { display: flex; flex-direction: column; align-items: center; justify-content: center; width: 80px; height: 80px; border: 2px solid #3b82f6; border-radius: 50%; background-color: white; color: #1e3a8a; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        @keyframes spin-slow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .group:hover .anim-reel { animation: spin-slow 4s linear infinite; }
        /* 페이지네이션 메뉴의 레이아웃과 전환 효과를 정의 */
        .menu-page { 
            display: none; 
            opacity: 0; 
            transition: opacity 0.3s ease-in-out; 
            grid-template-columns: repeat(7, minmax(0, 1fr));
            gap: 0.5rem;
            padding: 0 0.25rem;
        }
        .menu-page.active { 
            display: grid; 
            opacity: 1; 
        }
        .dot { transition: all 0.3s; }
        .clickable-icon { cursor: pointer; transition: transform 0.2s; }
        .clickable-icon:active { transform: scale(0.95); }
        .text-link:hover { text-decoration: underline; color: #2563eb; cursor: pointer; }
        /* 게시글 호버 효과 */
        .post-row:hover { cursor: pointer; }
        .post-row:hover .post-title { text-decoration: underline; color: #2563eb; }

        /* 반응형 웹 디자인: 모바일 환경에서 메뉴 레이아웃 조정 */
        @media (max-width: 768px) {
            .menu-page { 
                grid-template-columns: repeat(4, minmax(0, 1fr)); /* 모바일에서 4열로 변경 */
                gap: 1.5rem 0.5rem;
            }
            .ribbon-main {
                width: 90%;
                padding: 12px 30px;
                font-size: 1.2rem;
            }
            .main-visual-content {
                flex-direction: column;
                align-items: center;
                padding-top: 1rem;
            }
            .main-visual-content > div {
                margin-top: 0;
            }
            .main-visual-content > div:nth-child(2) {
                display: none; /* 모바일에서 마스코트 숨기기 */
            }
            .main-visual-content > div:nth-child(1) .w-52 {
                width: 160px;
                height: 220px;
            }
            .main-visual-content > div:nth-child(1) .text-3xl {
                font-size: 1.5rem;
            }
            .h-\[480px\] {
                height: 380px; /* 모바일에서 높이 줄이기 */
            }
        }
    </style>
</head>
<body class="bg-slate-50 min-h-screen flex flex-col relative">

    <!-- 1. 최상단 헤더 -->
    <header class="bg-[#1e293b] text-white">
        <div class="max-w-6xl mx-auto px-4 h-16 flex justify-between items-center">
            <!-- 로고 영역 -->
            <div class="flex items-center cursor-pointer gap-3" onclick="location.href='index.html'">
                <!-- 로고 이미지 (실제 이미지 없을 시 대체 텍스트 표시) -->
                <img src="logo.png" alt="효빈광역시 로고" class="h-10 w-auto object-contain" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                <div class="w-32 h-9 bg-white rounded hidden items-center justify-center text-slate-500 text-xs font-bold shadow-md hover:bg-slate-100 transition">[효빈광역시 로고]</div>
                <span class="text-2xl font-bold tracking-wider" data-i18n-key="city-name">효빈광역시</span>
            </div>

            <!-- 우측 아이콘 영역 (기능 추가됨) -->
            <div class="flex items-center space-x-5 text-gray-300">
                <!-- 1. 검색 (돋보기) -->
                <button id="search-toggle" class="hover:text-white transition" onclick="openSearch()">
                    <i data-lucide="search" class="w-6 h-6"></i>
                </button>
                <!-- 2. 다크모드 (달/해) -->
                <button id="dark-mode-toggle" class="hover:text-white transition" onclick="toggleDarkMode()">
                    <!-- 초기 아이콘은 JavaScript에서 설정됨 -->
                    <i data-lucide="moon" class="w-6 h-6"></i>
                </button>
                <!-- 3. 영문 변경 (지구본) -->
                <button id="language-toggle" class="hover:text-white transition" onclick="changeLanguage()">
                    <i data-lucide="globe" class="w-6 h-6"></i>
                </button>
                <!-- 4. 전체 메뉴 (가로 3줄) -->
                <button id="menu-toggle" class="hover:text-white transition" onclick="toggleMenu()">
                    <i data-lucide="menu" class="w-6 h-6"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- 2. 메인 내비게이션 -->
    <nav class="bg-[#172554] text-white border-t border-slate-700 shadow-md relative z-20">
        <div class="max-w-6xl mx-auto px-4">
            <ul class="flex justify-center items-center py-4 text-[17px] font-medium tracking-tight overflow-x-auto whitespace-nowrap md:justify-center">
                <li class="px-5 cursor-pointer hover:text-blue-300 transition" onclick="location.href='civil.html'" data-i18n-key="menu-civil">민원</li>
                <li class="text-slate-600 text-xs hidden md:block">|</li>
                <li class="px-5 cursor-pointer hover:text-blue-300 font-bold transition" onclick="location.href='news.html'" data-i18n-key="menu-news">시정소식</li>
                <li class="text-slate-600 text-xs hidden md:block">|</li>
                <li class="px-5 cursor-pointer hover:text-blue-300 transition" onclick="location.href='life.html'" data-i18n-key="menu-life">생활정보</li>
                <li class="text-slate-600 text-xs hidden md:block">|</li>
                <li class="px-5 cursor-pointer hover:text-blue-300 transition" onclick="location.href='transport.html'" data-i18n-key="menu-transport">교통</li>
                <li class="text-slate-600 text-xs hidden md:block">|</li>
                <li class="px-5 cursor-pointer hover:text-blue-300 transition" onclick="location.href='welfare.html'" data-i18n-key="menu-welfare">복지</li>
                <li class="text-slate-600 text-xs hidden md:block">|</li>
                <li class="px-5 cursor-pointer hover:text-blue-300 transition" onclick="location.href='job.html'" data-i18n-key="menu-job">일자리</li>
                <li class="text-slate-600 text-xs hidden md:block">|</li>
                <li class="px-5 cursor-pointer hover:text-blue-300 transition" onclick="location.href='tour.html'" data-i18n-key="menu-tour">관광</li>
                <li class="text-slate-600 text-xs hidden md:block">|</li>
                <li class="px-5 cursor-pointer hover:text-blue-300 transition" onclick="location.href='notice.html'" data-i18n-key="menu-notice">공지사항</li>
                <li class="text-slate-600 text-xs hidden md:block">|</li>
                <li class="px-5 cursor-pointer hover:text-blue-300 transition" onclick="location.href='contact.html'" data-i18n-key="menu-contact">문의</li>
                <li class="text-slate-600 text-xs hidden md:block">|</li>
                <li class="px-5 cursor-pointer hover:text-blue-300 font-bold transition flex items-center gap-1" onclick="location.href='district_search.html'">
                    <i data-lucide="search" class="w-4 h-4"></i> <span data-i18n-key="menu-search-district">행정구역 검색</span>
                </li>
            </ul>
        </div>
    </nav>

    <!-- 3. 메인 비주얼 영역 -->
    <section class="relative w-full h-[480px] md:h-[480px] bg-slate-200 overflow-hidden">
        <!-- 배경 이미지 및 그라데이션 오버레이 -->
        <div class="absolute inset-0 w-full h-full bg-slate-300">
            <img src="main_bg.jpg" alt="배경 이미지" class="absolute inset-0 w-full h-full object-cover opacity-90" onerror="this.style.display='none'">
            <div class="absolute inset-0 bg-gradient-to-b from-slate-200/50 to-slate-300/80 -z-10"></div>
        </div>

        <div class="max-w-6xl mx-auto px-4 h-full relative z-10 flex justify-between pt-12 main-visual-content">
            <!-- 시장님 영역 -->
            <div class="flex flex-col items-center mt-2 group clickable-icon" onclick="location.href='mayor.html'">
                <div class="text-center mb-3 transform transition group-hover:-translate-y-1">
                    <div class="inline-block bg-white/90 px-5 py-1.5 rounded-full shadow-sm mb-2 backdrop-blur-sm">
                        <p class="text-slate-800 font-bold text-base leading-none" data-i18n-key="main-slogan-pre">시민이 행복한 도시로!</p>
                    </div>
                    <p class="text-slate-900 font-black text-3xl text-shadow-strong text-white tracking-tight" data-i18n-key="main-slogan-main">효빈시장 박효빈입니다.</p>
                </div>
                <div class="w-52 h-72 rounded-b-xl shadow-2xl border-[3px] border-white/50 bg-slate-400 relative overflow-hidden">
                     <img src="mayor.jpg" alt="시장님 사진" class="w-full h-full object-cover" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                     <!-- 이미지 로딩 실패 시 대체 영역 -->
                     <div class="hidden w-full h-full items-center justify-center text-white text-center font-bold absolute inset-0 bg-slate-400">
                       [시장님 사진]<br>(mayor.jpg)
                     </div>
                </div>
            </div>

            <!-- 마스코트 영역 (모바일 숨김) -->
            <div class="hidden md:flex flex-col items-center mt-2 group clickable-icon" onclick="location.href='mascot.html'">
                <div class="text-center mb-3 transform transition group-hover:-translate-y-1">
                    <div class="inline-block bg-white/90 px-5 py-1.5 rounded-full shadow-sm mb-2 backdrop-blur-sm">
                        <p class="text-blue-900 font-bold text-base leading-none" data-i18n-key="mascot-title-pre">효빈광역시</p>
                    </div>
                    <p class="text-blue-700 font-black text-3xl tracking-tight text-white text-shadow-strong">
                        <span data-i18n-key="mascot-title">마스코트 캐릭터</span><br>
                        <span class="text-4xl" data-i18n-key="mascot-name">한바다</span>
                    </p>
                </div>
                <div class="w-48 h-64 rounded-full shadow-2xl border-[3px] border-white/50 mt-4 bg-blue-200 relative overflow-hidden">
                    <img src="mascot.jpg" alt="마스코트" class="w-full h-full object-cover" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                     <!-- 이미지 로딩 실패 시 대체 영역 -->
                     <div class="hidden w-full h-full items-center justify-center text-blue-800 text-center font-bold absolute inset-0 bg-blue-200">
                       [마스코트]<br>(mascot.jpg)
                     </div>
                </div>
            </div>
        </div>

        <!-- 슬로건 리본 -->
        <div class="ribbon-wrapper">
            <div class="ribbon-main" data-i18n-key="ribbon-slogan">
                모두의 밝은 미래, 함께하는 효빈광역시.
            </div>
        </div>
    </section>

    <!-- 4. 검색창 및 아이콘 메뉴 -->
    <section class="relative z-30 -mt-12 px-4 mb-8">
        <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-xl p-8 pt-14 border border-slate-100 relative min-h-[340px] md:min-h-[340px]">
            <div class="flex w-full max-w-[600px] mx-auto border-[3px] border-blue-500 rounded-none overflow-hidden mb-10 shadow-sm">
                <input type="text" id="main-search-input" placeholder="검색" class="w-full px-6 py-3.5 text-xl font-bold text-slate-700 outline-none placeholder-slate-400" data-i18n-key="search-placeholder">
                <button class="bg-blue-600 text-white px-8 py-2 hover:bg-blue-700 transition flex items-center justify-center">
                    <i data-lucide="search" class="w-7 h-7"></i>
                </button>
            </div>

            <!-- 아이콘 메뉴 페이지 컨테이너 (내부 텍스트는 번역하지 않음) -->
            <div id="menu-container" class="relative w-full overflow-hidden">
                <!-- PAGE 1: 기본 메뉴 -->
                <div id="page-0" class="menu-page active">
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='city_hall.html'">
                        <span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">청사안내</span>
                        <div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm">
                            <i data-lucide="building" class="w-7 h-7 stroke-[1.5]"></i>
                        </div>
                    </div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='subway.html'">
                        <span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">도시철도</span>
                        <div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm">
                            <i data-lucide="train-front" class="w-7 h-7 stroke-[1.5]"></i>
                        </div>
                    </div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='culture.html'">
                        <span class="text-slate-700 font-bold text-[15px] group-hover:text-purple-600 transition">문화&행사</span>
                        <div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center group-hover:border-purple-500 group-hover:bg-purple-50 transition shadow-sm overflow-hidden relative ring-2 ring-transparent group-hover:ring-purple-200">
                            <!-- SVG 아이콘: 필름 릴 또는 렌즈 모양 -->
                            <svg viewBox="0 0 100 100" class="w-9 h-9 anim-reel text-purple-600 fill-current"><circle cx="50" cy="50" r="40" stroke="currentColor" stroke-width="8" fill="none" /><circle cx="50" cy="18" r="5" fill="currentColor" /><circle cx="82" cy="50" r="5" fill="currentColor" /><circle cx="50" cy="82" r="5" fill="currentColor" /><circle cx="18" cy="50" r="5" fill="currentColor" /><path d="M42 35 L65 50 L42 65 Z" fill="currentColor" class="text-purple-500" /></svg>
                        </div>
                    </div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='economy.html'">
                        <span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">금융관련</span>
                        <div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm">
                            <i data-lucide="piggy-bank" class="w-7 h-7 stroke-[1.5]"></i>
                        </div>
                    </div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='bus.html'">
                        <span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">버스</span>
                        <div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm">
                            <i data-lucide="bus" class="w-7 h-7 stroke-[1.5]"></i>
                        </div>
                    </div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='petition.html'">
                        <span class="text-slate-700 font-bold text-[15px] text-center leading-tight group-hover:text-blue-600 transition -mt-1">시장에게<br>바란다</span>
                        <div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm">
                            <i data-lucide="message-circle" class="w-7 h-7 stroke-[1.5]"></i>
                        </div>
                    </div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='org.html'">
                        <span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">조직도</span>
                        <div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm">
                            <i data-lucide="network" class="w-7 h-7 stroke-[1.5]"></i>
                        </div>
                    </div>
                </div>

                <!-- PAGE 2: 생활/편의 (New) -->
                <div id="page-1" class="menu-page">
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='library.html'"><span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">전자도서관</span><div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm"><i data-lucide="book-open" class="w-7 h-7 stroke-[1.5]"></i></div></div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='job.html'"><span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">일자리센터</span><div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm"><i data-lucide="briefcase" class="w-7 h-7 stroke-[1.5]"></i></div></div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='parking.html'"><span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">주차장안내</span><div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm"><i data-lucide="car" class="w-7 h-7 stroke-[1.5]"></i></div></div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='waste.html'"><span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">대형폐기물</span><div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm"><i data-lucide="trash-2" class="w-7 h-7 stroke-[1.5]"></i></div></div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='tax.html'"><span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">지방세납부</span><div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm"><i data-lucide="credit-card" class="w-7 h-7 stroke-[1.5]"></i></div></div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='passport.html'"><span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">여권발급</span><div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm"><i data-lucide="plane" class="w-7 h-7 stroke-[1.5]"></i></div></div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='child.html'"><span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">보육포털</span><div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm"><i data-lucide="baby" class="w-7 h-7 stroke-[1.5]"></i></div></div>
                </div>

                <!-- PAGE 3: 참여/소통 (New) -->
                <div id="page-2" class="menu-page">
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='tour.html'"><span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">관광지도</span><div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm"><i data-lucide="map" class="w-7 h-7 stroke-[1.5]"></i></div></div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='citizen.html'"><span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">시민참여</span><div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm"><i data-lucide="vote" class="w-7 h-7 stroke-[1.5]"></i></div></div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='data.html'"><span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">공공데이터</span><div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm"><i data-lucide="database" class="w-7 h-7 stroke-[1.5]"></i></div></div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='vr.html'"><span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">VR투어</span><div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm"><i data-lucide="glasses" class="w-7 h-7 stroke-[1.5]"></i></div></div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='history.html'"><span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">역사관</span><div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm"><i data-lucide="scroll" class="w-7 h-7 stroke-[1.5]"></i></div></div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='news.html'"><span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">시정뉴스</span><div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm"><i data-lucide="newspaper" class="w-7 h-7 stroke-[1.5]"></i></div></div>
                    <div class="flex flex-col items-center group clickable-icon gap-3" onclick="location.href='stats.html'"><span class="text-slate-700 font-bold text-[15px] group-hover:text-blue-600 transition">민원현황</span><div class="w-14 h-14 rounded-full border border-slate-200 flex items-center justify-center text-slate-400 group-hover:border-blue-500 group-hover:text-blue-500 group-hover:bg-blue-50 transition shadow-sm"><i data-lucide="bar-chart-3" class="w-7 h-7 stroke-[1.5]"></i></div></div>
                </div>
            </div>
            
            <!-- 페이지네이션 도트 -->
            <div class="flex justify-center mt-8 space-x-3">
                <button onclick="changePage(0)" id="dot-0" class="dot w-3 h-3 rounded-full bg-blue-500 hover:scale-110 transition"></button>
                <button onclick="changePage(1)" id="dot-1" class="dot w-3 h-3 rounded-full bg-slate-300 hover:bg-slate-400 hover:scale-110 transition"></button>
                <button onclick="changePage(2)" id="dot-2" class="dot w-3 h-3 rounded-full bg-slate-300 hover:bg-slate-400 hover:scale-110 transition"></button>
            </div>
        </div>
    </section>

    <!-- 5. 게시판 및 배너 영역 -->
    <section class="max-w-6xl mx-auto px-4 w-full mb-20">
        <div class="bg-white rounded-xl border border-slate-100 shadow-sm p-8">
            <!-- 탭 메뉴 (자매결연도시 추가됨, 이동 경로 설정) -->
            <div class="flex items-end mb-8 border-b border-slate-200 overflow-x-auto whitespace-nowrap">
                <button class="px-6 py-3 text-lg text-slate-900 font-black border-b-[3px] border-slate-900 -mb-[3px] clickable-icon" data-i18n-key="board-news" onclick="location.href='news.html'">새소식</button>
                <button class="px-6 py-3 text-lg text-slate-400 font-medium hover:text-slate-600 transition clickable-icon" data-i18n-key="board-construction" onclick="location.href='construction.html'">공사알림</button>
                <button class="px-6 py-3 text-lg text-slate-400 font-medium hover:text-slate-600 transition clickable-icon" data-i18n-key="board-notice" onclick="location.href='official_notice.html'">고시&공고</button>
                <button class="px-6 py-3 text-lg text-slate-400 font-medium hover:text-slate-600 transition clickable-icon" data-i18n-key="board-recruit" onclick="location.href='recruitment.html'">시험채용</button>
                <button class="px-6 py-3 text-lg text-slate-400 font-medium hover:text-slate-600 transition clickable-icon" data-i18n-key="board-press" onclick="location.href='press_release.html'">보도자료</button>
                <button class="px-6 py-3 text-lg text-slate-400 font-medium hover:text-slate-600 transition clickable-icon" data-i18n-key="board-sister-cities" onclick="location.href='sister_cities.html'">자매결연도시</button>
            </div>
            
            <!-- 안내사항 1 (가장 최근 공지, 내용은 번역하지 않음) -->
            <div class="flex flex-col md:flex-row items-start mb-8 group clickable-icon post-row" onclick="location.href='news_traffic_support.html'">
                <div class="date-circle mr-6 shrink-0 mb-4 md:mb-0 group-hover:bg-blue-50 transition">
                    <span class="text-[11px] font-bold text-slate-500 mt-1">2025</span>
                    <div class="w-8 h-[1px] bg-slate-200 my-0.5"></div>
                    <span class="text-xl font-black text-blue-700 tracking-tighter">11.28</span>
                </div>
                <div class="flex-grow pt-1 w-full">
                    <div class="flex items-center mb-2"><span class="bg-blue-100 text-blue-600 text-xs font-bold px-2 py-0.5 rounded mr-2 text-link" onclick="event.stopPropagation(); location.href='welfare.html'" data-i18n-key="dept-traffic-welfare">교통복지과</span></div>
                    <h3 class="text-xl font-bold text-slate-800 mb-2 group-hover:text-blue-600 transition truncate post-title" data-i18n-key="post-title-1">2026 취약계층 교통비 지원사업 최종 계획안 공개</h3>
                    <p class="text-slate-500 text-sm leading-relaxed line-clamp-2" data-i18n-key="post-content-1">교통복지과는 내년부터 시행될 새로운 지원사업의 세부 내용을 공개하고 시민들의 의견을 적극 수렴하여 최종안을 확정지을 예정입니다.</p>
                </div>
            </div>
            
            <!-- 안내사항 리스트 (내용은 번역하지 않음) -->
            <ul class="space-y-4 mb-10 px-2">
                <li class="flex justify-between items-center clickable-icon group post-row" onclick="location.href='news_haf_2026.html'">
                    <div class="flex items-center overflow-hidden w-full md:w-auto"><span class="text-slate-400 text-sm w-24 mr-2 shrink-0 text-center font-medium text-link hidden md:block" onclick="event.stopPropagation(); location.href='culture.html'" data-i18n-key="dept-culture-industry">문화산업과</span><span class="text-slate-700 font-medium truncate group-hover:text-blue-600 transition post-title" data-i18n-key="post-title-2">2026 HAF (Hyobin Animation Festival) 최종 계획안 공개</span></div>
                    <span class="text-slate-400 text-sm font-light shrink-0 ml-4 hidden md:block">2025-11-28</span>
                </li>
                <li class="flex justify-between items-center clickable-icon group post-row" onclick="location.href='news_youth_policy.html'">
                    <div class="flex items-center overflow-hidden w-full md:w-auto"><span class="text-slate-400 text-sm w-24 mr-2 shrink-0 text-center font-medium text-link hidden md:block" onclick="event.stopPropagation(); location.href='citizen.html'" data-i18n-key="dept-youth-policy">청년정책과</span><span class="text-slate-700 font-medium truncate group-hover:text-blue-600 transition post-title" data-i18n-key="post-title-3">2026년 청년 정책참여 프로그램 참여자 모집 계획안 공개</span></div>
                    <span class="text-slate-400 text-sm font-light shrink-0 ml-4 hidden md:block">2025-11-27</span>
                </li>
                <li class="flex justify-between items-center clickable-icon group post-row" onclick="location.href='news_winter_bus.html'">
                    <div class="flex items-center overflow-hidden w-full md:w-auto"><span class="text-slate-400 text-sm w-24 mr-2 shrink-0 text-center font-medium text-link hidden md:block" onclick="event.stopPropagation(); location.href='transport.html'" data-i18n-key="dept-bus-policy">버스정책과</span><span class="text-slate-700 font-medium truncate group-hover:text-blue-600 transition post-title" data-i18n-key="post-title-4">겨울철 폭설 대비 시내버스 노선 우회 계획 공지</span></div>
                    <span class="text-slate-400 text-sm font-light shrink-0 ml-4 hidden md:block">2025-11-27</span>
                </li>
            </ul>

            <!-- 하단 3단 배너 (내용은 번역하지 않음) -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-5 border-t border-slate-100 pt-8">
                <div class="bg-white p-4 rounded-lg shadow-sm border border-slate-200 flex items-start space-x-4 clickable-icon hover:bg-slate-50 hover:border-blue-400 transition" onclick="location.href='banner_1.html'">
                    <div class="w-14 h-14 bg-green-100 rounded-lg flex items-center justify-center shrink-0"><i data-lucide="shield-check" class="w-8 h-8 text-green-600"></i></div>
                    <div class="flex-grow"><h4 class="font-bold text-slate-800 mb-1" data-i18n-key="banner-safety-title">시민안전보험</h4><p class="text-xs text-slate-500 line-clamp-2" data-i18n-key="banner-safety-content">예기치 못한 사고, 효빈시가 든든하게 지켜드립니다. 자동 가입 혜택 안내.</p></div>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-sm border border-slate-200 flex items-start space-x-4 clickable-icon hover:bg-slate-50 hover:border-blue-400 transition" onclick="location.href='banner_2.html'">
                    <div class="w-14 h-14 bg-orange-100 rounded-lg flex items-center justify-center shrink-0"><i data-lucide="book-open" class="w-8 h-8 text-orange-600"></i></div>
                    <div class="flex-grow"><h4 class="font-bold text-slate-800 mb-1" data-i18n-key="banner-learning-title">평생학습 수강생 모집</h4><p class="text-xs text-slate-500 line-clamp-2" data-i18n-key="banner-learning-content">2025년 상반기 시민 교양 강좌 수강생을 모집합니다. 배움의 기쁨을 누리세요.</p></div>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-sm border border-slate-200 flex items-start space-x-4 clickable-icon hover:bg-slate-50 hover:border-blue-400 transition" onclick="location.href='banner_3.html'">
                    <div class="w-14 h-14 bg-blue-100 rounded-lg flex items-center justify-center shrink-0"><i data-lucide="bus" class="w-8 h-8 text-blue-600"></i></div>
                    <div class="flex-grow"><h4 class="font-bold text-slate-800 mb-1" data-i18n-key="banner-tour-title">효빈 시티투어</h4><p class="text-xs text-slate-500 line-clamp-2" data-i18n-key="banner-tour-content">도심의 명소부터 숨겨진 성지까지! 2층 버스로 떠나는 여행.</p></div>
                </div>
            </div>
        </div>
    </section>

    <!-- 7. 페이지 하단 푸터 (유관기관 이동 수정) -->
    <footer class="bg-white border-t border-slate-200 mt-auto pt-10 pb-12 text-[13px] tracking-tight relative z-10">
        <div class="max-w-6xl mx-auto px-4">
            <!-- 푸터 메뉴 및 유관기관 선택 영역 -->
            <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4 border-b border-slate-100 pb-6">
                <div class="flex flex-wrap gap-x-6 gap-y-2 font-medium text-slate-600 justify-center md:justify-start">
                    <!-- 정책 및 안내 링크 (모달로 변경) -->
                    <a href="#" class="text-[#2563eb] font-bold hover:underline" data-policy="privacy" onclick="handleFooterLink(event, 'privacy')" data-i18n-key="footer-privacy">개인정보처리방침</a>
                    <a href="#" class="hover:text-slate-900 hover:underline" data-policy="copyright" onclick="handleFooterLink(event, 'copyright')" data-i18n-key="footer-copyright">저작권정책</a>
                    <a href="#" class="hover:text-slate-900 hover:underline" data-policy="cctv" onclick="handleFooterLink(event, 'cctv')" data-i18n-key="footer-cctv">영상정보처리기기 운영방침</a>
                    <a href="#" class="hover:text-slate-900 hover:underline" data-policy="viewer" onclick="handleFooterLink(event, 'viewer')" data-i18n-key="footer-viewer">뷰어내려받기</a>
                    <a href="#" class="hover:text-slate-900 hover:underline" data-policy="error" onclick="handleFooterLink(event, 'error')" data-i18n-key="footer-error">누리집 오류신고</a>
                    <a href="#" class="hover:text-slate-900 hover:underline" data-policy="directions" onclick="handleFooterLink(event, 'directions')" data-i18n-key="footer-directions">오시는 길</a>
                </div>
                
                <div class="flex items-center gap-2 w-full md:w-auto justify-end">
                    <select id="family-site" class="border border-slate-300 rounded px-3 py-1.5 text-slate-600 outline-none hover:border-slate-400 transition bg-white w-full md:w-48">
                        <option value="">유관기관 바로가기</option>
                        <optgroup label="산하기관">
                            <option value="HyobinMetro/index2.html">효빈교통공사</option>
                            <option value="culture_foundation.html">효빈문화공단</option>
                            <option value="animation_hq.html">효빈애니메이션본부</option>
                            <option value="water_sewage.html">효빈상하수도본부</option>
                            <option value="city_dev_corp.html">효빈도시공사</option>
                            <option value="facility_corp.html">효빈시설공단</option>
                        </optgroup>
                        <optgroup label="유관기관">
                            <option value="city_council.html">효빈시의회</option>
                            <option value="education_office.html">효빈교육청</option>
                            <option value="police_agency.html">효빈경찰청</option>
                            <option value="fire_dept.html">효빈소방본부</option>
                            <option value="terminal.html">효빈종합버스터미널</option>
                        </optgroup>
                        <optgroup label="보건소">
                            <option value="bukgu_health.html">북구보건소</option>
                            <option value="junggu_health.html">중구보건소</option>
                            <option value="donggu_health.html">동구보건소</option>
                            <option value="seogu_health.html">서구보건소</option>
                            <option value="namgu_health.html">남구보건소</option>
                            <option value="tangun_health.html">탄성군보건소</option>
                            <option value="changjeongu_health.html">창전구보건소</option>
                            <option value="cheongyeopgu_health.html">청엽구보건소</option>
                            <option value="ancheongu_health.html">안천구보건소</option>
                        </optgroup>
                        <optgroup label="중앙부처">
                            <!-- 중앙부처는 외부 URL 유지 -->
                            <option value="https://www.mois.go.kr">행정안전부</option>
                            <option value="https://www.gov.kr">정부24</option>
                            <option value="https://www.korea.kr">대한민국 정책브리핑</option>
                        </optgroup>
                    </select>
                    <button onclick="goFamilySite()" class="bg-slate-700 text-white px-3 py-1.5 rounded hover:bg-slate-800 transition font-bold whitespace-nowrap shrink-0">이동</button>
                </div>
            </div>

            <!-- 주소 및 연락처 정보 (다국어 지원 추가) -->
            <div class="flex flex-col md:flex-row justify-between items-end md:items-start gap-8">
                <div class="text-slate-500 space-y-2 leading-relaxed flex-grow w-full md:w-auto">
                    <p class="text-slate-600"><span class="mr-2" data-i18n-key="footer-zip">(우) 79791</span><span data-i18n-key="footer-address">효빈광역시 북구 효빈로 79(고송8동)</span></p>
                    <div class="flex flex-wrap gap-x-6 gap-y-1">
                        <span class="flex items-center">
                            <strong class="text-slate-700 font-bold mr-2" data-i18n-key="footer-tel-label">대표전화</strong>
                            <span data-i18n-key="footer-tel-number">079-591-2548</span>
                        </span>
                        <span class="text-slate-400" data-i18n-key="footer-tel-hours">월~금 : 08:30~18:30 (시간외는 당직실로 연결)</span>
                    </div>
                    <div class="flex flex-wrap gap-x-6 gap-y-1">
                        <span class="flex items-center">
                            <strong class="text-slate-700 font-bold mr-2" data-i18n-key="footer-fax-label">팩스</strong>
                            <span data-i18n-key="footer-fax-number">079-591-2547</span>
                        </span>
                        <span class="flex items-center">
                            <strong class="text-slate-700 font-bold mr-2" data-i18n-key="footer-duty-label">당직실</strong>
                            <span data-i18n-key="footer-duty-number">079-591-2546</span>
                            <span class="text-slate-400 ml-2" data-i18n-key="footer-duty-hours">(야간, 공휴일)</span>
                        </span>
                    </div>
                    <p class="text-slate-400 mt-6 font-light font-sans">COPYRIGHT © 2023 HYOBIN CITY. ALL RIGHTS RESERVED.</p>
                </div>
                <!-- 하단 로고 및 인증 마크 -->
                <div class="flex items-center space-x-3 flex-shrink-0">
                    <div class="h-14 w-auto flex items-center">
                         <img src="logo.png" alt="하단 로고" class="h-full w-auto object-contain" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                         <div class="w-32 h-14 border border-slate-200 rounded-lg bg-white hidden items-center justify-center text-slate-400 text-xs font-bold shadow-sm">[로고 이미지]</div>
                    </div>
                    <div class="border border-slate-200 rounded-lg p-2 bg-white flex items-center space-x-2 shadow-sm h-14 cursor-pointer hover:border-green-500 transition">
                        <div class="relative w-16 h-full border-2 border-green-600 rounded-md flex items-center justify-center overflow-hidden bg-white">
                            <span class="font-black text-green-700 text-lg italic z-10">WA</span>
                            <div class="absolute bottom-0 w-full bg-green-600 h-2.5 flex items-center justify-center"><span class="text-[6px] text-white font-bold leading-none">WEB 접근성</span></div>
                        </div>
                        <div class="text-[9px] text-slate-400 flex flex-col justify-center leading-tight"><span>과학기술정보통신부</span><span class="font-bold text-slate-600">WEB 접근성</span><span>품질인증마크 획득</span></div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- 8. Search Overlay Modal -->
    <div id="search-overlay" class="fixed inset-0 z-50 hidden bg-black bg-opacity-80 flex items-start justify-center p-4 pt-20" onclick="closeOverlay('search-overlay', 'search-content-wrapper')">
        <div class="w-full max-w-4xl transform transition-all duration-300 scale-95 opacity-0" id="search-content-wrapper" onclick="event.stopPropagation()">
            <div class="bg-white dark:bg-gray-700 rounded-xl shadow-2xl overflow-hidden">
                <div class="p-6">
                    <div class="flex items-center space-x-4">
                        <input type="text" id="header-search-input" placeholder="검색어를 입력하세요..." class="flex-grow p-4 text-xl border-2 border-blue-500 rounded-lg outline-none focus:border-blue-700 dark:bg-gray-800 dark:text-white dark:border-blue-400">
                        <button class="bg-blue-600 text-white p-4 rounded-lg hover:bg-blue-700 transition shrink-0" onclick="executeSearch()">
                            <i data-lucide="search" class="w-7 h-7"></i>
                        </button>
                        <button onclick="closeOverlay('search-overlay', 'search-content-wrapper')" class="text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-white transition shrink-0">
                            <i data-lucide="x" class="w-7 h-7"></i>
                        </button>
                    </div>
                </div>
                <div class="p-6 pt-0 text-slate-500 dark:text-gray-400 text-sm">
                    <p>예시: 시정뉴스, 효빈도서관, 평생학습</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 9. Language Selection Modal -->
    <div id="language-modal" class="fixed inset-0 z-50 hidden bg-black bg-opacity-50 flex items-center justify-center p-4" onclick="closeOverlay('language-modal', 'language-content-wrapper')">
        <div class="bg-white dark:bg-gray-700 rounded-xl shadow-2xl w-full max-w-sm transform transition-all duration-300 scale-95 opacity-0" id="language-content-wrapper" onclick="event.stopPropagation()">
            <div class="sticky top-0 bg-blue-600 text-white p-4 flex justify-between items-center rounded-t-xl z-10">
                <h3 class="text-xl font-bold">언어 선택 (Language)</h3>
                <button onclick="closeOverlay('language-modal', 'language-content-wrapper')" class="text-white hover:text-blue-200 transition">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
            <div class="p-4 grid grid-cols-2 gap-2 text-center">
                <button class="lang-btn bg-blue-100 text-blue-800 font-bold p-3 rounded-lg hover:bg-blue-200 transition dark:bg-blue-900 dark:text-blue-200" onclick="setLanguage('ko')">한국어 (Korean)</button>
                <button class="lang-btn bg-slate-100 text-slate-700 font-bold p-3 rounded-lg hover:bg-slate-200 transition dark:bg-gray-600 dark:text-white" onclick="setLanguage('en')">English</button>
                <button class="lang-btn bg-slate-100 text-slate-700 font-bold p-3 rounded-lg hover:bg-slate-200 transition dark:bg-gray-600 dark:text-white" onclick="setLanguage('zh')">중국어 (Chinese)</button>
                <button class="lang-btn bg-slate-100 text-slate-700 font-bold p-3 rounded-lg hover:bg-slate-200 transition dark:bg-gray-600 dark:text-white" onclick="setLanguage('ja')">일본어 (Japanese)</button>
                <button class="lang-btn bg-slate-100 text-slate-700 font-bold p-3 rounded-lg hover:bg-slate-200 transition dark:bg-gray-600 dark:text-white" onclick="setLanguage('tl')">Tagalog (따갈로그어)</button>
            </div>
        </div>
    </div>
    
    <!-- 10. Full Menu Modal (Sidebar) -->
    <div id="full-menu-modal" class="fixed inset-0 z-50 hidden bg-black bg-opacity-70 flex items-start justify-end" onclick="closeOverlay('full-menu-modal', 'full-menu-content-wrapper')">
        <div class="bg-white dark:bg-gray-800 w-full max-w-xs h-full p-6 shadow-2xl transform translate-x-full transition-transform duration-300" id="full-menu-content-wrapper" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center pb-6 border-b border-slate-200 dark:border-gray-700">
                <h3 class="text-2xl font-black text-blue-700 dark:text-blue-400">전체 메뉴</h3>
                <button onclick="closeOverlay('full-menu-modal', 'full-menu-content-wrapper')" class="text-slate-500 hover:text-slate-900 dark:text-gray-300 dark:hover:text-white transition">
                    <i data-lucide="x" class="w-7 h-7"></i>
                </button>
            </div>
            <ul class="pt-4 space-y-4 font-semibold text-lg text-slate-700 dark:text-gray-200">
                <li><a href="civil.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition block py-1" onclick="closeOverlay('full-menu-modal', 'full-menu-content-wrapper')" data-i18n-key="menu-civil">민원</a></li>
                <li><a href="news.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition block py-1" onclick="closeOverlay('full-menu-modal', 'full-menu-content-wrapper')" data-i18n-key="menu-news">시정소식</a></li>
                <li><a href="life.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition block py-1" onclick="closeOverlay('full-menu-modal', 'full-menu-content-wrapper')" data-i18n-key="menu-life">생활정보</a></li>
                <li><a href="transport.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition block py-1" onclick="closeOverlay('full-menu-modal', 'full-menu-content-wrapper')" data-i18n-key="menu-transport">교통</a></li>
                <li><a href="welfare.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition block py-1" onclick="closeOverlay('full-menu-modal', 'full-menu-content-wrapper')" data-i18n-key="menu-welfare">복지</a></li>
                <li><a href="job.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition block py-1" onclick="closeOverlay('full-menu-modal', 'full-menu-content-wrapper')" data-i18n-key="menu-job">일자리</a></li>
                <li><a href="tour.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition block py-1" onclick="closeOverlay('full-menu-modal', 'full-menu-content-wrapper')" data-i18n-key="menu-tour">관광</a></li>
                <li><a href="notice.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition block py-1" onclick="closeOverlay('full-menu-modal', 'full-menu-content-wrapper')" data-i18n-key="menu-notice">공지사항</a></li>
            </ul>
        </div>
    </div>
    
    <!-- Modal Structure (Policy/Directions) -->
    <div id="policy-modal" class="fixed inset-0 z-50 hidden bg-black bg-opacity-50 flex items-center justify-center p-4" onclick="closeModal()">
        <div id="modal-content-wrapper" class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95 opacity-0" onclick="event.stopPropagation()">
            <div class="sticky top-0 bg-blue-600 text-white p-4 flex justify-between items-center rounded-t-xl z-10">
                <h3 id="modal-title" class="text-xl font-bold">제목</h3>
                <button onclick="closeModal()" class="text-white hover:text-blue-200 transition">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
            <div id="modal-content" class="p-6 text-slate-700 dark:text-gray-300 space-y-4">
                <!-- Content will be injected here -->
            </div>
        </div>
    </div>

    <script>
        // Lucide 아이콘 초기화
        lucide.createIcons();

        // 다국어 텍스트 정의
        const translations = {
            'ko': {
                'city-name': '효빈광역시',
                'ribbon-slogan': '모두의 밝은 미래, 함께하는 효빈광역시.',
                'main-slogan-pre': '시민이 행복한 도시로!',
                'main-slogan-main': '효빈시장 박효빈입니다.',
                'mascot-title-pre': '효빈광역시',
                'mascot-title': '마스코트 캐릭터',
                'mascot-name': '한바다',
                'search-placeholder': '검색',
                'menu-civil': '민원',
                'menu-news': '시정소식',
                'menu-life': '생활정보',
                'menu-transport': '교통',
                'menu-welfare': '복지',
                'menu-job': '일자리',
                'menu-tour': '관광',
                'menu-notice': '공지사항',
                'menu-contact': '문의',
                'menu-search-district': '행정구역 검색',
                'board-news': '새소식',
                'board-construction': '공사알림',
                'board-notice': '고시&공고',
                'board-recruit': '시험채용',
                'board-press': '보도자료',
                'board-sister-cities': '자매결연도시',
                'dept-traffic-welfare': '교통복지과',
                'dept-culture-industry': '문화산업과',
                'dept-youth-policy': '청년정책과',
                'dept-bus-policy': '버스정책과',
                'post-title-1': '2026 취약계층 교통비 지원사업 최종 계획안 공개',
                'post-content-1': '교통복지과는 내년부터 시행될 새로운 지원사업의 세부 내용을 공개하고 시민들의 의견을 적극 수렴하여 최종안을 확정지을 예정입니다.',
                'post-title-2': '2026 HAF (Hyobin Animation Festival) 최종 계획안 공개',
                'post-title-3': '2026년 청년 정책참여 프로그램 참여자 모집 계획안 공개',
                'post-title-4': '겨울철 폭설 대비 시내버스 노선 우회 계획 공지',
                'banner-safety-title': '시민안전보험',
                'banner-safety-content': '예기치 못한 사고, 효빈시가 든든하게 지켜드립니다. 자동 가입 혜택 안내.',
                'banner-learning-title': '평생학습 수강생 모집',
                'banner-learning-content': '2025년 상반기 시민 교양 강좌 수강생을 모집합니다. 배움의 기쁨을 누리세요.',
                'banner-tour-title': '효빈 시티투어',
                'banner-tour-content': '도심의 명소부터 숨겨진 성지까지! 2층 버스로 떠나는 여행.',
                'footer-privacy': '개인정보처리방침',
                'footer-copyright': '저작권정책',
                'footer-cctv': '영상정보처리기기 운영방침',
                'footer-viewer': '뷰어내려받기',
                'footer-error': '누리집 오류신고',
                'footer-directions': '오시는 길',
                'footer-zip': '(우) 79791',
                'footer-address': '효빈광역시 북구 효빈로 79(고송8동)',
                'footer-tel-label': '대표전화',
                'footer-tel-number': '079-591-2548',
                'footer-tel-hours': '월~금 : 08:30~18:30 (시간외는 당직실로 연결)',
                'footer-fax-label': '팩스',
                'footer-fax-number': '079-591-2547',
                'footer-duty-label': '당직실',
                'footer-duty-number': '079-591-2546',
                'footer-duty-hours': '(야간, 공휴일)'
            },
            'en': {
                'city-name': 'Hyobin Metropolitan City',
                'ribbon-slogan': 'A bright future for everyone, Hyobin Metropolitan City together.',
                'main-slogan-pre': 'A city where citizens are happy!',
                'main-slogan-main': 'I am Hyobin Park, Mayor of Hyobin.',
                'mascot-title-pre': 'Hyobin Metropolitan City',
                'mascot-title': 'Mascot Character',
                'mascot-name': 'Hanbada',
                'search-placeholder': 'Search',
                'menu-civil': 'Civil Petitions',
                'menu-news': 'City News',
                'menu-life': 'Living Info',
                'menu-transport': 'Transportation',
                'menu-welfare': 'Welfare',
                'menu-job': 'Jobs',
                'menu-tour': 'Tourism',
                'menu-notice': 'Notices',
                'menu-contact': 'Inquiry',
                'menu-search-district': 'Search District',
                'board-news': 'New Notices',
                'board-construction': 'Construction Alerts',
                'board-notice': 'Official Notices',
                'board-recruit': 'Recruitment',
                'board-press': 'Press Releases',
                'board-sister-cities': 'Sister Cities',
                'dept-traffic-welfare': 'Traffic Welfare Dept.',
                'dept-culture-industry': 'Culture Industry Dept.',
                'dept-youth-policy': 'Youth Policy Dept.',
                'dept-bus-policy': 'Bus Policy Dept.',
                'post-title-1': 'Final plan for 2026 vulnerable transportation support announced',
                'post-content-1': 'The Traffic Welfare Division will announce the detailed contents of the new support project to be implemented starting next year and will finalize the plan after actively gathering citizen opinions.',
                'post-title-2': 'Final Plan for 2026 HAF (Hyobin Animation Festival) Released',
                'post-title-3': '2026 Youth Policy Participation Program Participant Recruitment Plan Announced',
                'post-title-4': 'Notice on bus route detours in preparation for heavy snow in winter',
                'banner-safety-title': 'Citizen Safety Insurance',
                'banner-safety-content': 'In case of unexpected accidents, Hyobin City will reliably protect you. Automatic subscription benefits guide.',
                'banner-learning-title': 'Recruiting Lifelong Learning Students',
                'banner-learning-content': 'Recruiting students for the first half of 2025 citizen liberal arts courses. Enjoy the joy of learning.',
                'banner-tour-title': 'Hyobin City Tour',
                'banner-tour-content': 'From downtown landmarks to hidden sanctuaries! A trip on a double-decker bus.',
                'footer-privacy': 'Privacy Policy',
                'footer-copyright': 'Copyright Policy',
                'footer-cctv': 'CCTV Policy',
                'footer-viewer': 'Viewer Download',
                'footer-error': 'Website Error Report',
                'footer-directions': 'Directions',
                'footer-zip': 'Zip Code 79791',
                'footer-address': '79 Hyobin-ro, Buk-gu, Hyobin Metropolitan City (Gosong 8-dong)',
                'footer-tel-label': 'Main Tel',
                'footer-tel-number': '079-591-2548',
                'footer-tel-hours': 'Mon-Fri: 08:30~18:30 (After hours connect to Duty Room)',
                'footer-fax-label': 'Fax',
                'footer-fax-number': '079-591-2547',
                'footer-duty-label': 'Duty Room',
                'footer-duty-number': '079-591-2546',
                'footer-duty-hours': '(Night, Holidays)'
            },
            'zh': {
                'city-name': '孝彬廣域市',
                'ribbon-slogan': '共同的燦爛未來，攜手共進的孝彬廣域市。',
                'main-slogan-pre': '讓市民幸福的城市!',
                'main-slogan-main': '我是孝彬市長朴孝彬。',
                'mascot-title-pre': '孝彬廣域市',
                'mascot-title': '吉祥物角色',
                'mascot-name': '韓巴達',
                'search-placeholder': '搜索',
                'menu-civil': '民願',
                'menu-news': '市政消息',
                'menu-life': '生活情報',
                'menu-transport': '交通',
                'menu-welfare': '福祉',
                'menu-job': '工作',
                'menu-tour': '觀光',
                'menu-notice': '公示事項',
                'menu-contact': '諮詢',
                'menu-search-district': '行政區域搜索',
                'board-news': '最新消息',
                'board-construction': '施工通知',
                'board-notice': '告示&公告',
                'board-recruit': '考試招聘',
                'board-press': '報道資料',
                'board-sister-cities': '姊妹結緣城市',
                'dept-traffic-welfare': '交通福祉課',
                'dept-culture-industry': '文化産業課',
                'dept-youth-policy': '青年政策課',
                'dept-bus-policy': '公交政策課',
                'post-title-1': '2026年弱勢羣體交通費支援項目最終方案公佈',
                'post-content-1': '交通福利科將公佈明年實施的新支援項目的詳細內容，並積極收集市民意見後確定最終方案。',
                'post-title-2': '2026 HAF (孝彬動畫節) 最終計劃案公佈',
                'post-title-3': '2026年青年政策參與計劃參與者招募計劃公佈',
                'post-title-4': '冬季暴雪 대비 市內公交路綫繞行計劃公示',
                'banner-safety-title': '市民安全保險',
                'banner-safety-content': '對於意外事故，孝彬市提供可靠保障。自動加入優惠指南。',
                'banner-learning-title': '招募終身學習學員',
                'banner-learning-content': '招募2025年上半年市民教養講座學員。享受學習的樂趣。',
                'banner-tour-title': '孝彬城市旅遊',
                'banner-tour-content': '從市中心名勝到隱藏的聖地! 乘坐雙層巴士的旅行。',
                'footer-privacy': '個人信息處理方針',
                'footer-copyright': '版權政策',
                'footer-cctv': '影像信息處理器運營方針',
                'footer-viewer': '瀏覽器下載',
                'footer-error': '網站錯誤申告',
                'footer-directions': '來訪路線',
                'footer-zip': '郵編 79791',
                'footer-address': '孝彬廣域市 北區 孝彬路 79(高松8洞)',
                'footer-tel-label': '代表電話',
                'footer-tel-number': '079-591-2548',
                'footer-tel-hours': '週一至週五: 08:30~18:30 (時間外轉接值班室)',
                'footer-fax-label': '傳真',
                'footer-fax-number': '079-591-2547',
                'footer-duty-label': '值班室',
                'footer-duty-number': '079-591-2546',
                'footer-duty-hours': '(夜間, 節假日)'
            },
            'ja': {
                'city-name': '孝彬広域市',
                'ribbon-slogan': 'みんなの明るい未来、共にする孝彬広域市。',
                'main-slogan-pre': '市民が幸せな都市へ!',
                'main-slogan-main': '孝彬市長の朴孝彬です。',
                'mascot-title-pre': '孝彬広域市',
                'mascot-title': 'マスコットキャラクター',
                'mascot-name': 'ハンバダ',
                'search-placeholder': '検索',
                'menu-civil': '請願',
                'menu-news': '市政ニュース',
                'menu-life': '生活情報',
                'menu-transport': '交通',
                'menu-welfare': '福祉',
                'menu-job': '仕事',
                'menu-tour': '観光',
                'menu-notice': 'お知らせ',
                'menu-contact': 'お問い合わせ',
                'menu-search-district': '行政区域検索',
                'board-news': '新着情報',
                'board-construction': '工事のお知らせ',
                'board-notice': '告示・公告',
                'board-recruit': '採用試験',
                'board-press': '報道資料',
                'board-sister-cities': '姉妹提携都市',
                'dept-traffic-welfare': '交通福祉課',
                'dept-culture-industry': '文化産業課',
                'dept-youth-policy': '青年政策課',
                'dept-bus-policy': 'バス政策課',
                'post-title-1': '2026年 脆弱階層の交通費支援事業最終計画案を公開',
                'post-content-1': '交通福祉課は来年から施行される新規支援事業の詳細を公開し、市民の意見を積極的に収集して最終案を確定する予定です。',
                'post-title-2': '2026 HAF (孝彬アニメーションフェスティバル) 最終計画案公開',
                'post-title-3': '2026年 青年政策参加プログラム参加者募集計画案公開',
                'post-title-4': '冬季の降雪に備えた市内バス路線迂回計画の公示',
                'banner-safety-title': '市民安全保険',
                'banner-safety-content': '予期せぬ事故、孝彬市が心強くお守りします。自動加入特典のご案内。',
                'banner-learning-title': '生涯学習受講生募集',
                'banner-learning-content': '2025年上半期市民教養講座の受講生を募集します。学びの喜びを享受してください。',
                'banner-tour-title': '孝彬シティツアー',
                'banner-tour-content': '都心の名所から隠れた聖地まで! 2階建てバスで行く旅行。',
                'footer-privacy': '個人情報保護方針',
                'footer-copyright': '著作権ポリシー',
                'footer-cctv': '映像情報処理機器運用方針',
                'footer-viewer': 'ビューアダウンロード',
                'footer-error': 'ウェブサイトエラー報告',
                'footer-directions': 'アクセス',
                'footer-zip': '郵便番号 79791',
                'footer-address': '孝彬広域市 北区 孝彬路 79(古松8洞)',
                'footer-tel-label': '代表電話',
                'footer-tel-number': '079-591-2548',
                'footer-tel-hours': '月～金: 08:30～18:30 (時間外は当直室へ転送)',
                'footer-fax-label': 'FAX',
                'footer-fax-number': '079-591-2547',
                'footer-duty-label': '当直室',
                'footer-duty-number': '079-591-2546',
                'footer-duty-hours': '(夜間、祝日)'
            },
            'tl': {
                'city-name': 'Lungsod ng Hyobin',
                'ribbon-slogan': 'Isang maliwanag na hinaharap para sa lahat, Hyobin Metropolitan City na magkasama.',
                'main-slogan-pre': 'Isang lungsod kung saan masaya ang mga mamamayan!',
                'main-slogan-main': 'Ako si Hyobin Park, Alkalde ng Hyobin.',
                'mascot-title-pre': 'Lungsod ng Hyobin',
                'mascot-title': 'Karakter ng Maskot',
                'mascot-name': 'Hanbada',
                'search-placeholder': 'Maghanap',
                'menu-civil': 'Petisyon',
                'menu-news': 'Balita ng Lungsod',
                'menu-life': 'Impormasyon sa Buhay',
                'menu-transport': 'Transportasyon',
                'menu-welfare': 'Kagalingan',
                'menu-job': 'Trabaho',
                'menu-tour': 'Turismo',
                'menu-notice': 'Paunawa',
                'menu-contact': 'Pagtatanong',
                'menu-search-district': 'Maghanap ng Distrito',
                'board-news': 'Bagong Balita',
                'board-construction': 'Mga Alerto sa Konstruksiyon',
                'board-notice': 'Mga Opisyal na Paunawa',
                'board-recruit': 'Pagre-recruit',
                'board-press': 'Mga Pahayag sa Media',
                'board-sister-cities': 'Mga Kapatid na Lungsod',
                'dept-traffic-welfare': 'Tanggapan ng Traffic Welfare',
                'dept-culture-industry': 'Tanggapan ng Industriya ng Kultura',
                'dept-youth-policy': 'Tanggapan ng Patakaran sa Kabataan',
                'dept-bus-policy': 'Tanggapan ng Patakaran sa Bus',
                'post-title-1': 'Huling plano para sa 2026 suporta sa transportasyon para sa mahihina inihayag',
                'post-content-1': 'Ang Traffic Welfare Division ay mag-aanunsyo ng detalyadong nilalaman ng bagong proyekto ng suporta na ipapatupad simula sa susunod na taon at pinal na isasapinal ang plano matapos aktibong mangalap ng opinyon ng mamamayan.',
                'post-title-2': 'Huling Plano para sa 2026 HAF (Hyobin Animation Festival) Inilabas',
                'post-title-3': '2026 Patakaran sa Kabataan Programa ng Pakikilahok Plano ng Pagre-recruit Inihayag',
                'post-title-4': 'Paunawa tungkol sa paglihis ng ruta ng bus ng lungsod bilang paghahanda para sa malakas na niyebe sa taglamig',
                'banner-safety-title': 'Seguro sa Kaligtasan ng Mamamayan',
                'banner-safety-content': 'Sa kaso ng hindi inaasahang aksidente, maaasahang protektahan ka ng Lungsod ng Hyobin. Gabay sa awtomatikong mga benepisyo sa subscription.',
                'banner-learning-title': 'Nagre-recruit ng mga Estudyante sa Lifelong Learning',
                'banner-learning-content': 'Nagre-recruit ng mga mag-aaral para sa mga kurso sa sining ng mamamayan sa unang kalahati ng 2025. I-enjoy ang saya ng pag-aaral.',
                'banner-tour-title': 'Hyobin City Tour',
                'banner-tour-content': 'Mula sa mga palatandaan sa downtown hanggang sa mga nakatagong santuwaryo! Isang paglalakbay sa isang double-decker bus.',
                'footer-privacy': 'Patakaran sa Privacy',
                'footer-copyright': 'Patakaran sa Copyright',
                'footer-cctv': 'Patakaran sa CCTV',
                'footer-viewer': 'I-download ang Viewer',
                'footer-error': 'Mag-ulat ng Error sa Website',
                'footer-directions': 'Direksyon',
                'footer-zip': 'Zip Code 79791',
                'footer-address': '79 Hyobin-ro, Buk-gu, Hyobin Metropolitan City (Gosong 8-dong)',
                'footer-tel-label': 'Pangunahing Telepono',
                'footer-tel-number': '079-591-2548',
                'footer-tel-hours': 'Lunes-Biyernes: 08:30~18:30 (Pagkatapos의 시간은 당직실로 연결)',
                'footer-fax-label': 'Fax',
                'footer-fax-number': '079-591-2547',
                'footer-duty-label': 'Duty Room',
                'footer-duty-number': '079-591-2546',
                'footer-duty-hours': '(Gabi, Piyesta Opisyal)'
            }
        };

        // 현재 활성화된 페이지 인덱스를 저장하는 변수
        let currentPageIndex = 0;
        const totalPages = 3;
        
        // 다크 모드 상태를 추적하는 변수
        let isDarkMode = false;
        let currentLanguage = 'ko'; // 기본 언어는 한국어

        /* --- 다국어 기능 구현 --- */

        /**
         * 현재 설정된 언어 코드를 바탕으로 페이지의 모든 텍스트를 변경합니다.
         * @param {string} langCode - 적용할 언어 코드
         */
        function applyTranslation(langCode) {
            const dictionary = translations[langCode] || translations['ko'];
            document.querySelectorAll('[data-i18n-key]').forEach(element => {
                const key = element.getAttribute('data-i18n-key');
                if (dictionary[key] !== undefined) {
                    element.textContent = dictionary[key];
                }
            });
            // HTML lang 속성 업데이트
            document.documentElement.lang = langCode;
            currentLanguage = langCode;
            localStorage.setItem('language', langCode);
            
            // 모달 제목도 다시 설정 (푸터 정책 모달의 제목은 동적으로 설정되므로 여기서는 무시)
            const titleElement = document.querySelector('title');
            if (titleElement) {
                titleElement.textContent = dictionary['city-name'] + (langCode === 'ko' ? ' 공식 홈페이지' : ' Official Website');
            }
        }

        /**
         * 언어 선택 버튼 클릭 시 호출됩니다.
         * @param {string} langCode - 선택된 언어 코드
         */
        function setLanguage(langCode) {
            applyTranslation(langCode);
            closeOverlay('language-modal', 'language-content-wrapper');
            showCustomAlert(`${translations[langCode]['city-name']} 언어로 변경되었습니다.`);
        }

        /* --- 다크 모드 및 상단 아이콘 기능 --- */

        /**
         * 다크 모드 상태를 로드하고 초기 설정을 적용합니다.
         */
        function initializeDarkMode() {
            // localStorage에서 상태를 로드하고, 기본값은 'light'로 설정합니다.
            const storedMode = localStorage.getItem('theme') || 'light';
            isDarkMode = storedMode === 'dark';
            
            if (isDarkMode) {
                document.body.classList.add('dark');
            } else {
                document.body.classList.remove('dark');
            }
            updateDarkModeIcon();

            // 언어 상태 초기화
            const storedLanguage = localStorage.getItem('language') || 'ko';
            applyTranslation(storedLanguage);
        }

        /**
         * 다크 모드 아이콘을 현재 상태에 맞게 업데이트합니다.
         */
        function updateDarkModeIcon() {
            const toggleButton = document.getElementById('dark-mode-toggle');
            if (toggleButton) {
                toggleButton.innerHTML = isDarkMode 
                    ? '<i data-lucide="sun" class="w-6 h-6"></i>' 
                    : '<i data-lucide="moon" class="w-6 h-6"></i>';
                // 아이콘 변경 후 Lucide를 다시 실행하여 새 아이콘을 SVG로 변환
                lucide.createIcons();
            }
        }

        /**
         * 다크 모드를 토글하고 상태를 localStorage에 저장합니다.
         */
        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            if (isDarkMode) {
                document.body.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            } else {
                document.body.classList.remove('dark');
                localStorage.setItem('theme', 'light');
            }
            updateDarkModeIcon();
            showCustomAlert(`테마가 ${isDarkMode ? '다크 모드' : '라이트 모드'}로 전환되었습니다.`);
        }

        /* --- 오버레이 및 모달 제어 함수 (Search, Language, Menu) --- */

        /**
         * 오버레이/모달을 엽니다.
         * @param {string} id - 모달/오버레이의 ID
         * @param {string} [wrapperId] - 내부 콘텐츠 래퍼의 ID (선택 사항, 전환 효과 적용용)
         */
        function openOverlay(id, wrapperId) {
            const overlay = document.getElementById(id);
            const wrapper = wrapperId ? document.getElementById(wrapperId) : null;
            if (overlay) {
                overlay.classList.remove('hidden');
                if (wrapper) {
                    setTimeout(() => {
                        // translate-x-full (사이드 메뉴 용) 또는 scale-95 (중앙 모달 용) 제거
                        if (id === 'full-menu-modal') {
                             wrapper.classList.remove('translate-x-full');
                        } else {
                            wrapper.classList.remove('scale-95', 'opacity-0');
                        }
                        if (id === 'search-overlay') {
                            // 검색 모달 열리면 바로 포커스
                            document.getElementById('header-search-input').focus();
                        }
                    }, 10);
                }
                lucide.createIcons();
            }
        }

        /**
         * 오버레이/모달을 닫습니다.
         * @param {string} id - 모달/오버레이의 ID
         * @param {string} [wrapperId] - 내부 콘텐츠 래퍼의 ID (선택 사항, 전환 효과 적용용)
         */
        function closeOverlay(id, wrapperId) {
            const overlay = document.getElementById(id);
            const wrapper = wrapperId ? document.getElementById(wrapperId) : null;
            if (overlay) {
                if (wrapper) {
                    // translate-x-full (사이드 메뉴 용) 또는 scale-95 (중앙 모달 용) 추가
                    if (id === 'full-menu-modal') {
                        wrapper.classList.add('translate-x-full');
                    } else {
                        wrapper.classList.add('scale-95', 'opacity-0');
                    }
                    // CSS transition 완료를 기다린 후 숨김 처리
                    setTimeout(() => {
                        overlay.classList.add('hidden');
                    }, 300); 
                } else {
                     overlay.classList.add('hidden');
                }
            }
        }
        
        // 돋보기 아이콘 클릭 시
        function openSearch() {
            openOverlay('search-overlay', 'search-content-wrapper');
        }

        // 검색 실행 버튼 클릭 시
        function executeSearch() {
            const query = document.getElementById('header-search-input').value;
            if (query.trim()) {
                showCustomAlert(`'${query}'로 검색을 실행합니다. (실제 페이지 이동 구현 필요)`);
                closeOverlay('search-overlay', 'search-content-wrapper');
            } else {
                showCustomAlert("검색어를 입력해주세요.");
            }
        }
        
        // 지구본 아이콘 클릭 시
        function changeLanguage() {
            openOverlay('language-modal', 'language-content-wrapper');
        }

        // 전체 메뉴 아이콘 클릭 시
        function toggleMenu() {
            // 사이드바 형태로 열기
            openOverlay('full-menu-modal', 'full-menu-content-wrapper');
        }
        
        /* --- Policy Modal (Footer) Functions --- */

        /**
         * 모달을 열고 내용을 설정합니다. (푸터 정책용)
         */
        function openModal(title, contentHtml) {
            const modal = document.getElementById('policy-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalContent = document.getElementById('modal-content');
            const modalWrapper = document.getElementById('modal-content-wrapper');

            modalTitle.textContent = title;
            modalContent.innerHTML = contentHtml;
            
            modal.classList.remove('hidden');
            // 애니메이션을 위해 잠시 지연 후 클래스 추가
            setTimeout(() => {
                modalWrapper.classList.remove('scale-95', 'opacity-0');
            }, 10);

            lucide.createIcons();
        }

        /**
         * 모달을 닫습니다. (푸터 정책용)
         */
        function closeModal() {
            const modal = document.getElementById('policy-modal');
            const modalWrapper = document.getElementById('modal-content-wrapper');

            // 애니메이션을 위해 클래스 제거 후 hidden 처리
            modalWrapper.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300); // CSS transition duration과 일치
        }
        
        /* --- 그 외 유틸리티 함수 --- */

        /**
         * 메뉴 페이지를 전환하고 페이지네이션 도트를 업데이트합니다.
         * @param {number} newIndex - 새롭게 활성화할 페이지의 인덱스 (0, 1, 2)
         */
        function changePage(newIndex) {
            // 인덱스 범위 확인
            if (newIndex < 0 || newIndex >= totalPages) return;

            // 모든 페이지에서 active 클래스 제거 (숨기기)
            document.querySelectorAll('.menu-page').forEach(page => { 
                page.classList.remove('active'); 
            });

            // 새로운 페이지 활성화 (보이기)
            const newPage = document.getElementById(`page-${newIndex}`);
            if (newPage) {
                 // display: none -> display: grid 전환 시 transition을 위해 클래스 조작 순서 조정
                newPage.style.display = 'grid'; 
                // 강제 리플로우를 유도하여 transition이 적용되도록 함
                void newPage.offsetWidth; 
                newPage.classList.add('active');
            }


            // 도트 색상 업데이트
            document.querySelectorAll('.dot').forEach((dot, i) => {
                if (i === newIndex) { 
                    dot.classList.remove('bg-slate-300'); 
                    dot.classList.add('bg-blue-500'); 
                } 
                else { 
                    dot.classList.remove('bg-blue-500'); 
                    dot.classList.add('bg-slate-300'); 
                }
            });

            currentPageIndex = newIndex;
            // 아이콘이 동적으로 생성/제거될 수 있으므로 다시 초기화합니다.
            lucide.createIcons();
        }

        /**
         * 유관기관 바로가기 드롭다운에서 선택된 사이트로 이동합니다.
         */
        function goFamilySite() {
            const select = document.getElementById('family-site');
            const url = select.value;
            if (url) {
                if (url.startsWith('http')) {
                    // 외부 링크 (중앙부처 등)는 새 탭에서 열기
                    window.open(url, '_blank');
                } else {
                    // 내부 링크는 현재 창에서 이동
                    window.location.href = url;
                }
            } else {
                // 경고 메시지를 사용자 지정 메시지로 대체
                showCustomAlert('이동할 기관을 선택해주세요.');
            }
        }

        /**
         * Custom Alert/Modal Function (window.alert() 대체)
         * @param {string} message - 사용자에게 표시할 메시지
         */
        function showCustomAlert(message) {
             // 사용자에게 정보를 제공하거나 경고를 표시하는 용도 (현재는 콘솔 로그로 대체)
             console.log("APP INFO:", message);
        }

        /**
         * 모달에 표시될 내용을 반환합니다. (샘플 텍스트)
         */
        function getModalContent(type) {
            // 모달 내용 자체는 번역하지 않고 한국어 그대로 유지합니다.
            let title = '';
            let content = '';

            switch (type) {
                case 'privacy':
                    title = '개인정보처리방침';
                    content = `
                        <h4 class="text-lg font-bold text-blue-700">제1조 (개인정보의 처리 목적)</h4>
                        <p class="text-sm">효빈광역시 공식 누리집은 다음과 같은 목적으로 개인정보를 처리합니다. 처리하고 있는 개인정보는 다음의 목적 이외의 용도로는 이용되지 않으며, 이용 목적이 변경되는 경우에는 「개인정보 보호법」 제18조에 따라 별도의 동의를 받는 등 필요한 조치를 이행할 예정입니다. (자세한 내용은 본청 웹사이트에서 확인 가능합니다.)</p>
                        <ul class="list-disc list-inside ml-4 text-sm space-y-1">
                            <li>누리집 서비스 제공 및 관리</li>
                            <li>민원 처리 및 업무 수행</li>
                            <li>정책 홍보 및 통계 분석</li>
                        </ul>
                        <h4 class="text-lg font-bold text-blue-700 mt-4">담당 부서: 정보화담당관</h4>
                        <p class="text-sm">연락처: 079-123-4567</p>
                    `;
                    break;
                case 'copyright':
                    title = '저작권정책';
                    content = `
                        <h4 class="text-lg font-bold text-blue-700">제1조 (저작권 보호)</h4>
                        <p class="text-sm">효빈광역시에서 제공하는 모든 콘텐츠(기사, 사진, 이미지, 동영상 등)의 저작권은 효빈광역시에 속하며, 저작권법의 보호를 받습니다. 콘텐츠를 무단으로 복제, 배포, 영리 목적으로 이용하는 경우 관련 법령에 따라 조치될 수 있습니다.</p>
                        <h4 class="text-lg font-bold text-blue-700 mt-4">이용 조건</h4>
                        <p class="text-sm">비영리 목적으로 개인적인 사용 시에는 출처(효빈광역시)를 명시해야 하며, 상업적 이용 및 변경은 허용되지 않습니다.</p>
                    `;
                    break;
                case 'cctv':
                    title = '영상정보처리기기 운영방침';
                    content = `
                        <h4 class="text-lg font-bold text-blue-700">설치 목적 및 운영 근거</h4>
                        <p class="text-sm">효빈광역시는 시민의 안전 및 재난 예방을 목적으로 「개인정보 보호법」 제25조 제1항에 근거하여 영상정보처리기기(CCTV)를 설치·운영하고 있습니다.</p>
                        <h4 class="text-lg font-bold text-blue-700 mt-4">주요 운영 현황</h4>
                        <ul class="list-disc list-inside ml-4 text-sm space-y-1">
                            <li>설치 대수: 총 500대 (시청사, 주요 도로, 공원 등)</li>
                            <li>녹화 시간: 24시간 연속 녹화</li>
                            <li>보관 기간: 녹화일로부터 30일</li>
                        </ul>
                    `;
                    break;
                case 'viewer':
                    title = '뷰어 내려받기 안내';
                    content = `
                        <h4 class="text-lg font-bold text-blue-700">문서 뷰어 다운로드</h4>
                        <p class="text-sm">효빈광역시 누리집에서 제공되는 첨부 파일(hwp, doc, pdf, xls 등)을 정상적으로 열람하시려면 아래의 뷰어 프로그램이 필요합니다.</p>
                        <ul class="list-disc list-inside ml-4 text-sm space-y-1">
                            <li>PDF 파일: Adobe Acrobat Reader (외부 링크)</li>
                            <li>HWP 파일: 한컴오피스 뷰어 (외부 링크)</li>
                            <li>DOC/XLS 파일: Microsoft Office 뷰어 (외부 링크)</li>
                        </ul>
                    `;
                    break;
                case 'error':
                    title = '누리집 오류 신고';
                    content = `
                        <h4 class="text-lg font-bold text-blue-700">오류 신고 방법 안내</h4>
                        <p class="text-sm">누리집 이용 중 발생한 오류나 불편 사항을 신고해 주시면 신속하게 조치하겠습니다. 오류 발생 시점, 오류 내용(스크린샷 첨부 권장), 브라우저 정보 등을 상세히 기재해 주시기 바랍니다.</p>
                        <div class="bg-slate-100 p-3 rounded-md text-sm">
                            <p><strong>신고 이메일:</strong> webmaster@hyobin.go.kr</p>
                            <p><strong>담당 부서:</strong> 정보화담당관</p>
                        </div>
                    `;
                    break;
                case 'directions':
                    title = '오시는 길 (효빈광역시청)';
                    content = `
                        <h4 class="text-lg font-bold text-blue-700">효빈광역시청 주소 및 교통편</h4>
                        <p class="text-sm"><strong>주소:</strong> (우) 79791 효빈광역시 북구 효빈로 79 (고송8동)</p>
                        <h4 class="text-lg font-bold text-blue-700 mt-4">대중교통 안내</h4>
                        <ul class="list-disc list-inside ml-4 text-sm space-y-1">
                            <li>지하철: 1호선 시청역 하차, 3번 출구 도보 5분</li>
                            <li>버스: 777번, 888번, 시티투어 버스 '시청 앞' 정류장 하차</li>
                        </ul>
                        <div class="mt-4 bg-slate-200 h-48 flex items-center justify-center rounded-lg text-slate-500 font-bold">
                            [이 구역에 지도 API가 표시됩니다.]
                        </div>
                    `;
                    break;
                default:
                    title = '안내 정보';
                    content = '<p class="text-center">선택된 정보가 없습니다.</p>';
            }
            return { title, content };
        }

        /**
         * 푸터 링크 클릭 이벤트를 처리하고 모달을 엽니다.
         * @param {Event} event - 클릭 이벤트 객체
         * @param {string} policyType - 정책 유형 (data-policy 값)
         */
        function handleFooterLink(event, policyType) {
            event.preventDefault(); // 기본 링크 이동 방지
            const { title, content } = getModalContent(policyType);
            openModal(title, content);
        }

        // 페이지 로드 시 초기 페이지 설정 및 다크 모드 초기화
        window.onload = () => {
             initializeDarkMode(); // 다크 모드 초기화 전에 언어 초기화를 포함시킵니다.
             changePage(0);
        };
    </script>
</body>

</html>


